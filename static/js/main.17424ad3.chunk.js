(this.webpackJsonpRCNode=this.webpackJsonpRCNode||[]).push([[0],{163:function(e,t,a){e.exports=a.p+"static/media/houses_beautiful_beach_photo_wallpaper.b764c878.jpg"},237:function(e,t,a){e.exports=a(397)},296:function(e,t,a){},298:function(e,t,a){},306:function(e,t,a){},307:function(e,t,a){},309:function(e,t,a){},310:function(e,t,a){},371:function(e,t,a){},372:function(e,t,a){},373:function(e,t,a){},394:function(e,t,a){},395:function(e,t,a){},396:function(e,t,a){},397:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),o=a.n(c),i=a(3),l=a(54),s=a(22),u=a(10),m=a(24),d=a(56),p=a(6),f=a(158),b=a.n(f),g=function(e){return b()(e,4)},h=a(7),E={},v={tab:Object(p.a)({all:{path:"/",name:"\u5168\u90e8",isTopicType:!1},good:{path:"/?tab=good",name:"\u7cbe\u534e",isTopicType:!1},share:{path:"/?tab=share",name:"\u5206\u4eab",isTopicType:!0},ask:{path:"/?tab=ask",name:"\u95ee\u7b54",isTopicType:!0},job:{path:"/?tab=job",name:"\u62db\u8058",isTopicType:!0},dev:{path:"/?tab=dev",name:"\u6d4b\u8bd5",isTopicType:!0}},E),topic:{path:"/topic",name:"\u4e3b\u9898"},user:{path:"/user",name:"\u7528\u6237"}},O=[],j={},y=v.tab;for(var w in y)"object"===typeof y&&(O.push(Object(p.a)({},y[w],{tab:w})),j=Object(p.a)({},j,Object(h.a)({},w,y[w])));var x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.pathname,n=t.search;return!!e&&e==="".concat(a).concat(n)},N=[],k=v.tab;for(var C in k)k[C].isTopicType&&N.push(C);var S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.pathname,a=e.search,n=void 0===a?"":a,r=n.match(/\?tab=(\w+)/);return r?r[1]:"/"===t?"all":null},T=function(e){if(e instanceof Array)return e.map((function(e){return"(".concat(e,")")})).join("|")},_=function(){var e=["/?"];for(var t in v)"tab"===t?e.push("/\\?tab=(".concat(T(Object.keys(v[t])),")")):e.push("/".concat(t,"/\\w+"));return T(e)}(),R=function(e){var t="^(http(s)?://)?(www.)?".concat("cnodejs.org","(").concat(_,")$"),a=new RegExp(t,"i");return e.replace(a,(function(e,t,a,n,r){var c="cnodejs.org";return"undefined"!==typeof window&&(t=t&&"".concat(window.location.protocol,"//"),c=window.location.host),"".concat(t=t||"").concat(c).concat("/RCNode").concat(r)}))},A=a(159),I=a.n(A),M=function(e){var t=e.open,a=e.response,n=void 0===a?{}:a;return t||I.a.isEmpty(n)},L={accesstoken:void 0,avatar:void 0,uname:void 0,uid:void 0,isAuthed:!1},P=JSON.parse(localStorage.getItem("AUTH"));P=null!==P&&g(P.accesstoken)?Object(p.a)({},P,{isAuthed:!0}):L;var H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.data;switch(a){case"UPDATE_AUTH":n.isAuthed;var r=Object(i.a)(n,["isAuthed"]);return localStorage.setItem("AUTH",JSON.stringify(Object(p.a)({},r))),Object(p.a)({},n);case"DELETE_AUTH":return localStorage.removeItem("AUTH"),L;default:return e}},z={count:0},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.data;switch(a){case"READ_MESSAGE":var r=e.count;return{count:r=Math.max(--r,0)};case"READ_ALL_MESSAGE":return z;case"UPDATE_MESSAGE":return{count:n};case"CLEAN_MESSAGE":return z;default:return e}},U={open:!1},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.data;switch(a){case"OPEN_EDITOR":var r=n.action,c=Object(i.a)(n,["action"]);return Object(p.a)({open:!0,action:r||"create"},c);case"CLOSE_EDITOR":return Object(p.a)({},n,{open:!1});default:return e}},W={url:"",open:!1},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.data;switch(a){case"OPEN_SHARE":return"string"===typeof n&&(n={url:n,post:null}),Object(p.a)({},n,{open:!0});case"CLOSE_SHARE":return Object(p.a)({},e,{open:!1});default:return e}},G={open:!1},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.data;switch(a){case"OPEN_ZOOM":return Object(p.a)({},n,{open:!0});case"CLOSE_ZOOM":return Object(p.a)({},e,{open:!1});default:return e}},Y={message:"",status:"success",open:!1},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.data;switch(a){case"OPEN_NOTIFICATION":return"string"===typeof n&&(n={message:n,status:"success"}),Object(p.a)({},n,{open:!0});case"CLOSE_NOTIFICATION":return Object(p.a)({},e,{open:!1});default:return e}},$={autoFollow:!0,themeMode:"light",cardPreview:!1,time:0},q=JSON.parse(localStorage.getItem("SETTINGS"))||{},J=q,K=J.autoFollow,Q=void 0===K||K,Z=J.themeMode,ee=void 0===Z?"light":Z,te=J.cardPreview,ae=void 0!==te&&te,ne=J.time;q={autoFollow:Q,themeMode:ee,cardPreview:ae,time:void 0===ne?0:ne};var re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.data;switch(a){case"UPDATE_SETTINGS":return localStorage.setItem("SETTINGS",JSON.stringify(Object(p.a)({},n))),Object(p.a)({},n);case"RESTORE_SETTINGS":return localStorage.removeItem("SETTINGS"),$;default:return e}},ce=JSON.parse(localStorage.getItem("THEME")),oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_COLORS":return Object(p.a)({},t.data);default:return e}},ie=Object(d.c)({auth:H,message:B,editor:D,share:F,zoom:V,notification:X,settings:re,colors:oe}),le=Object(d.d)(ie,d.a.apply(void 0,Object(m.a)([]))),se=a(450),ue=a(210),me=a(398),de=a(160),pe=a.n(de),fe=(a(250),a(251),a(252),a(253),a(254),a(255),a(256),a(257),a(258),a(259),a(260),a(261),a(262),a(263),a(264),a(265),a(266),a(267),a(268),a(269),a(270),a(271),a(272),a(273),a(274),a(275),a(276),a(132)),be=a.n(fe),ge=a(133),he=a.n(ge),Ee=pe.a,ve={h:"c",rb:"ruby",py:"python",sh:"bash",yml:"yaml",golang:"go",dockerfile:"docker",tex:"latex",bat:"batch",ps1:"powershell",psm1:"powershell"},Oe=document.querySelector("#prismjs"),je={primary:{main:"#0082ea",dark:"#0376d2",light:"#2092ec"},background:{default:"#f4f4f4"}},ye={primary:{main:"#0963ab",contrastText:"#ccc"},secondary:{main:"#ab003d",contrastText:"#ccc"},action:{active:"#ccc"},text:{primary:"#ccc"},background:{default:"#212121"},divider:"rgba(128,128,128,.12)"},we=function(e){var t=Object(me.a)("(prefers-color-scheme: light)")?"light":"dark",a=Object(u.c)((function(e){return e.settings})),n=a.autoFollow,c=a.themeMode,o=n?t:c;r.a.useEffect((function(){!function(e){Oe.textContent=e}("light"===o?be.a:he.a)}),[o]);var i=r.a.useMemo((function(){return Object(ue.a)({palette:Object(p.a)({},"light"===o?je:ye,{type:o})})}),[o]);return r.a.useEffect((function(){0}),[i]),r.a.createElement(se.a,{theme:i},e.children)},xe=function(){var e=Object(l.h)(),t=e.pathname,a=e.search;return r.a.useEffect((function(){window.scrollTo(0,0)}),[t,a]),null},Ne=a(162),ke=a(452),Ce=Object(Ne.a)((function(e){return{root:{position:"fixed",top:0,left:0,right:0}}})),Se=function(){var e=Ce();return r.a.createElement("div",{className:e.root},r.a.createElement(ke.a,null))},Te=a(9),_e=a(466),Re=function(e,t){if("html"===e)e=document.documentElement;else if("body"===e)e=document.body;else if(!document.body.contains(e))return;t=Object.assign({id:null,class:null},t),Object.keys(t).forEach((function(a){var n=t[a];Boolean(n)?e.setAttribute(a,n):e.removeAttribute(a)}))},Ae=a(2),Ie=a(462),Me=a(490),Le=a(463),Pe=a(464),He=a(212),ze=a(175),Be=a.n(ze),Ue=a(11),De=a.n(Ue),We=a(18),Fe=a(86),Ge=a.n(Fe),Ve=a(163),Ye=a.n(Ve),Xe=Ge.a.create({timeout:3300}),$e={copyright:"\u9ed8\u8ba4\u80cc\u666f",url:Ye.a},qe=function(){var e=Object(We.a)(De.a.mark((function e(t){var a,n;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://bing.fansaly.com",e.prev=1,e.next=4,Xe.get(t);case 4:return a=e.sent,n=a.data,e.abrupt("return",n);case 9:return e.prev=9,e.t0=e.catch(1),console.warn("Get Bing's image failed."),e.abrupt("return",Object(p.a)({},$e,{time:(new Date).toISOString()}));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),Je=Ge.a.create({baseURL:"https://cnodejs.org/api/v1",timeout:0}),Ke=function(){var e=Object(We.a)(De.a.mark((function e(t){var a,n,r,c,o,i,l,s,u,m;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.url,n=t.method,r=void 0===n?"GET":n,c=t.params,o=void 0===c?{}:c,o="GET"===r?{params:o}:{data:o},e.prev=2,e.next=5,Je(Object(p.a)({method:r,url:a},o));case 5:return i=e.sent,l=i.data,e.abrupt("return",{success:!0,data:"GET"===r?l.data:l});case 10:if(e.prev=10,e.t0=e.catch(2),s=e.t0.response,Boolean(s)){e.next=15;break}return e.abrupt("return",{success:!1,err_msg:"\u53d1\u751f\u5f02\u5e38"});case 15:return s.status,u=s.data.error_msg,m=void 0===u?"":u,e.abrupt("return",{success:!1,err_msg:(Boolean(m),m)});case 17:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),Qe=function(){var e=Object(We.a)(De.a.mark((function e(t){var a,n;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.url,n=t.params,e.next=3,Ke({method:"GET",url:a,params:n});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ze=function(){var e=Object(We.a)(De.a.mark((function e(t){var a,n;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.url,n=t.params,e.next=3,Ke({method:"POST",url:a,params:n});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),et=a(453),tt=a(459),at=a(493),nt=a(401),rt=a(121),ct=a(72),ot=a(399),it=a(456),lt=a(455),st=a(457),ut=a(458),mt=a(89),dt=a.n(mt),pt=a(165),ft=a.n(pt),bt=a(166),gt=a.n(bt),ht=a(167),Et=a.n(ht),vt=a(87),Ot="-2 -2 20 20",jt="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z",yt="\n  M 19 3\n  c 1.1 0 2 0.9 2 2\n  v 4\n  h -2\n  V 5\n  H 5\n  v 14\n  h 14\n  v -4\n  h 2\n  v 4\n  c 0 1.11 -0.9 2 -2 2\n  H 5\n  c -1.11 0 -2 -0.9 -2 -2\n  V 5\n  c 0 -1.1 0.89 -2 2 -2\n  Z\n\n  M 13.09 15.59\n  L 14.5 17\n  l 5 -5\n  l -5 -5\n  l -1.41 1.41\n  L 15.67 11\n  h -9.67\n  v 2\n  h 9.67\n  l -2.58 2.59\n  Z\n".replace(/\s{2,}/g," ").trim(),wt=r.a.createElement(vt.a,{viewBox:Ot},r.a.createElement("path",{d:jt})),xt=r.a.createElement(vt.a,null,r.a.createElement("path",{d:yt}));function Nt(){return(Nt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var kt=function(e){e.styles;var t=Object(i.a)(e,["styles"]);return r.a.createElement("svg",Nt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},t),r.a.createElement("path",{fill:"#4AC6C6",d:"M12 24C5.4 24 0 18.6 0 12S5.4 0 12 0s12 5.4 12 12-5.4 12-12 12z"}),r.a.createElement("path",{fill:"#FFF",d:"M11.9 4.5c-4.1.1-7.3 3.6-7.3 7.7v5.5c0 1 1.1 1.6 1.9 1.1.5-.3.9-.6 1.8-.6 1.9 0 1.9 1.3 3.7 1.3s1.9-1.3 3.7-1.3c.9 0 1.3.3 1.8.6.8.5 1.9-.1 1.9-1.1V12c.1-4.2-3.3-7.6-7.5-7.5z"}),r.a.createElement("circle",{fill:"#2A5083",cx:"9.5",cy:"10.1",r:".6"}),r.a.createElement("circle",{fill:"#2A5083",cx:"14.5",cy:"10.1",r:".6"}),r.a.createElement("path",{fill:"#2A5083",d:"M12 15.3c1.2 0 2.3-.8 2.6-1.9.1-.5-.2-.9-.7-.9H10c-.5 0-.8.5-.7.9.4 1.1 1.5 1.9 2.7 1.9z"}),r.a.createElement("path",{fill:"#FF4E4A",d:"M12 13.9c-.7 0-1.2.4-1.6.9.4.3 1 .5 1.6.5.6 0 1.1-.2 1.5-.5-.3-.5-.8-.9-1.5-.9z"}),r.a.createElement("path",{fill:"#DBF4F4",d:"M6.5 18.8c.4-.3.8-.6 1.7-.6v-.6c0-2.5-1.5-4.6-3.6-5.5v5.7c-.1.9 1 1.5 1.9 1zM16.3 18.3c.6.1.9.3 1.3.6.8.5 1.9-.1 1.9-1.1v-3.5c-1.6.9-2.7 2.3-3.2 4z"}))},Ct=(a(296),Object(Ne.a)((function(e){return{badge:{"&:before, &:after":{content:'""',position:"absolute",top:0,right:0,marginTop:6,marginRight:6,width:6,height:6,borderRadius:"50%",opacity:0,transition:"opacity .3s linear"},"&.has-message:before":{opacity:1,backgroundColor:"rgba(128, 189, 1, .85)",boxShadow:"0 0 4px rgba(0, 0, 0, .15)"},"&.has-message:after":{animation:"$ripple 1.2s infinite ease-in-out",border:"1px solid #44b700"}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}},hidden:{"& span":{visibility:"hidden"}}}}))),St=function(){var e=Object(u.c)((function(e){return e.auth})),t=e.isAuthed,a=e.accesstoken,n=e.uname,c=e.avatar,o=Object(u.c)((function(e){return e.settings})).time,i=Object(u.c)((function(e){return e.message})),s=Object(u.b)(),m=Object(l.g)(),d=Ct(),p=r.a.useRef(null),f=r.a.useRef(null),b=r.a.useRef(),g=r.a.useRef(null),E=r.a.useState(!1),v=Object(Te.a)(E,2),O=v[0],j=v[1],y=function(e){g.current.contains(e.target)||j(!1)},w=function(e){y(e),m.push("/user/".concat(n))},x=function(e){var t=m.location.pathname;y(e),"/message"===t?m.replace("/message"):m.push("/message")},N=function(e){y(e),m.push("/settings")},k=function(e){y(e),m.push("/signin")},C=function(e){y(e),clearTimeout(f.current),f.current=setTimeout((function(){s({type:"DELETE_AUTH"}),s({type:"CLEAN_MESSAGE"})}),330)};return r.a.useEffect((function(){return function(){return clearTimeout(f.current)}}),[]),r.a.useEffect((function(){b.current=!1,clearTimeout(p.current);var e=function(){var n=Object(We.a)(De.a.mark((function n(){var r,c,i,l;return De.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return");case 2:return r={url:"/message/count",params:{accesstoken:a}},n.next=5,Qe(r);case 5:if(c=n.sent,i=c.success,l=c.data,!b.current){n.next=10;break}return n.abrupt("return");case 10:i&&s({type:"UPDATE_MESSAGE",data:l}),o>0&&(p.current=setTimeout((function(){e()}),1e3*o));case 12:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return e(),function(){b.current=!0,clearTimeout(p.current)}}),[t,a,s,o]),r.a.createElement(et.a,{item:!0,className:"flex"},r.a.createElement(et.a,{container:!0,alignContent:"center",alignItems:"center",justify:"center",className:t?"info":"signin"},r.a.createElement(He.a,{buttonRef:function(e){g.current=e},"aria-owns":O?"menu-list-grow":null,"aria-haspopup":"true",onClick:function(){j((function(e){return!e}))},className:Object(Ae.a)("me",d.badge,{"has-message":Boolean(i.count)})},r.a.createElement(at.a,{className:"flex avatar"},t?r.a.createElement("img",{src:c,alt:"U"}):r.a.createElement(kt,null))),r.a.createElement(ot.a,{open:O,anchorEl:g.current,transition:!0,disablePortal:!0},(function(e){var a=e.TransitionProps,n=e.placement;return r.a.createElement(rt.a,Object.assign({},a,{id:"menu-list-grow",style:{transformOrigin:"bottom"===n?"center top":"center bottom"}}),r.a.createElement(ct.a,null,r.a.createElement(nt.a,{onClickAway:y},r.a.createElement(lt.a,null,t&&r.a.createElement(it.a,{onClick:w},r.a.createElement(st.a,null,r.a.createElement(dt.a,null)),r.a.createElement(ut.a,{primary:"\u8d44\u6599"})),t&&r.a.createElement(it.a,{onClick:x},r.a.createElement(st.a,null,r.a.createElement(tt.a,{badgeContent:i.count,className:Object(Ae.a)("badge",Object(h.a)({},d.hidden,i.count<=0))},r.a.createElement(ft.a,null))),r.a.createElement(ut.a,{primary:"\u6d88\u606f"})),r.a.createElement(it.a,{onClick:N},r.a.createElement(st.a,null,r.a.createElement(gt.a,null)),r.a.createElement(ut.a,{primary:"\u8bbe\u7f6e"})),t?r.a.createElement(it.a,{onClick:C},r.a.createElement(st.a,null,xt),r.a.createElement(ut.a,{primary:"\u9000\u51fa"})):r.a.createElement(it.a,{onClick:k},r.a.createElement(st.a,null,r.a.createElement(Et.a,null)),r.a.createElement(ut.a,{primary:"\u767b\u5f55"}))))))}))))},Tt=a(20);function _t(){return(_t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var Rt=function(e){e.styles;var t=Object(i.a)(e,["styles"]);return r.a.createElement("svg",_t({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 427.3 100.4"},t),r.a.createElement("path",{id:"cell-n",fillRule:"evenodd",clipRule:"evenodd",fill:"#46483E",d:"M127.987 52.994c0-1.084-.57-2.08-1.506-2.617l-24.937-14.352a2.934 2.934 0 00-1.373-.396h-.258a2.973 2.973 0 00-1.377.396L73.598 50.377a3.023 3.023 0 00-1.508 2.617l.055 38.644c0 .538.279 1.038.752 1.301a1.446 1.446 0 001.496 0l14.821-8.485a3.036 3.036 0 001.507-2.613V63.784a3 3 0 011.504-2.606l6.311-3.636a3 3 0 013.008 0l6.308 3.636a3 3 0 011.506 2.606V81.84c0 1.074.578 2.062 1.51 2.613l14.816 8.485a1.464 1.464 0 001.506 0c.459-.263.748-.763.748-1.301l.049-38.643z"}),r.a.createElement("path",{id:"cell-d",fillRule:"evenodd",clipRule:"evenodd",fill:"#46483E",d:"M261.147-.129a1.508 1.508 0 00-2.241 1.315v38.271c0 .376-.201.724-.525.913a1.06 1.06 0 01-1.056 0l-6.246-3.599a3.013 3.013 0 00-3.01.001L223.122 51.17a3.007 3.007 0 00-1.506 2.607v28.801c0 1.076.573 2.07 1.505 2.609l24.946 14.408a3.011 3.011 0 003.014 0l24.95-14.408a3.012 3.012 0 001.506-2.609V10.786a3.013 3.013 0 00-1.545-2.631L261.147-.129zm-2.314 73.244c0 .27-.145.519-.378.651l-8.564 4.938a.749.749 0 01-.752 0l-8.566-4.938a.752.752 0 01-.377-.651v-9.891c0-.269.145-.517.376-.651l8.566-4.947a.752.752 0 01.754 0l8.564 4.947a.756.756 0 01.377.651v9.891z"}),r.a.createElement("path",{id:"cell-e",fillRule:"evenodd",clipRule:"evenodd",fill:"#46483E",d:"M350.4 62.966a3.011 3.011 0 001.499-2.604v-6.979a3.012 3.012 0 00-1.5-2.605l-24.787-14.392a3.015 3.015 0 00-3.02-.004l-24.938 14.397a3.012 3.012 0 00-1.506 2.609v28.793c0 1.083.58 2.081 1.521 2.616l24.783 14.122a3.015 3.015 0 002.954.018l14.989-8.332c.477-.266.772-.765.774-1.308a1.503 1.503 0 00-.755-1.315L315.32 73.576a1.503 1.503 0 01-.758-1.306v-9.024c0-.538.287-1.036.755-1.304l7.811-4.504a1.505 1.505 0 011.503 0l7.815 4.504c.467.268.754.766.754 1.304v7.101a1.507 1.507 0 002.263 1.303l14.937-8.684z"}),r.a.createElement("path",{id:"cell-o",fillRule:"evenodd",clipRule:"evenodd",fill:"#80bd01",d:"M173.35 36.23a3.012 3.012 0 013.012 0l24.943 14.395a3.008 3.008 0 011.508 2.609v28.811a3.014 3.014 0 01-1.506 2.61L176.363 99.06a3.016 3.016 0 01-3.014 0l-24.938-14.405a3.014 3.014 0 01-1.506-2.61V53.233c0-1.076.574-2.071 1.507-2.608L173.35 36.23z"}),r.a.createElement("path",{id:"cell-j",fill:"#80bd01",d:"M398.833 99.472a4.941 4.941 0 01-2.468-.66l-7.853-4.646c-1.172-.656-.601-.888-.213-1.023 1.563-.543 1.881-.668 3.551-1.614.173-.099.404-.062.584.045l6.033 3.582a.775.775 0 00.728 0l23.522-13.577a.739.739 0 00.358-.636V53.796a.757.757 0 00-.364-.647l-23.513-13.565a.736.736 0 00-.724 0L374.97 53.152a.754.754 0 00-.373.644v27.146c0 .26.144.506.371.629l6.442 3.722c3.496 1.748 5.638-.31 5.638-2.379v-26.8c0-.379.305-.678.683-.678h2.983a.68.68 0 01.682.678v26.8c0 4.666-2.541 7.342-6.965 7.342-1.36 0-2.43 0-5.418-1.472l-6.168-3.551a4.97 4.97 0 01-2.467-4.291V53.796c0-1.763.942-3.41 2.467-4.287l23.521-13.592c1.489-.841 3.468-.841 4.944 0l23.519 13.592a4.967 4.967 0 012.472 4.287v27.146a4.979 4.979 0 01-2.472 4.291L401.31 98.812a4.944 4.944 0 01-2.477.66"}),r.a.createElement("path",{id:"cell-s",fill:"#80bd01",d:"M406.099 80.771c-10.294 0-12.449-4.725-12.449-8.687 0-.377.303-.678.68-.678h3.041a.68.68 0 01.675.575c.459 3.097 1.828 4.658 8.054 4.658 4.954 0 7.064-1.121 7.064-3.75 0-1.515-.598-2.64-8.299-3.394-6.437-.638-10.416-2.06-10.416-7.208 0-4.745 4-7.576 10.707-7.576 7.535 0 11.263 2.615 11.736 8.227a.688.688 0 01-.181.523.692.692 0 01-.498.217h-3.052a.679.679 0 01-.661-.531c-.731-3.258-2.513-4.299-7.345-4.299-5.41 0-6.039 1.885-6.039 3.297 0 1.711.742 2.209 8.047 3.176 7.229.955 10.662 2.309 10.662 7.39 0 5.125-4.274 8.06-11.726 8.06"}),r.a.createElement("path",{id:"cell-.",fillRule:"evenodd",clipRule:"evenodd",fill:"#80bd01",d:"M323.735 61.618a.573.573 0 01.577 0l4.787 2.762c.18.103.289.294.289.5v5.527a.577.577 0 01-.289.501l-4.787 2.763a.577.577 0 01-.577 0l-4.783-2.763a.577.577 0 01-.289-.501V64.88c0-.206.109-.397.289-.5l4.783-2.762z"}),r.a.createElement("path",{id:"cell-c",fillRule:"evenodd",clipRule:"evenodd",fill:"#46483E",d:"M36.28 61.87c1.098.65 1.358.255 1.742.035.385-.221 14.695-8.411 15.606-8.857.912-.446 1.315-1.915.114-2.61-1.201-.697-25.41-14.721-24.241-14.12 1.259.646-1.202-.829-2.626-.175-1.425.654-23.231 13.192-24.777 14.075-1.545.883-2.032 1.731-2.027 2.907.004 1.176-.078 27.253 0 28.801.078 1.548.69 2.052 1.506 2.609.816.558 22.901 13.505 24.572 14.41 1.671.907 2.768.597 3.853-.04 1.085-.639 22.727-13.003 23.593-13.554.866-.551 1.653-1.969-.157-2.992-1.811-1.022-14.779-8.693-15.279-8.943s-.796-.255-1.52.151c-.724.408-7.222 4.062-8.013 4.524s-.904.254-1.283.033c-.378-.222-7.085-4.135-7.859-4.571s-.866-.656-.868-1.25c-.001-.593-.018-8.121.023-8.998.04-.877.165-1.074.962-1.548.797-.474 6.695-3.978 7.166-4.293.47-.315 1.459-.345 2.231.108.772.452 6.184 3.647 7.282 4.298"}))},At="& ";At+=["#cell-c","#cell-n","#cell-d","#cell-e"].join(",& ");var It=Object(Ne.a)({light:Object(h.a)({},At,{fill:"#fff"}),lightVariant:Object(h.a)({},At,{fill:"#ccc"})}),Mt=function(e){var t=Object(Tt.a)(),a=It(),n=e.className,c=e.reverse,o=e.color,i=(Boolean(o)?"light"===o:Boolean(c)?"light"!==t.palette.type:"light"===t.palette.type)&&("light"===t.palette.type?a.light:a.lightVariant);return r.a.createElement(Rt,{className:Object(Ae.a)(i,n)})},Lt=a(460),Pt=(a(298),Object(Ne.a)((function(e){return{root:{"& .type":{color:"".concat("light"===e.palette.type?"#fff":"#ccc"," !important")}}}}))),Ht=function(){var e=Pt(),t=function(e){return function(t,a){return x(e,a)}};return r.a.createElement(et.a,{container:!0,justify:"center",alignItems:"center",className:"type-content"},O.map((function(a){var n=a.path,c=a.name;return r.a.createElement(s.c,{to:n,key:n,activeClassName:"".concat(e.root," current"),isActive:t(n)},r.a.createElement(Lt.a,{className:"type",disableFocusRipple:!0},c))})))},zt=a(491),Bt=a(402),Ut=a(403),Dt=a(169),Wt=a.n(Dt),Ft=a(170),Gt=a.n(Ft),Vt=a(171),Yt=a.n(Vt),Xt=a(172),$t=a.n(Xt),qt=a(52),Jt=a.n(qt),Kt=a(173),Qt=a.n(Kt),Zt=a(174),ea=a.n(Zt),ta=a(168),aa=a.n(ta),na=function(e){var t=e.all,a=e.good,n=e.top,c=e.tab,o=Object(i.a)(e,["all","good","top","tab"]),l=r.a.createElement(aa.a,o);if(t)l=r.a.createElement(Wt.a,o);else if(n)l=r.a.createElement(Gt.a,o);else if(a)l=r.a.createElement(Yt.a,o);else switch(c){case"ask":l=r.a.createElement($t.a,o);break;case"share":l=r.a.createElement(Jt.a,o);break;case"job":l=r.a.createElement(Qt.a,o);break;case"dev":l=r.a.createElement(ea.a,o)}return l},ra=Object(Ne.a)((function(e){var t;return{drawerPaper:{width:214,backgroundColor:"light"===e.palette.type?"rgba(255,255,255,.96)":"rgba(66,66,66,.98)"},toolbar:Object(p.a)({display:"flex",alignItems:"center",justifyContent:"flex-start"},e.mixins.toolbar),logo:(t={paddingLeft:16},Object(h.a)(t,e.breakpoints.up("sm"),{paddingLeft:24}),Object(h.a)(t,"& svg",{height:32,marginBottom:2}),t),spacing:{marginRight:6}}})),ca=function(e){var t=ra(),a=Object(l.g)(),n=Object(l.h)(),c=function(e){return x(e,n)},o=function(){e.onClose()};return r.a.createElement(zt.a,{open:e.open,variant:"temporary",onClose:o,onOpen:function(){},classes:{paper:t.drawerPaper},ModalProps:{keepMounted:!0}},r.a.createElement("div",{className:"".concat(t.toolbar," ").concat(t.logo)},r.a.createElement(Mt,{reverse:!0})),r.a.createElement(Bt.a,null,O.map((function(e){var n=e.tab,i=e.path,l=e.name;return r.a.createElement(Ut.a,{button:!0,key:n,component:"a",selected:c(i),onClick:function(e){return function(e){a.push(e),o()}(i)}},r.a.createElement(st.a,{className:t.spacing},r.a.createElement(na,{color:"inherit",all:"all"===n,good:"good"===n,tab:n})),r.a.createElement(ut.a,{primary:l}))}))))},oa=a(90),ia=(a(306),Object(Ne.a)((function(e){return{header:"light"===e.palette.type?{backgroundColor:"#2196f3",backgroundImage:"linear-gradient(150deg, #21d6f3, #2196f3 28%, #ff7ed7 110%)","@media (max-width: 960px)":{backgroundImage:"linear-gradient(150deg, #21d6f3, #2196f3 32%, #ff7ed7 106%)"},"@media (max-width: 768px)":{backgroundImage:"linear-gradient(150deg, #21d6f3, #2196f3 34%, #ff7ed7 104%)"},"@media (max-width: 500px)":{backgroundImage:"linear-gradient(150deg, #21d6f3, #2196f3 36%, #ff7ed7 102%)"}}:{backgroundColor:"#363636"},toolbar:Object(p.a)({display:"flex",alignItems:"center",justifyContent:"flex-start"},e.mixins.toolbar),navPlaceholder:{height:48,"@media (max-width: 768px)":{height:38}},navHidden:{height:0}}}))),la=Object(Ie.a)()((function(e){var t=e.width,a=ia(),n=Object(l.h)(),c=r.a.useState({isMobile:!1,navHidden:!1,drawerOpen:!1}),o=Object(Te.a)(c,2),i=o[0],u=o[1],m=function(){var e=i.navHidden,a=i.drawerOpen;Object(Ie.c)("md",t)?(e=!e,a=!1):a=!a,u((function(t){return Object(p.a)({},t,{navHidden:e,drawerOpen:a})}))};return r.a.useEffect((function(){var e="/"!==n.pathname;u((function(t){return Object(p.a)({},t,{navHidden:e})}))}),[n]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:a.toolbar}),r.a.createElement("div",{className:Object(Ae.a)(a.navPlaceholder,Object(h.a)({},a.navHidden,!Object(Ie.c)("md",t)||i.navHidden||i.drawerOpen))}),r.a.createElement(Le.a,{id:"header",className:a.header,position:"fixed"},r.a.createElement(Pe.a,{onClick:function(e){e.target===e.currentTarget&&oa.animateScroll.scrollTo(0,{duration:500,smooth:"easeInOutQuart"})}},r.a.createElement(He.a,{color:"inherit",onClick:m},r.a.createElement(Be.a,null)),r.a.createElement("div",{id:"logo"},r.a.createElement(Me.a,{xsDown:!0},r.a.createElement(s.b,{to:"/"},r.a.createElement(Mt,{className:"logo",color:"light"})))),r.a.createElement(St,null)),r.a.createElement(Me.a,{smDown:!0,implementation:"css"},!i.navHidden&&r.a.createElement(Ht,null))),r.a.createElement(Me.a,{mdUp:!0},r.a.createElement(ca,{open:i.drawerOpen,onClose:m})))})),sa=a(465);function ua(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise((function(t){setTimeout(t,e)}))}var ma=null;function da(){return pa.apply(this,arguments)}function pa(){return(pa=Object(We.a)(De.a.mark((function e(){var t;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,ma){e.next=10;break}return e.next=4,ua(1500);case 4:return e.next=6,fetch("https://raw.githubusercontent.com/Fansaly/RCNode/master/messages.json");case 6:return t=e.sent,e.next=9,t.json();case 9:ma=e.sent;case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(0);case 14:ma=ma||[];case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}var fa=function(){var e=r.a.useState(!1),t=Object(Te.a)(e,2),a=t[0],n=t[1],c=r.a.useState({}),o=Object(Te.a)(c,2),i=o[0],l=o[1],s=function(){var e=function(){var e=localStorage.getItem("lastSeenNotice");return Boolean(e)?parseInt(e,10):0}(),t=ma.filter((function(t){return t.id>e}));t.length>0&&(l(t[0]),n(!0))},u=function(){n(!1),localStorage.setItem("lastSeenNotice",i.id)};return r.a.useEffect((function(){var e=!0;if(!/glebot/.test(navigator.userAgent))return Object(We.a)(De.a.mark((function t(){return De.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,da();case 2:e&&s();case 3:case"end":return t.stop()}}),t)})))(),function(){return e=!1}}),[]),r.a.createElement(sa.a,{key:i.id,anchorOrigin:{vertical:"top",horizontal:"center"},ContentProps:{"aria-describedby":"notification-message"},message:r.a.createElement("span",{id:"notification-message",dangerouslySetInnerHTML:{__html:i.text}}),action:r.a.createElement(Lt.a,{size:"small",color:"secondary",onClick:u},"\u5173\u95ed"),open:a,autoHideDuration:2e4,onClose:u,onExited:s})},ba=(a(307),{title:"RCNode",htmlAttributes:null,bodyAttributes:null,withHeader:!0}),ga=r.a.createContext(null),ha=function(e){var t=r.a.useReducer((function(e,t){var a=t.type,n=t.payload;switch(a){case"CHANGE":return Object(p.a)({},e,{title:n.title||e.title,htmlAttributes:n.htmlAttributes,bodyAttributes:n.bodyAttributes,withHeader:n.withHeader});case"RESET":return Object(p.a)({},ba);default:throw new Error("Unrecognized type ".concat(a))}}),ba),a=Object(Te.a)(t,2),n=a[0],c=a[1],o=n.title,i=n.htmlAttributes,l=n.bodyAttributes,s=n.withHeader;return r.a.useEffect((function(){!function(e){document.title=Boolean(e)?e:"RCNode"}(o)}),[o]),r.a.useEffect((function(){Re("html",i)}),[i]),r.a.useEffect((function(){Re("body",l)}),[l]),r.a.createElement(ga.Provider,{value:c},r.a.createElement(_e.a,null),s&&r.a.createElement(r.a.Fragment,null,r.a.createElement(la,null),r.a.createElement(fa,null)),e.children)},Ea=a(4),va=a.n(Ea),Oa=function(e){var t=function(){var e=r.a.useContext(ga);return r.a.useCallback((function(t){var a=t.reset?"RESET":"CHANGE";e({type:a,payload:t})}),[e])}(),a=e.title,n=e.htmlAttributes,c=e.bodyAttributes,o=e.withHeader,i=void 0===o||o,l=e.reset;return t({title:a,htmlAttributes:n,bodyAttributes:c,withHeader:i,reset:void 0!==l&&l}),e.children};Oa.propTypes={children:va.a.node.isRequired,title:va.a.string,htmlAttributes:va.a.object,bodyAttributes:va.a.object,withHeader:va.a.bool,reset:va.a.bool};var ja=Oa,ya=a(467),wa=a(470),xa=a(468),Na=a(68),ka=a(469),Ca=a(92),Sa=a.n(Ca),Ta=a(177),_a=a.n(Ta),Ra=a(176),Aa=a.n(Ra),Ia=a(91),Ma=a.n(Ia),La=Object(Ne.a)((function(e){return{avatar:{"& a":{display:"flex"},"& img":{display:"inline-flex",width:"100%",height:"100%",objectFit:"contain",color:"rgba(255, 255, 255, 0.9)",fontSize:12,lineHeight:0,textIndent:20}}}})),Pa=function(e){var t=La(),a=e.className,n=e.name,c=e.image,o=e.url;return r.a.createElement(at.a,{"aria-label":"Recipe",className:Object(Ae.a)(t.avatar,a)},o?r.a.createElement(s.b,{to:n?o:"/"},c&&r.a.createElement("img",{src:c,alt:n||"\u7528\u6237\u5df2\u6ce8\u9500"})):r.a.createElement("a",null,c&&r.a.createElement("img",{src:c,alt:n||"\u7528\u6237\u5df2\u6ce8\u9500"})))},Ha=a(117),za=a.n(Ha);a(308);za.a.globalLocale="zh-cn";var Ba=za.a,Ua=(a(309),Object(Ne.a)((function(e){return{button:{display:"flex",padding:0,fontWeight:"inherit",fontFamily:"inherit",lineHeight:"inherit",letterSpacing:"inherit",textTransform:"inherit"},expand:{margin:0,transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},title:{"& h5":{color:"light"===e.palette.type?"rgba(0,0,0,.92)":"rgba(200,200,200,.95)"}},state:{color:"light"===e.palette.type?"rgba(0,0,0,.5)":"rgba(125,125,125,.5)","& button":{color:"light"===e.palette.type?"rgba(0,0,0,.4)":"rgba(125,125,125,.4)"}}}}))),Da=Object(Ie.a)()((function(e){var t=e.item,a=e.simple,n=void 0!==a&&a,c=e.className,o=e.width,i=Ua(),d=Object(l.g)(),p=Object(u.c)((function(e){return e.settings})).cardPreview,f=r.a.useState(p),b=Object(Te.a)(f,2),g=b[0],E=b[1],v=[],O=function(e){null!==e&&(v=[].concat(Object(m.a)(v),[e]))};return r.a.createElement(ya.a,{className:Object(Ae.a)("topicard",c,{expanded:!n&&g})},r.a.createElement(Lt.a,{component:"div",className:i.button,onClick:function(e){v.includes(e.target)&&d.push("/topic/".concat(t.id))},disableFocusRipple:!0},r.a.createElement(et.a,{container:!0,alignItems:"center",className:"topicard-header-wrapper"},r.a.createElement(et.a,{container:!0,alignItems:"center",justify:"flex-start",className:"topicard-header",ref:function(e){return O(e)}},r.a.createElement(Pa,{className:"avatar",name:t.author.loginname,image:t.author.avatar_url,url:"/user/".concat(t.author.loginname)}),r.a.createElement(et.a,{container:!0,alignItems:"center",justify:"flex-start",className:"topicard-title"},r.a.createElement(et.a,{item:!0,className:Object(Ae.a)("title",i.title)},!n&&r.a.createElement(et.a,{item:!0,className:"type"},r.a.createElement(He.a,null,r.a.createElement(na,{tab:t.tab,good:t.good,top:t.top}))),r.a.createElement(Na.a,{variant:"h5",ref:function(e){return O(e)}},r.a.createElement(s.b,{to:"/topic/".concat(t.id)},t.title)),!n&&r.a.createElement(xa.a,{className:"action"},r.a.createElement(He.a,{className:Object(Ae.a)(i.expand,Object(h.a)({},i.expandOpen,g)),onClick:function(){E((function(e){return!e}))},"aria-expanded":g,"aria-label":"Show more"},r.a.createElement(Ma.a,null)))))),r.a.createElement(et.a,{container:!0,wrap:"nowrap",alignItems:"center",className:"state-wrapper",ref:function(e){return O(e)}},r.a.createElement(et.a,{container:!0,wrap:"nowrap",alignItems:"center",className:Object(Ae.a)("state",i.state),ref:function(e){return O(e)}},r.a.createElement(et.a,{container:!0,item:!0,zeroMinWidth:!0,wrap:"nowrap",alignItems:"center",ref:function(e){return O(e)}},r.a.createElement(et.a,{item:!0,zeroMinWidth:!0,className:"author"},r.a.createElement(s.b,{to:"/user/".concat(t.author.loginname)},t.author.loginname)),!n&&r.a.createElement(et.a,{item:!0,className:"create"},r.a.createElement(He.a,null,r.a.createElement(Sa.a,null)),r.a.createElement(Ba,{fromNow:!0},t.create_at))),r.a.createElement(et.a,{item:!0,className:"count"},r.a.createElement(et.a,{item:!0,className:"reply"},r.a.createElement(He.a,null,r.a.createElement(Aa.a,null)),n?r.a.createElement(Ba,{fromNow:!0},t.last_reply_at):r.a.createElement("span",null,t.reply_count)),!n&&r.a.createElement(et.a,{item:!0,className:"visit"},r.a.createElement(He.a,null,r.a.createElement(_a.a,null)),r.a.createElement("span",null,t.visit_count))))))),!n&&r.a.createElement(ka.a,{className:"collapse",in:g,timeout:"auto",unmountOnExit:Object(Ie.c)("sm",o)},r.a.createElement(wa.a,{className:"context"},r.a.createElement(Na.a,null,function(e){var t,a=function(e){var t=e.min,a=void 0===t?0:t,n=e.max,r=void 0===n?1:n;return a=Math.ceil(a),r=Math.floor(r),Math.floor(Math.random()*(r-a+1))+a}({min:200,max:400});return(t=e,t.replace(/<[^>]+>/g,"")).substr(0,a)}(t.content)))))})),Wa=Object(Ne.a)((function(e){return{margin:{marginTop:20,"&:first-child":{marginTop:0},"@media (max-width: 768px)":{marginTop:16}}}})),Fa=function(e){var t=e.items,a=e.simple,n=void 0!==a&&a,c=e.className,o=e.classes,l=void 0===o?{}:o,s=Object(i.a)(e,["items","simple","className","classes"]),u=Wa();return r.a.createElement("div",Object.assign({className:Object(Ae.a)(u.margin,c,l.root)},s),t.map((function(e){return r.a.createElement(Da,{className:Object(Ae.a)(l.card),simple:n,item:e,key:e.id})})))},Ga=a(471),Va=a(489),Ya=(a(310),function(e){var t=e.className,a=e.status,n=e.unmountOnExit,c=void 0===n||n;return r.a.createElement(et.a,{item:!0,id:"progress",className:Object(Ae.a)(t)},r.a.createElement(Va.a,{className:"progress loading",classNames:"progress",in:"loading"===a,timeout:{enter:100,exit:550},onExited:function(){var t=e.onExited;Boolean(t)&&t()},unmountOnExit:c},r.a.createElement(Ga.a,{classes:{svg:"loop-color"}})))}),Xa=a(214),$a=a(406),qa=a(118),Ja=a.n(qa),Ka=a(180),Qa=a.n(Ka),Za=a(179),en=a.n(Za),tn=a(178),an=a.n(tn),nn=a(472),rn=a(492),cn=a(473),on=Object(Ne.a)((function(e){return{appbar:{top:"auto",bottom:0,boxShadow:"none"},wrapper:{position:"relative"},action:{position:"absolute",right:e.spacing(3.5),bottom:e.spacing(4)},fabMoveUp:{transform:"translate3d(0, -56px, 0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.enteringScreen,easing:e.transitions.easing.easeOut})},fabMoveDown:{transform:"translate3d(0, 0, 0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.leavingScreen,easing:e.transitions.easing.sharp})}}})),ln=Object(Ie.a)()((function(e){var t,a=e.width,n=e.single,c=void 0!==n&&n,o=e.topic,i=void 0===o?null:o,s=Object(u.c)((function(e){return e.auth})),m=s.isAuthed,d=s.accesstoken,f=s.uname,b=Object(u.c)((function(e){return!e.editor.open})),g=Object(u.c)((function(e){return e.notification.open})),E=Object(u.b)(),v=on(),O=Object(l.i)().topic_id,j=r.a.useRef(!1),y=r.a.useState({favorite:void 0,expanded:!1,shareURL:null}),w=Object(Te.a)(y,2),x=w[0],N=w[1],k=function(){N((function(e){return Object(p.a)({},e,{expanded:!1})}))},C=function(){var e=Object(We.a)(De.a.mark((function e(t){var a,n,r,c,o,l;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=x.favorite,n={url:a?"/topic_collect/de_collect":"/topic_collect/collect",params:{accesstoken:d,topic_id:i.topic_id}},k(),e.next=5,Ze(n);case 5:if(r=e.sent,c=r.success,o=r.err_msg,!j.current){e.next=10;break}return e.abrupt("return");case 10:l=c?a?"\u53d6\u6d88\u6536\u85cf":"\u5df2\u6536\u85cf":{message:o||"\u64cd\u4f5c\u5931\u8d25",status:"error"},c&&N((function(e){return Object(p.a)({},e,{expanded:!0,favorite:!a})})),E({type:"OPEN_NOTIFICATION",data:l});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e={action:"update",url:"/topics/update",tab:i.tab,title:i.title,content:i.content,topic_id:i.topic_id};T(e)},T=function(e){E({type:"OPEN_EDITOR",data:e})};return r.a.useEffect((function(){var e=window.location,t=e.origin,a=e.pathname;return N((function(e){return Object(p.a)({},e,{shareURL:"".concat(t).concat(a)})})),function(){return j.current=!0}}),[]),r.a.useEffect((function(){null!==i&&N((function(e){return Object(p.a)({},e,{favorite:"boolean"===typeof e.favorite?e.favorite:Boolean(i)?i.is_collect:void 0})}))}),[i]),m&&r.a.createElement(Le.a,{color:"default",component:"div",className:v.appbar},r.a.createElement("div",{className:v.wrapper},c?r.a.createElement($a.a,{in:b,unmountOnExit:!0},r.a.createElement(Xa.a,{color:"secondary","aria-label":"Edit",className:v.action,onClick:function(){T({action:"create",url:"/topics"})}},r.a.createElement(Ja.a,null))):Boolean(i)&&r.a.createElement(nn.a,{ariaLabel:"SpeedDial",className:Object(Ae.a)(v.action,(t={},Object(h.a)(t,v.fabMoveUp,!Object(Ie.c)("md",a)&&g),Object(h.a)(t,v.fabMoveDown,!Object(Ie.c)("md",a)&&!g),t)),color:"secondary",hidden:!b,open:x.expanded,onClick:function(e){var t=x.expanded;N((function(e){return Object(p.a)({},e,{expanded:!t})})),t&&f===i.uname&&S()},onClose:k,onMouseEnter:function(){b&&N((function(e){return Object(p.a)({},e,{expanded:!0})}))},onMouseLeave:k,icon:f===i.uname?r.a.createElement(rn.a,{openIcon:r.a.createElement(Ja.a,null)}):r.a.createElement(rn.a,null)},r.a.createElement(cn.a,{icon:r.a.createElement(an.a,null),tooltipTitle:"",onClick:function(e){var t={action:"reply",url:"/topic/".concat(O,"/replies"),reply_id:O,content:""};k(),T(t)}}),r.a.createElement(cn.a,{icon:x.favorite?r.a.createElement(en.a,null):r.a.createElement(Qa.a,null),tooltipTitle:"",onClick:C}),r.a.createElement(cn.a,{icon:r.a.createElement(Jt.a,null),tooltipTitle:"",onClick:function(e){k(),E({type:"OPEN_SHARE",data:x.shareURL})}}))))})),sn=a(405),un=a(181),mn=a.n(un),dn=a(182),pn=a.n(dn),fn=a(183),bn=a.n(fn),gn=a(184),hn=a.n(gn),En=a(65),vn=a.n(En),On=Object(Ne.a)((function(e){return{success:{backgroundColor:"#43a047"},error:{backgroundColor:"#d32f2f"},info:{backgroundColor:"#1976d2"},warning:{backgroundColor:"#ffa000"},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}})),jn={success:mn.a,warning:pn.a,error:bn.a,info:hn.a},yn=function(){var e=On(),t=Object(u.b)(),a=Object(u.c)((function(e){var t=e.notification;return["success","warning","error","info"].includes(t.status)||(t.status="info"),t})),n=a.open,c=a.message,o=a.status,i=r.a.useCallback((function(){t({type:"CLOSE_NOTIFICATION"})}),[t]),l=r.a.useCallback((function(){n&&i()}),[n,i]);r.a.useEffect((function(){return function(){return l()}}),[l]);var s=jn[o],m=(new Date).getTime();return r.a.createElement(sa.a,{key:m,open:n,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:3e3,onClose:i},r.a.createElement(sn.a,{className:e[o],"aria-describedby":"snackbar-message-id",message:r.a.createElement("span",{id:"snackbar-message-id",className:e.message},r.a.createElement(s,{className:"".concat(e.icon," ").concat(e.iconVariant)}),c),action:r.a.createElement(He.a,{color:"inherit",className:e.close,onClick:i},r.a.createElement(vn.a,{className:e.icon}))}))},wn=a(461),xn=a(475),Nn=a(477),kn=a(479),Cn=a(486),Sn=Object(Ne.a)((function(e){return{flex:{margin:0,"& *":{flex:"1 1 auto",minHeight:210,padding:0},"& textarea":{position:"absolute",top:0,left:0,width:"100%",height:"100%",lineHeight:1.3125}}}})),Tn=function(e){var t=e.inputRef,a=Object(i.a)(e,["inputRef"]),n=Sn(),c=a.content,o=a.disabled,l=a.onUpdateContent;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Cn.a,{className:n.flex,margin:"normal",multiline:!0,rows:"3",fullWidth:!0,id:"textarea",placeholder:"\u5199\u4e9b\u4ec0\u4e48\u5462\uff1f",inputRef:t,value:c,disabled:o,onChange:function(e){l(e)}}))},_n=a(185),Rn=a.n(_n),An=a(186),In=a.n(An),Mn=a(187),Ln=a.n(Mn),Pn=a(188),Hn=a.n(Pn),zn=a(189),Bn=a.n(zn),Un=a(190),Dn=a.n(Un),Wn=a(191),Fn=a.n(Wn),Gn=a(192),Vn=a.n(Gn),Yn=new In.a({html:!0,linkify:!0,typographer:!0,quotes:"\u201c\u201d\u2018\u2019",highlight:function(e,t){return t="string"===typeof t&&t.toLocaleLowerCase(),t=ve[t]||t,Object.keys(Ee.languages).includes(t)||(Boolean(t),t="markup"),Ee.highlight(e,Ee.languages[t])}}).use(Ln.a).use(Hn.a).use(Bn.a).use(Dn.a).use(Fn.a).use(Vn.a),Xn=function(e){var t=e.url,a=e.text,n=e.prevSpaces,r=void 0===n?"":n,c=e.nextSpaces,o=void 0===c?"":c,i="".concat("/RCNode","/user/").concat(t);return"".concat(r,'<a target="_blank" href="').concat(i,'">').concat(a,"</a>").concat(o)};Yn.renderer.rules.text=function(e,t,a,n,r){var c=e[t].content;return Boolean(c)&&(c=c.replace(/^(@([\w\-_]+))$/,Xn({url:"$2",text:"$1"})).replace(/(\s+)(@([\w\-_]+))/g,Xn({url:"$3",text:"$2",prevSpaces:"$1"})).replace(/(@([\w\-_]+))(\s+)/g,Xn({url:"$2",text:"$1",nextSpaces:"$3"}))),c},Yn.renderer.rules.link_open=function(e,t,a,n,r){e[t].attrPush(["target","_blank"]);var c=e[t].attrIndex("href"),o=R(e[t].attrs[c][1]);/^\/\w+.*$/.test(o)?e[t].attrs[c][1]="".concat("/RCNode").concat(o):e[t].attrs[c][1]=o;for(var i=e.length-1;i>=0;i--){var l=e[i],s=l.type,u=l.level,m=l.content;"text"===s&&0!==u&&(e[i].content=R(m))}return r.renderToken(e,t,a)};var $n=Yn,qn=["style","script","textarea","noscript"],Jn=function(e){return Rn()($n.render(e),{allowedTags:!1,exclusiveFilter:function(e){return qn.includes(e.tag)}})},Kn=(a(370),a(371),Object(Ne.a)((function(e){return{root:"light"===e.palette.type?{color:"#24292e","& code":{backgroundColor:"rgba(27,31,35,.05)"},"& pre, & .highlight pre":{backgroundColor:"#f6f8fa"},"& blockquote":{borderLeftColor:"#dfe2e5"},"& h1, & h2":{borderBottomColor:"#eaecef"},"& img":{backgroundColor:"#fff"},"& a":{color:"#0366d6"},"& hr":{backgroundColor:"#e1e4e8",borderBottomColor:"#eee"},"& table":{"& th, & td":{borderColor:"#dfe2e5"},"& tr":{backgroundColor:"#fff",borderTopColor:"#c6cbd1","&:nth-child(2n)":{backgroundColor:"#f6f8fa"}}}}:{color:e.palette.text.primary,"& code":{backgroundColor:"rgba(200,200,200,.05)"},"& pre, & .highlight pre":{backgroundColor:"#333"},"& blockquote":{borderLeftColor:"#5a5a5a"},"& h1, & h2":{borderBottomColor:"#5d5d5d"},"& img":{backgroundColor:"transparent"},"& a":{color:"#1858a0"},"& hr":{backgroundColor:"#777",borderBottomColor:"#7c7c7c"},"& table":{"& th, & td":{borderColor:"#3a3b3c"},"& tr":{backgroundColor:"transparent",borderTopColor:"#2d2e2f","&:nth-child(2n)":{backgroundColor:"#2a2b2c"}}}}}}))),Qn=function(e){var t=e.className,a=e.markdownString,n=Kn(),c=Object(u.b)(),o=r.a.useRef();return r.a.useEffect((function(){var e=function(e){var t=e.target.getAttribute("src");c({type:"OPEN_ZOOM",data:{src:t}})};Array.from(o.current.querySelectorAll("img")).map((function(t){return t.addEventListener("click",e)}))}),[c]),r.a.createElement("div",{ref:o,className:Object(Ae.a)("markdown-body",t,n.root),dangerouslySetInnerHTML:{__html:Jn(a)}})},Zn=a(474),er=a(196),tr=a.n(er),ar=a(193),nr=a.n(ar),rr=a(195),cr=a.n(rr),or=a(194),ir=a.n(or),lr=a(94),sr=a.n(lr),ur=a(93),mr=a.n(ur),dr=a(476),pr=a(495),fr=a(488),br=a(478),gr=(a(372),Object(Ne.a)((function(e){return{color:{color:"light"===e.palette.type?"#0366d6":"#1858a0","& svg":{color:"light"===e.palette.type?"rgba(0,0,0,.58)":"rgba(230,230,230,.58)"}},text:{padding:0,paddingRight:2},title:{paddingTop:20,paddingBottom:0,"& h6":{fontSize:"1.125rem"}},back:{marginLeft:-14},content:{paddingBottom:20}}}))),hr=function(e){var t=e.publishTab,a=e.onPublishTab,n=e.onPreview,c=e.onFullScreen,o=e.fullScreen,i=e.disabled,l=Object(u.c)((function(e){return e.auth})),s=l.isAuthed,m=l.uname,d=l.avatar,p=Object(u.c)((function(e){return e.editor})).action,f=r.a.useState(!1),b=Object(Te.a)(f,2),g=b[0],h=b[1],E=r.a.useState(!1),v=Object(Te.a)(E,2),O=v[0],y=v[1],w=r.a.useRef(null),x=gr(),k=function(){y(!1)},C=function(){h(!1)};return s&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"flex editor-header"},r.a.createElement(Pa,{name:m,image:d,className:"avatar"}),r.a.createElement("div",{className:"flex box"},r.a.createElement(Na.a,{className:"flex editor-uname"},m,r.a.createElement(nr.a,{color:"inherit"})),/(create)|(update)/.test(p)&&r.a.createElement(Na.a,{className:"flex editor-tpoic-type"},r.a.createElement(Na.a,{className:Object(Ae.a)("flex",x.color,{disabled:i}),onClick:function(){y(!i)},component:"span"},t?j[t].name:"\u8bf7\u9009\u62e9\u5206\u7c7b",r.a.createElement(na,{tab:t})))),r.a.createElement("div",{className:"editor-header-actions"},r.a.createElement(He.a,{buttonRef:function(e){w.current=e},variant:"contained",onClick:function(){h(!0)}},r.a.createElement(mr.a,null)))),r.a.createElement(Zn.a,{open:g,anchorEl:w.current,anchorReference:"anchorEl",anchorPosition:{top:30,left:30},onClose:C,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},r.a.createElement(Bt.a,null,r.a.createElement(Ut.a,{button:!0,onClick:function(){C(),n()}},r.a.createElement(st.a,null,r.a.createElement(sr.a,{color:"inherit"})),r.a.createElement(ut.a,{className:x.text,primary:"\u9884\u89c8"})),r.a.createElement(Me.a,{xsDown:!0},r.a.createElement(Ut.a,{button:!0,onClick:function(){C(),c()}},r.a.createElement(st.a,null,o?r.a.createElement(ir.a,{color:"inherit"}):r.a.createElement(cr.a,{color:"inherit"})),r.a.createElement(ut.a,{className:x.text,primary:"\u5168\u5c4f"}))))),r.a.createElement(xn.a,{open:O,maxWidth:"xs",onClose:k},r.a.createElement(dr.a,{className:x.title},r.a.createElement(He.a,{className:x.back,onClick:k},r.a.createElement(tr.a,null)),"\u8bf7\u9009\u62e9\u4e00\u4e2a\u5206\u7c7b"),r.a.createElement(Nn.a,{className:x.content},r.a.createElement(pr.a,{"aria-label":"topicType",name:"topicType",value:t,onChange:function(e,t){a(t),k()}},N.map((function(e){return r.a.createElement(br.a,{key:e,value:e,label:j[e].name,control:r.a.createElement(fr.a,null)})}))))))},Er=Object(Ne.a)((function(e){var t;return{title:(t={},Object(h.a)(t,e.breakpoints.up("sm"),{paddingLeft:36,paddingRight:36}),Object(h.a)(t,"& h2",{position:"relative",padding:"15px 0",fontSize:"1.25rem",borderBottomWidth:1,borderBottomStyle:"dashed",borderBottomColor:"light"===e.palette.type?"rgba(0,0,0,.08)":"rgba(210,210,210,.08)"}),t),close:{position:"absolute",top:"50%",right:-10,transform:"translateY(-50%)"},content:Object(h.a)({paddingBottom:36},e.breakpoints.up("sm"),{paddingLeft:36,paddingRight:36})}})),vr=Object(Ie.a)()((function(e){var t=function(){e.onClose()},a=e.width,n=e.open,c=e.content,o=Er();return r.a.createElement(xn.a,{open:n,fullWidth:!0,maxWidth:"md",fullScreen:Object(Ie.b)("xs",a),onClose:t},r.a.createElement(dr.a,{className:o.title,disableTypography:!0},r.a.createElement(Na.a,{component:"h2"},"\u9884\u89c8",r.a.createElement(He.a,{className:o.close,onClick:t},r.a.createElement(vn.a,null)))),r.a.createElement(Nn.a,{className:o.content},r.a.createElement(Qn,{markdownString:c})))})),Or=Object(Ne.a)((function(e){return{editor:{"& #editor .editor-header":{padding:"24px 0 14px 24px"}},title:{margin:0,padding:"0 24px 18px"},content:{paddingTop:0,paddingBottom:0},actions:{margin:0,padding:"10px 24px"},button:{margin:0,minWidth:110},doit:{marginLeft:16},cancel:{marginLeft:0}}})),jr=r.a.forwardRef((function(e,t){return r.a.createElement(wn.a,Object.assign({direction:"up",ref:t},e))})),yr={status:"idle",publishTab:null,title:"",content:"",validation:{title:{max:100,min:5},content:{max:null,min:3}},isOK:!1,isDiff:!1,preview:!1,fullScreen:!1,disabled:!1},wr=Object(Ie.a)()((function(e){var t=e.width,a=Object(u.c)((function(e){return e.auth})),n=a.isAuthed,c=a.accesstoken,o=Object(u.b)(),i=Object(l.h)(),s=Or(),m=r.a.useRef(),d=r.a.useRef(),f=r.a.useRef(),b=Object(u.c)((function(e){return e.editor})),g=b.open,E=b.action,v=b.url,O=b.topic_id,j=b.reply_id,y=r.a.useReducer((function(e,t){var a=t.type,n=t.data;switch(a){case"INIT":return Object(p.a)({},e,{},n);case"SET_PUBLISH_TAB":return Object(p.a)({},e,{publishTab:n});case"CHANGE":return Object(p.a)({},e,{},n);case"IS_OK":return Object(p.a)({},e,{isOK:n});case"IS_DIFF":return Object(p.a)({},e,{isDiff:n});case"CLOSE_PREVIEW":return Object(p.a)({},e,{preview:!1});case"OPEN_PREVIEW":return Object(p.a)({},e,{preview:!0});case"TOGGLE_FULL_SCREEN":return Object(p.a)({},e,{fullScreen:!e.fullScreen});case"REQUEST":return Object(p.a)({},e,{status:"working",disabled:!0});case"REQUEST_END":return Object(p.a)({},e,{status:n,disabled:!1});default:return e}}),yr),w=Object(Te.a)(y,2),x=w[0],k=w[1],C=x.publishTab,T=x.title,_=x.content,R=x.validation,A=x.isOK,I=x.preview,M=x.fullScreen,L=x.disabled,P=r.a.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o({type:"CLOSE_EDITOR",data:e})}),[o]),H=function(){!L&&P()},z=function(e){return function(t){var a=t.target.value;"title"===e&&(a=a.replace(/\n/g,"")),k({type:"CHANGE",data:Object(h.a)({},e,a)})}},B=function(){k({type:"CLOSE_PREVIEW"})},U=function(){if(/(reply)/.test(E))return!0;var e=N.includes(C);return e||o({type:"OPEN_NOTIFICATION",data:{message:"\u8bf7\u9009\u62e9\u4e00\u4e2a\u4e3b\u9898\u5206\u7c7b",status:"error"}}),e},D=function(){var e=Object(We.a)(De.a.mark((function e(){var t,a,n,r,i;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A&&U()){e.next=2;break}return e.abrupt("return");case 2:return m.current=!1,k({type:"REQUEST"}),t={accesstoken:c,tab:C||void 0,title:T,content:_,reply_id:j,topic_id:O},e.next=7,Ze({url:v,params:t});case 7:if(a=e.sent,n=a.success,r=a.err_msg,i=a.data,!m.current){e.next=13;break}return e.abrupt("return");case 13:k({type:"REQUEST_END",data:n?"success":"error"}),n&&P({action:E,request:Object(p.a)({},t),response:Object(p.a)({},i)}),o({type:"OPEN_NOTIFICATION",data:n?"create"===E?"\u53d1\u5e03\u6210\u529f ^_^":"update"===E?"\u66f4\u65b0\u6210\u529f ^_^":"reply"===E?"\u56de\u590d\u6210\u529f ^_^":"\u65e0\u6548\u64cd\u4f5c":{status:"error",message:r||("create"===E?"\u53d1\u5e03\u5931\u8d25 :(":"update"===E?"\u66f4\u65b0\u5931\u8d25 :(":"reply"===E?"\u56de\u590d\u5931\u8d25 :(":"\u65e0\u6548\u64cd\u4f5c")}});case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.useEffect((function(){var e=S(i);e=N.includes(e)?e:"",k({type:"SET_PUBLISH_TAB",data:e})}),[i]),r.a.useEffect((function(){b.open&&k({type:"INIT",data:Object(p.a)({},b.tab?{publishTab:b.tab}:{},{title:b.title||"",content:b.content||""})})}),[b]),r.a.useEffect((function(){if(g){var e=(!!/(reply)/.test(E)||"string"===typeof T&&T.length>=R.title.min&&T.length<=R.title.max)&&"string"===typeof _&&_.length>=R.content.min;k({type:"IS_OK",data:e});var t=T!==b.title||_!==b.content;k({type:"IS_DIFF",data:t})}}),[T,_,R,g,E,b.title,b.content]),r.a.useEffect((function(){return function(){g&&(B(),P())}}),[g,i,P]),n&&r.a.createElement(r.a.Fragment,null,r.a.createElement(xn.a,{className:s.editor,PaperProps:{id:"editor"},open:g,onClose:H,TransitionComponent:jr,maxWidth:"sm",fullWidth:!0,fullScreen:!Object(Ie.c)("sm",t)||M,keepMounted:!Object(Ie.c)("sm",t),onEntered:function(){["create","update"].includes(E)?d.current.focus():f.current.focus()}},r.a.createElement(hr,{publishTab:C,onPublishTab:function(e){k({type:"SET_PUBLISH_TAB",data:e})},onPreview:function(){!Boolean(_)||_.trim().length<R.content.min?o({type:"OPEN_NOTIFICATION",data:{message:"\u592a\u77ed\u4e86\u5537\u3002",status:"info"}}):k({type:"OPEN_PREVIEW"})},onFullScreen:function(){k({type:"TOGGLE_FULL_SCREEN"})},fullScreen:M,disabled:L}),["create","update"].includes(E)&&r.a.createElement(Cn.a,{className:s.title,margin:"normal",multiline:!0,rows:"1",rowsMax:"3",fullWidth:!0,placeholder:"\u6807\u9898...",inputRef:d,value:T,disabled:L,onChange:z("title")}),r.a.createElement(Nn.a,{className:Object(Ae.a)("flex",s.content)},r.a.createElement(Tn,{disabled:L,content:_,inputRef:f,onUpdateContent:z("content")})),r.a.createElement(kn.a,{className:s.actions},r.a.createElement(Lt.a,{className:Object(Ae.a)(s.button,s.cancel),onClick:H,disabled:L,color:"default",size:"large"},"\u53d6\u6d88"),r.a.createElement(Lt.a,{className:Object(Ae.a)(s.button,s.doit),variant:"contained",onClick:D,disabled:!A||L,color:"primary",size:"large"},"create"===E?"\u53d1\u5e03":"update"===E?"\u66f4\u65b0":"\u56de\u590d"))),r.a.createElement(vr,{open:I,content:_,onClose:B}))})),xr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.a.useState(!1),a=Object(Te.a)(t,2),n=a[0],c=a[1];return r.a.useEffect((function(){var t=e.threshold,a=void 0===t?20:t,n=function(){var e=document.documentElement.offsetHeight||document.body.offsetHeight,t=document.documentElement.scrollTop||document.body.scrollTop,n=window.innerHeight;c(e>n&&e-(n+t)<=a)};return document.addEventListener("scroll",n),function(){return document.removeEventListener("scroll",n)}}),[e]),n},Nr=function(){var e=r.a.useRef(!1),t=r.a.useRef(!1),a=r.a.useRef(),n=r.a.useRef(1),c=Object(l.h)(),o=c.pathname,s=c.search,d=r.a.useState(null),p=Object(Te.a)(d,2),f=p[0],b=p[1],g=r.a.useState([]),h=Object(Te.a)(g,2),E=h[0],v=h[1],O=r.a.useState("idle"),j=Object(Te.a)(O,2),y=j[0],w=j[1],x=xr(),N=r.a.useCallback(function(){var r=Object(We.a)(De.a.mark((function r(c){var o,i,l,s;return De.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.current=!0,w("loading"),o={url:"/topics",params:{tab:c.tab,page:n.current,limit:20,mdrender:!0}},r.next=5,Qe(o);case 5:if(i=r.sent,l=i.success,s=i.data,!a.current){r.next=10;break}return r.abrupt("return");case 10:l?(v((function(e){return t.current?[].concat(Object(m.a)(e),[s]):[s]})),w("success"),t.current=!0,n.current+=1):w("error"),e.current=!1;case 12:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),[]);r.a.useEffect((function(){e.current=!1,t.current=!1,n.current=1,v([]),b(S({pathname:o,search:s}))}),[o,s]),r.a.useEffect((function(){if(!(null===f||e.current||t.current&&!x))return a.current=!1,N({tab:f}),function(){e.current=!1,a.current=!0}}),[f,x,N]);var k=Object(u.c)((function(e){return e.editor}));return r.a.useEffect((function(){var e=function(e){var t=e.action,a=Object(i.a)(e,["action"]);if(M(a)||"create"!==t)return null;var n=new Date,r=a.uid,c=a.uname,o=a.avatar,l=a.request,s=l.tab,u=l.title,m=l.content;return[{author:{loginname:c,avatar_url:o},author_id:r,id:a.response.topic_id,tab:s,title:u,content:m,create_at:n,last_reply_at:n,reply_count:0,visit_count:0,good:!1,top:!1}]}(k);e&&v((function(t){return[e].concat(Object(m.a)(t))}))}),[k]),r.a.createElement(ja,{title:"RCNode"},r.a.createElement("div",{id:"container"},r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"topic-list-container"},E.map((function(e,t){return r.a.createElement(Fa,{key:t,items:e})})))),r.a.createElement("div",{className:"status wrapper"},r.a.createElement(Ya,{status:y}))),r.a.createElement(ln,{single:!0}),r.a.createElement(wr,null),r.a.createElement(yn,null))},kr=a(213),Cr=a(203),Sr=a.n(Cr),Tr=a(197),_r=a.n(Tr),Rr=a(198),Ar=a.n(Rr),Ir=a(97),Mr=a.n(Ir),Lr=Object(Ne.a)((function(e){return{icon:{minWidth:"auto"}}})),Pr=Object(Ie.a)()((function(e){var t=e.topicAuthor,a=e.width,n=Object(l.i)().topic_id,c=Object(l.h)().hash,o=Lr(),i=r.a.useRef(),m=r.a.useRef(null),d=r.a.useState(!1),p=Object(Te.a)(d,2),f=p[0],b=p[1],g=r.a.useState(""),h=Object(Te.a)(g,2),E=h[0],v=h[1],O=Object(u.c)((function(e){return e.auth})),j=O.isAuthed,y=O.accesstoken,w=O.uname,x=Object(u.b)(),N=r.a.useState({ups:e.item.ups.length,isUped:e.item.is_uped}),k=Object(Te.a)(N,2),C=k[0],S=k[1],T=e.item,_=T.author,R=_.loginname,A=_.avatar_url,I=T.id,M=T.create_at,L=T.content,P=function(){var e=Object(We.a)(De.a.mark((function e(){var t,a,n,r;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j){e.next=3;break}return x({type:"OPEN_NOTIFICATION",data:"\u767b\u5f55\u540e\u624d\u80fd \ud83d\udc4d \u54df~"}),e.abrupt("return");case 3:if(R!==w){e.next=6;break}return x({type:"OPEN_NOTIFICATION",data:"\u4e0d\u80fd \ud83d\udc4d \u81ea\u5df1\u7684\u54df~"}),e.abrupt("return");case 6:return i.current=!1,t={url:"/reply/".concat(I,"/ups"),params:{accesstoken:y}},e.next=10,Ze(t);case 10:if(a=e.sent,n=a.success,r=a.err_msg,!i.current){e.next=15;break}return e.abrupt("return");case 15:n?S((function(e){var t=e.ups,a=e.isUped;return{ups:a?t-1:t+1,isUped:!a}})):r&&x({type:"OPEN_NOTIFICATION",data:{status:"error",message:r}});case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){b(!1)},z=r.a.useRef();return r.a.useEffect((function(){if(c==="#".concat(I)){clearTimeout(z.current);var e=Object(Ie.b)("xs",a)?56:64,t=10;return Object(Ie.b)("xs",a)&&(t+=16),z.current=setTimeout((function(){oa.scroller.scrollTo(c,{duration:500,smooth:"easeInOutQuart",offset:-(e+16+t)})}),0),function(){return clearTimeout(z.current)}}}),[c,I,a]),r.a.useEffect((function(){var e=window.location,t=e.origin,a=e.pathname;return v("".concat(t).concat(a)),function(){return i.current=!0}}),[]),r.a.createElement("div",{id:"#".concat(I),className:Object(Ae.a)("topic-reply",{hilite:c==="#".concat(I),owned:R===t})},r.a.createElement("div",{className:"reply-content"},r.a.createElement(et.a,{container:!0,wrap:"nowrap",className:Object(Ae.a)("reply-header",o.header)},r.a.createElement(at.a,{"aria-label":"Recipe",className:"reply-avatar"},r.a.createElement(s.b,{to:R?"/user/".concat(R):"/"},A&&r.a.createElement("img",{src:A,alt:R||"\u7528\u6237\u5df2\u6ce8\u9500"}))),r.a.createElement(et.a,{container:!0,item:!0,zeroMinWidth:!0,wrap:"nowrap",className:"reply-attrs"},r.a.createElement(et.a,{container:!0,wrap:"nowrap",className:"group"},r.a.createElement(et.a,{container:!0,item:!0,zeroMinWidth:!0,wrap:"nowrap",className:"uname-text"},r.a.createElement(et.a,{item:!0,zeroMinWidth:!0},r.a.createElement(s.b,{className:"uname",to:R?"/user/".concat(R):"/"},R||"\u7528\u6237\u5df2\u6ce8\u9500")),R===t&&r.a.createElement(et.a,{item:!0,className:"text"},"[\u4f5c\u8005]")),r.a.createElement(et.a,{item:!0,className:"time"},r.a.createElement(Ba,{fromNow:!0},M)))),r.a.createElement(et.a,{item:!0,className:"reply-actions"},r.a.createElement(He.a,{className:"action up",onClick:P},C.isUped?r.a.createElement(_r.a,null):r.a.createElement(Ar.a,null)),Boolean(C.ups)&&r.a.createElement("span",{className:"num"},C.ups),r.a.createElement(He.a,{className:"action more",buttonRef:function(e){m.current=e},variant:"contained",onClick:function(){b(!0)}},r.a.createElement(mr.a,null)),r.a.createElement(Zn.a,{open:f,anchorEl:m.current,anchorReference:"anchorEl",anchorPosition:{top:30,left:30},onClose:H,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},r.a.createElement(Bt.a,null,r.a.createElement(Ut.a,{className:"action post",onClick:function(){H(),x({type:"OPEN_SHARE",data:"".concat(E,"#").concat(I)})},button:!0},r.a.createElement(st.a,{className:o.icon},r.a.createElement(Jt.a,null))),j&&r.a.createElement(Ut.a,{className:"action reply",onClick:function(){H();var e={action:"reply",url:"/topic/".concat(n,"/replies"),reply_id:I,content:"@".concat(R," ")};x({type:"OPEN_EDITOR",data:e})},button:!0},r.a.createElement(st.a,{className:o.icon},r.a.createElement(Mr.a,null))))))),r.a.createElement("div",{className:"markdown-container"},r.a.createElement(Qn,{markdownString:L}))))})),Hr=a(201),zr=a.n(Hr),Br=a(199),Ur=a.n(Br),Dr=a(200),Wr=a.n(Dr),Fr=Object(Ne.a)((function(e){return{fill:{flex:1},backdrop:{backgroundColor:"light"===e.palette.type?"rgba(255,255,255,.85)":"rgba(0,0,0,.92)"},actions:Object(h.a)({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1,top:0,left:0,right:0,height:56,padding:"0 18px",backgroundColor:"light"===e.palette.type?"#fff":"#212121",boxShadow:"0 0 1px rgba(0,0,0,.03), 0 0 2px rgba(0,0,0,.08)"},e.breakpoints.up("sm"),{height:64,padding:"0 24px"}),container:Object(h.a)({display:"flex",margin:0,paddingTop:56,width:"100%",height:"100%",maxWidth:"none",maxHeight:"none",backgroundColor:"transparent",boxShadow:"none",userSelect:"none",outline:"none",borderRadius:0},e.breakpoints.up("sm"),{paddingTop:64}),content:{display:"flex",padding:0},wrap:{position:"relative",display:"flex",flex:1,alignItems:"center",justifyContent:"center",overflow:"hidden",outline:"none"},loading:{position:"absolute",top:"50%",left:"50%",marginTop:-20,marginLeft:-20},box:{position:"relative",opacity:0,transform:"scale(.9)",transition:"transform .15s cubic-bezier(0,0,.2,1), opacity 85ms linear 65ms","&.ready":{opacity:1,transform:"none",transitionDuration:".18s, 85ms",transitionDelay:"0s, 0s"}},target:{display:"block",position:"relative",transition:"transform .3s cubic-bezier(.4,0,.2,1)",boxShadow:" 0 2px 6px rgba(0,0,0,.16), 0 1px 4px rgba(0,0,0,.03)",cursor:"default","&.drag-enabled":{cursor:"grab","&.drag-active":{cursor:"grabbing",transition:"none"}}},zoom:{position:"fixed",display:"flex",flexWrap:"nowrap",padding:"0 8px",left:30,bottom:32,borderRadius:22,overflow:"hidden",backgroundColor:"light"===e.palette.type?"#fff":"#212121",boxShadow:"0 0 2px rgba(0,0,0,.1), 0 2px 5px rgba(0,0,0,.16)",zIndex:1},btn:{padding:10,minWidth:44,borderRadius:0}}})),Gr={x:0,y:0,iX:0,iY:0,sX:0,sY:0,mX:0,mY:0,scale:1,scaleLevel:1,scaleLevels:[.68,1,1.38,2,3.21,4.96],spacings:16,dragSpacings:50,disabledUp:!1,disabledDown:!1,disabledReset:!0,dragEnabled:!1,dragActive:!1,isTouch:void 0,ready:!1},Vr=Object(Ie.a)()((function(e){var t=e.width,a=Object(u.c)((function(e){return e.zoom})),n=a.open,c=a.src,o=r.a.useState(Gr),i=Object(Te.a)(o,2),l=i[0],s=i[1],m=r.a.useRef(),d=r.a.useRef(),f=r.a.useRef(),b=r.a.useRef(),g=Object(u.b)(),h=Fr(),E=r.a.useCallback((function(){g({type:"CLOSE_ZOOM"})}),[g]);r.a.useEffect((function(){return function(){return n&&E()}}),[n,E]);var v=function(){var e=Gr.spacings,t="ontouchstart"in window,a=b.current,n=a.naturalWidth,r=a.naturalHeight,c=d.current.clientWidth,o=d.current.clientHeight,i=c-2*e,l=o-2*e,u=r;n>i&&(u*=i/n),u>l&&(u=l);var m=n*u/r;s(Object(p.a)({},Gr,{ready:!0,isTouch:t,wrapWidth:c,wrapHeight:o,maxWidth:i,maxHeight:l,naturalWidth:n,naturalHeight:r,initialWidth:m,initialHeight:u}))};r.a.useEffect((function(){var e=l.isTouch;if("boolean"===typeof e){var t=function(e){var t,a,n=e.iX,r=e.iY,c=e.sX,o=e.sY,i=e.mX,l=e.mY,s=function(e){var t=e.scale,a=e.wrapWidth,n=e.wrapHeight,r=e.maxWidth,c=e.maxHeight,o=e.initialWidth,i=e.initialHeight,l=Gr.dragSpacings,s=o*t,u=i*t;return{tX:s>r?Math.max(0,(s-a)/2+l):0,tY:u>c?Math.max(0,(u-n)/2+l):0}}(e),u=s.tX,m=s.tY;return t=n+i-c,a=r+l-o,{x:t=Math.min(u,Math.max(-u,t)),y:a=Math.min(m,Math.max(-m,a))}},a=function(t){return{x:e?t.touches[0].pageX:t.clientX,y:e?t.touches[0].pageY:t.clientY}},n=function(e){if(e.preventDefault(),l.dragEnabled){var t=a(e),n=t.x,r=t.y;s((function(e){return Object(p.a)({},e,{sX:n,sY:r,dragActive:!0})}))}},r=function(e){if(e.preventDefault(),m.current){var n=a(e),r=n.x,c=n.y;s((function(e){var a=t(Object(p.a)({},e,{mX:r,mY:c})),n=a.x,o=a.y;return Object(p.a)({},e,{x:n,y:o,mX:r,mY:c})}))}},c=function(e){e.preventDefault(),m.current&&s((function(e){return Object(p.a)({},e,{iX:e.x,iY:e.y,dragActive:!1})}))};!function(){var t=e?"touchstart":"mousedown",a=e?"touchmove":"mousemove",o=e?"touchend":"mouseup",i=e?"touchcancel":"mouseleave";b.current.addEventListener(t,n),b.current.addEventListener(a,r),b.current.addEventListener(o,c),b.current.addEventListener(i,c)}(),function(){var e=document.head.querySelector('meta[name="viewport"]'),t=e.content;e.content="".concat(t,", ").concat("user-scalable=no"),s((function(a){return Object(p.a)({},a,{viewport:e,content:t})}))}()}}),[l.isTouch,l.dragEnabled]),r.a.useEffect((function(){m.current=l.dragActive}),[l.dragActive]);var O=function(e){return function(t){var a=l.scaleLevel,n=l.scaleLevels,r=n.length-1;switch(e){case"up":a++;break;case"down":a--;break;case"reset":a=1;break;default:return}var c=n[a=Math.min(Math.max(a,0),r)],o=a===r,i=0===a,u=1===a;s((function(e){return Object(p.a)({},e,{x:0,y:0,iX:0,iY:0,scale:c,scaleLevel:a,disabledUp:o,disabledDown:i,disabledReset:u})}))}};return r.a.useEffect((function(){if(l.ready){var e=l.scale,t=l.maxWidth,a=l.maxHeight,n=l.initialWidth,r=l.initialHeight,c=n*e>t||r*e>a;s((function(e){return Object(p.a)({},e,{dragEnabled:c})}))}}),[l.scale,l.ready,l.maxWidth,l.maxHeight,l.initialWidth,l.initialHeight]),r.a.useEffect((function(){if(Boolean(b.current)){var e="translate(".concat(l.x,"px, ").concat(l.y,"px) scale(").concat(l.scale,")");b.current.style.transform=e}}),[l.x,l.y,l.scale]),r.a.createElement(xn.a,{open:n,fullWidth:!0,maxWidth:!1,onClose:E,onEnter:function(){b.current.complete?v():b.current.addEventListener("load",v)},onExited:function(){!function(){var e=l.viewport,t=l.content;e&&(e.content=t)}(),s(Gr)},BackdropProps:{className:h.backdrop},PaperProps:{className:h.container},keepMounted:Object(Ie.b)("xs",t)},r.a.createElement(et.a,{className:h.actions},r.a.createElement(et.a,{className:h.fill},r.a.createElement(He.a,{className:h.close,onClick:E},r.a.createElement(vn.a,null))),r.a.createElement(He.a,{className:h.share,onClick:function(){var e=b.current.src;g({type:"OPEN_SHARE",data:e})},disabled:!l.ready},r.a.createElement(Jt.a,null))),r.a.createElement(Nn.a,{className:h.content},r.a.createElement("div",{ref:d,className:h.wrap,onClick:function(e){var t=e.target;l.ready&&t!==d.current&&t!==f.current||E()},onKeyUp:function(){},role:"grid",tabIndex:"-1"},r.a.createElement(kr.a,{in:!l.ready,className:h.loading},r.a.createElement(Ga.a,null)),r.a.createElement("div",{ref:f,className:Object(Ae.a)(h.box,{ready:l.ready})},r.a.createElement("img",{ref:b,className:Object(Ae.a)(h.target,{"drag-enabled":l.dragEnabled,"drag-active":l.dragActive}),style:{height:l.initialHeight||"auto"},src:c,alt:"zoom"}))),r.a.createElement(et.a,{className:h.zoom},r.a.createElement(Lt.a,{className:h.btn,disabled:l.disabledDown||!l.ready,onClick:O("down")},r.a.createElement(Ur.a,null)),r.a.createElement(Lt.a,{className:h.btn,disabled:l.disabledReset||!l.ready,onClick:O("reset")},r.a.createElement(Wr.a,null)),r.a.createElement(Lt.a,{className:h.btn,disabled:l.disabledUp||!l.ready,onClick:O("up")},r.a.createElement(zr.a,null)))))})),Yr=a(202),Xr=a.n(Yr),$r=Object(Ne.a)((function(e){return{paper:{margin:10,width:"calc(100% - 20px)",maxWidth:615},content:{padding:24,display:"flex",flexWrap:"nowrap",alignItems:"flex-end"},button:{marginLeft:16,padding:"4px 10px"}}})),qr=function(){var e=$r(),t=Object(u.b)(),a=Object(u.c)((function(e){return e.share})),n=a.url,c=a.open,o=a.post,i=function(){var e=Object(We.a)(De.a.mark((function e(){return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Xr()(n);case 3:return e.prev=3,l(),e.finish(3);case 6:case"end":return e.stop()}}),e,null,[[0,,3,6]])})));return function(){return e.apply(this,arguments)}}(),l=r.a.useCallback((function(){t({type:"CLOSE_SHARE"})}),[t]),s=r.a.useCallback((function(){c&&l()}),[c,l]);return r.a.useEffect((function(){return function(){return s()}}),[s]),r.a.createElement(xn.a,{open:c,onClose:l,classes:{paper:e.paper}},r.a.createElement(Nn.a,{className:e.content},r.a.createElement(Cn.a,{inputProps:{readOnly:!0},label:"".concat((o=Boolean(o)?" - #".concat(o):"","\u5206\u4eab\u94fe\u63a5".concat(o,"\uff1a"))),value:n,fullWidth:!0}),r.a.createElement(Lt.a,{className:e.button,onClick:i,variant:"outlined",size:"small",autoFocus:!0},"\u590d\u5236")))},Jr=(a(373),Object(Ie.a)()((function(e){var t=Object(Tt.a)(),a=Object(l.i)().topic_id,n=Object(u.c)((function(e){return e.auth})).accesstoken,c=r.a.useState("loading"),o=Object(Te.a)(c,2),d=o[0],f=o[1],b=r.a.useState({}),g=Object(Te.a)(b,2),h=g[0],E=g[1],v=r.a.useState([]),O=Object(Te.a)(v,2),y=O[0],w=O[1],x=r.a.useState(null),N=Object(Te.a)(x,2),k=N[0],C=N[1],S=r.a.useState(null),T=Object(Te.a)(S,2),_=T[0],R=T[1],A=r.a.useRef();r.a.useEffect((function(){return A.current=!1,Object(We.a)(De.a.mark((function e(){var t,r,c,o,l,s,u;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={url:"/topic/".concat(a),params:{mdrender:!1,accesstoken:n}},e.next=3,Qe(t);case 3:if(r=e.sent,c=r.success,o=r.data,l=r.err_msg,!A.current){e.next=9;break}return e.abrupt("return");case 9:c?(s=o.replies,u=Object(i.a)(o,["replies"]),f("success"),E(Object(p.a)({},u)),w(Object(m.a)(s)),C({uname:u.author.loginname,is_collect:u.is_collect,content:u.content,title:u.title,tab:u.tab,topic_id:a})):(f("error"),R(l));case 10:case"end":return e.stop()}}),e)})))(),function(){return A.current=!0}}),[a,n]);var I=Object(u.c)((function(e){return e.editor}));return r.a.useEffect((function(){var e=function(e){var t=e.action,a=Object(i.a)(e,["action"]);if(M(a)||"reply"!==t)return null;var n=a.uname,r=a.avatar,c=a.request,o=c.content,l=c.reply_id,s=a.response.reply_id,u=a.match.params.topic_id;return{author:{loginname:n,avatar_url:r},id:s,ups:[],is_uped:!1,create_at:new Date,content:o,reply_id:l!==u?l:null}}(I);e&&w((function(t){return[].concat(Object(m.a)(t),[e])}));var t=function(e){var t=e.action,a=Object(i.a)(e,["action"]);if(M(a)||"update"!==t)return null;var n=a.request;return{tab:n.tab,title:n.title,content:n.content}}(I);t&&(E((function(e){return Object(p.a)({},e,{},t)})),C((function(e){return Object(p.a)({},e,{uname:t.author.loginname,is_collect:t.is_collect,content:t.content,title:t.title,tab:t.tab})})))}),[I]),r.a.createElement(ja,{title:h.title,bodyAttributes:{class:Object(Ae.a)("topic-view",{"error-tips":"error"===d,"zero-spacings":Object(Ie.b)("xs",e.width)})}},r.a.createElement("div",{id:"container"},r.a.createElement(kr.a,{in:Boolean(_)},r.a.createElement("div",{className:"wrapper tips error"},_)),Boolean(h.title)&&r.a.createElement("div",{id:"topic",className:Object(Ae.a)("wrapper",{dark:"dark"===t.palette.type})},r.a.createElement("div",{className:"topic-main"},r.a.createElement(Na.a,{variant:"h5",className:"title"},h.title),r.a.createElement("div",{className:"topic-attrs-wrap"},r.a.createElement("div",{className:"topic-attrs"},r.a.createElement("span",{className:"attr-author"},r.a.createElement(Pa,{className:"avatar",image:h.author.avatar_url,name:h.author.loginname}),r.a.createElement(s.b,{to:"/user/".concat(h.author.loginname)},h.author.loginname)),r.a.createElement("span",{className:"attr-create"},r.a.createElement(Sa.a,null),r.a.createElement(Ba,{fromNow:!0},h.create_at)),r.a.createElement("span",{className:"attr-visit"},r.a.createElement(sr.a,null),r.a.createElement("em",null,h.visit_count),"\u6d4f\u89c8"),h.tab&&r.a.createElement("span",{className:"attr-tab"},r.a.createElement(Sr.a,null),r.a.createElement("span",{className:h.tab},j[h.tab].name)))),r.a.createElement("div",{className:"markdown-container"},r.a.createElement(Qn,{markdownString:h.content}))),Boolean(y.length)&&r.a.createElement("div",{className:"topic-replies"},y.map((function(e,t){return r.a.createElement(Pr,{topicAuthor:h.author.loginname,item:e,key:e.id})})))),r.a.createElement("div",{className:"status wrapper"},r.a.createElement(Ya,{className:"mini",status:d}))),r.a.createElement(ln,{topic:k}),r.a.createElement(wr,null),r.a.createElement(Vr,null),r.a.createElement(qr,null),r.a.createElement(yn,null))}))),Kr=a(204),Qr=a.n(Kr),Zr=a(487),ec=a(480),tc=a(205),ac=a.n(tc),nc=a(119),rc=a.n(nc),cc=(a(394),Object(Ne.a)((function(e){return{cover:{backgroundColor:"light"===e.palette.type?"rgba(83,156,98,.8)":"rgba(69,97,74,.8)"},progress:{position:"absolute",top:0,left:0,right:0,height:3},colorPrimary:{backgroundColor:(e.palette.type,"rgba(165,211,247,.8)")},barColorPrimary:{backgroundColor:(e.palette.type,"#2698f3")},spacings:Object(h.a)({marginTop:30},e.breakpoints.down("xs"),{marginTop:0}),tips:{marginTop:40},tab:{fontSize:16},selected:{color:"#2ac2f9"},indicator:{backgroundColor:"#2ac2f9"}}}))),oc=["topics","replies","collections"],ic={topics:{name:"\u6700\u8fd1\u521b\u5efa",data:[],show:!0},replies:{name:"\u6700\u8fd1\u56de\u590d",data:[],show:!1},collections:{name:"\u8bdd\u9898\u6536\u85cf",data:[],show:!1}},lc=Object(Ie.a)()((function(e){var t=Object(l.i)().uname,a=r.a.useRef(),n=r.a.useRef(),c=r.a.useState({complete:!1}),o=Object(Te.a)(c,2),s=o[0],u=o[1],m=r.a.useState(0),d=Object(Te.a)(m,2),f=d[0],b=d[1],g=r.a.useState("loading"),E=Object(Te.a)(g,2),v=E[0],O=E[1],j=r.a.useState(null),y=Object(Te.a)(j,2),w=y[0],x=y[1],N=r.a.useState({uname:t}),k=Object(Te.a)(N,2),C=k[0],S=k[1],T=r.a.useReducer((function(e,t){var a=t.type,n=t.data;switch(a){case"SET_TOPICS":return Object(p.a)({},e,{topics:Object(p.a)({},e.topics,{},n)});case"SET_REPLIES":return Object(p.a)({},e,{replies:Object(p.a)({},e.replies,{},n)});case"SET_COLLECTIONS":return Object(p.a)({},e,{collections:Object(p.a)({},e.collections,{},n)});case"RESTORE":return Object(p.a)({},ic);default:throw new Error("Unrecognized type ".concat(a))}}),ic),_=Object(Te.a)(T,2),R=_[0],A=_[1],I=function(e,t){b(t);var a="SET_".concat(oc[t].toUpperCase());A({type:a,data:{show:!0}})};r.a.useEffect((function(){if(Boolean(n.current)){var e=function(){u((function(e){return Object(p.a)({},e,{complete:!0})}))};return n.current.complete?e():n.current.addEventListener("load",e),function(){n.current.removeEventListener("load",e)}}}),[s.time]),r.a.useEffect((function(){return a.current=!1,O("loading"),S({uname:t}),A({type:"RESTORE"}),b(0),Object(We.a)(De.a.mark((function e(){var n,r,c,o,l,s,u,m;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={url:"/user/".concat(t),params:{mdrender:!1}},e.next=3,Qe(n);case 3:if(r=e.sent,c=r.success,o=r.data,l=r.err_msg,!a.current){e.next=9;break}return e.abrupt("return");case 9:c?(s=o.recent_topics,u=o.recent_replies,m=Object(i.a)(o,["recent_topics","recent_replies"]),S(Object(p.a)({},m)),A({type:"SET_TOPICS",data:{data:s}}),A({type:"SET_REPLIES",data:{data:u}}),O("success")):(O("error"),x(l));case 10:case"end":return e.stop()}}),e)})))(),Object(We.a)(De.a.mark((function e(){var n,r,c,o;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={url:"/topic_collect/".concat(t),params:{mdrender:!1}},e.next=3,Qe(n);case 3:r=e.sent,c=r.success,o=r.data,!a.current&&c&&A({type:"SET_COLLECTIONS",data:{data:o}});case 7:case"end":return e.stop()}}),e)})))(),u((function(e){return Object(p.a)({},e,{complete:!1})})),Object(We.a)(De.a.mark((function e(){var t;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qe();case 2:t=e.sent,a.current||u((function(e){return Object(p.a)({},e,{},t)}));case 4:case"end":return e.stop()}}),e)})))(),function(){return a.current=!0}}),[t]);var M=e.width,L=cc(),P=r.a.useRef();return r.a.createElement(ja,{title:t,bodyAttributes:{class:"user-view"}},r.a.createElement("div",{className:Object(Ae.a)("cover blur",L.cover)},r.a.createElement("div",{className:Object(Ae.a)("bing-image",{complete:s.complete})},s.url&&r.a.createElement("img",{ref:n,src:s.url,alt:"background image",title:s.copyright,"aria-hidden":!0})),r.a.createElement(kr.a,{in:!s.complete},r.a.createElement(ke.a,{className:L.progress,classes:{colorPrimary:L.colorPrimary,barColorPrimary:L.barColorPrimary}})),C.loginname&&r.a.createElement("div",{className:"user wrapper"},r.a.createElement(at.a,{id:"avatar","aria-label":"Recipe"},r.a.createElement("img",{src:C.avatar_url,alt:C.loginname})),r.a.createElement("div",{className:"items"},r.a.createElement(Me.a,{xsDown:!0},r.a.createElement("div",null,r.a.createElement("div",{className:"item name"},r.a.createElement(dt.a,null),C.loginname),r.a.createElement("div",{className:"item create"},r.a.createElement(rc.a,null),r.a.createElement(Ba,{format:"YYYY-MM-DD HH:mm:ss"},C.create_at))),r.a.createElement("div",null,C.githubUsername&&r.a.createElement("div",{className:"item github"},wt,r.a.createElement("a",{target:"_blank",href:"https://github.com/".concat(C.githubUsername)},C.githubUsername)),r.a.createElement("div",{className:"item score"},r.a.createElement(ac.a,null),C.score))),r.a.createElement(Me.a,{smUp:!0},r.a.createElement("div",null,C.githubUsername&&r.a.createElement("div",{className:"item github"},wt,r.a.createElement("a",{target:"_blank",href:"https://github.com/".concat(C.githubUsername)},C.githubUsername))),r.a.createElement("div",null,r.a.createElement("div",{className:"item create"},r.a.createElement(rc.a,null),r.a.createElement(Ba,{format:"YYYY-MM-DD HH:mm:ss"},C.create_at))))))),r.a.createElement("div",{className:Object(Ae.a)("tab-list",L.spacings)},r.a.createElement("div",{className:"wrapper"},r.a.createElement(Zr.a,Object.assign({classes:{indicator:L.indicator},value:f,onChange:I,centered:!0},Object(Ie.c)("md",M)?{}:{variant:"fullWidth"}),Object.keys(R).map((function(e){return r.a.createElement(ec.a,{classes:{root:L.tab,selected:L.selected},label:R[e].name,key:R[e].name,disabled:"success"!==v})}))))),r.a.createElement(kr.a,{in:Boolean(w)},r.a.createElement("div",{className:Object(Ae.a)("tips error",Object(h.a)({},L.tips,Boolean(w)))},w)),r.a.createElement("div",{className:"recent wrapper"},r.a.createElement(Qr.a,{index:f,onChangeIndex:function(e){I(0,e)},enableMouseEvents:!0,animateHeight:!0,slideStyle:{overflow:"hidden"},ref:P},Object.keys(R).map((function(e){return r.a.createElement("div",{className:"r-".concat(e),key:e},r.a.createElement(sc,{data:R[e].data,show:R[e].show,ref:P}))})))),r.a.createElement("div",{className:"status wrapper"},r.a.createElement(Ya,{className:"mini",status:v})))})),sc=r.a.forwardRef((function(e,t){var a=e.data,n=e.show,c=r.a.useRef();return r.a.useEffect((function(){if(n)return clearTimeout(c.current),c.current=setTimeout((function(){t.current.getChildContext().swipeableViews.slideUpdateHeight()}),0),function(){return clearTimeout(c.current)}}),[t,n,a]),n&&a.map((function(e){return r.a.createElement(Da,{className:"profile",item:e,simple:!0,key:e.id})}))}));function uc(){return(uc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var mc=function(e){e.styles;var t=Object(i.a)(e,["styles"]);return r.a.createElement("svg",uc({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1440 810",preserveAspectRatio:"xMinYMin slice","aria-hidden":"true"},t),r.a.createElement("path",{id:"cell-4",fill:"#efefee",d:"M592.66 0c-15 64.092-30.7 125.285-46.598 183.777C634.056 325.56 748.348 550.932 819.642 809.5h419.672C1184.518 593.727 1083.124 290.064 902.637 0H592.66z"}),r.a.createElement("path",{id:"cell-5",fill:"#f6f6f6",d:"M545.962 183.777c-53.796 196.576-111.592 361.156-163.49 490.74 11.7 44.494 22.8 89.49 33.1 134.883h404.07c-71.294-258.468-185.586-483.84-273.68-625.623z"}),r.a.createElement("path",{id:"cell-6",fill:"#f7f7f7",d:"M153.89 0c74.094 180.678 161.088 417.448 228.483 674.517C449.67 506.337 527.063 279.465 592.56 0H153.89z"}),r.a.createElement("path",{id:"cell-7",fill:"#fbfbfc",d:"M153.89 0H0v809.5h415.57C345.477 500.938 240.884 211.874 153.89 0z"}),r.a.createElement("path",{id:"cell-3",fill:"#ebebec",d:"M1144.22 501.538c52.596-134.583 101.492-290.964 134.09-463.343 1.2-6.1 2.3-12.298 3.4-18.497 0-.2.1-.4.1-.6 1.1-6.3 2.3-12.7 3.4-19.098H902.536c105.293 169.28 183.688 343.158 241.684 501.638v-.1z"}),r.a.createElement("path",{id:"cell-1",fill:"#e1e1e1",d:"M1285.31 0a2161.05 2161.05 0 01-6.9 38.195C1321.507 86.39 1379.603 158.98 1440 257.168V0h-154.69z"}),r.a.createElement("path",{id:"cell-2",fill:"#e7e7e7",d:"M1278.31 38.196c-32.5 171.678-81.09 327.36-133.49 461.642v3.8c41 112.286 71.59 216.573 94.29 305.962l200.59.4V256.768c-60.3-97.988-118.29-170.48-161.39-218.573v.001z"}))},dc=(a(395),Object(Ne.a)((function(e){return{svg:"light"===e.palette.type?{}:{"& #cell-1":{fill:"#0d0d0c"},"& #cell-2":{fill:"#141413"},"& #cell-3":{fill:"#181817"},"& #cell-4":{fill:"#1c1d1c"},"& #cell-5":{fill:"#222322"},"& #cell-6":{fill:"#232423"},"& #cell-7":{fill:"#272727"}},root:{"&.success":{"& label":{color:"#508028"},"& .MuiInput-underline":{"&:hover:before":{borderBottomColor:"light"===e.palette.type?"rgba(128,189,1,.87)":"rgba(108,168,3,.87)"},"&:before":{borderBottomColor:"light"===e.palette.type?"#56b700":"#519217"},"&:after":{borderBottomColor:"light"===e.palette.type?"#80bd01":"#519217"}}},"&.error":{"& label":{color:"light"===e.palette.type?"#f44336":"#b92c22"},"& .MuiInput-underline":{"&:after":{borderBottomColor:"light"===e.palette.type?"#f44336":"#b92c22"}}},"&.focus":{"& label":{color:"#46483e"},"& .MuiInput-underline":{"&:after":{borderBottomColor:"#46483e"}}},"& .MuiInput-underline":{"&:hover:before":{borderBottomWidth:1,borderBottomColor:"rgba(70,72,69,.8)"},"&:after":{borderBottomColor:"rgba(70,72,69,.8)"}}}}}))),pc=function(){var e,t=dc(),a=Object(l.g)(),n=Object(u.b)(),c=r.a.useRef(),o=Object(u.c)((function(e){return e.auth})),s=o.isAuthed,m=Object(i.a)(o,["isAuthed"]),d=r.a.useState(Object(p.a)({status:s?"success":"idle",focus:!1===s,isUUID:!0===s,diff:!1===s},m,{isAuthed:s})),f=Object(Te.a)(d,2),b=f[0],E=f[1],v=function(){var e=Object(We.a)(De.a.mark((function e(){var t,a,r,o,i,l,s;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=b.accesstoken,a={url:"/accesstoken",params:{accesstoken:t}},e.next=4,Ze(a);case 4:if(r=e.sent,o=r.success,i=r.data,l=r.err_msg,!c.current){e.next=10;break}return e.abrupt("return");case 10:o?(s={isAuthed:!0,accesstoken:t,avatar:i.avatar_url,uname:i.loginname,uid:i.id},n({type:"UPDATE_AUTH",data:s}),E((function(e){return Object(p.a)({},e,{status:"success",diff:!1},s)}))):(E((function(e){return Object(p.a)({},e,{status:"error"})})),l&&n({type:"OPEN_NOTIFICATION",data:{message:l,status:"error"}}));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.useEffect((function(){return function(){return c.current=!0}}),[]),r.a.createElement(ja,{title:"\u767b\u5f55",withHeader:!1,htmlAttributes:{id:"signin"}},r.a.createElement("div",{className:"container flex"},r.a.createElement(mc,{className:"".concat(t.svg," bg")}),r.a.createElement("div",{className:"flex area top"}),r.a.createElement("div",{className:"flex area mid"},r.a.createElement("div",{className:"logo"},r.a.createElement(Mt,{color:"dark"})),r.a.createElement(ka.a,{in:b.isAuthed},b.isAuthed&&r.a.createElement("div",{className:Object(Ae.a)("auth-user",{show:b.isAuthed,diff:b.diff})},r.a.createElement("div",{className:"avatar"},r.a.createElement(at.a,{className:"item",alt:b.uname,src:b.avatar})),r.a.createElement(Na.a,{className:"name"},r.a.createElement("span",{className:"item"},b.uname)))),r.a.createElement("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault();var t=b.isUUID,a=b.diff;t&&a&&(c.current=!1,v())}},r.a.createElement(Cn.a,{fullWidth:!0,id:"accesstoken",label:"Access Token",margin:"normal",spellCheck:"false",autoFocus:!b.isAuthed,error:"error"===b.status,className:Object(Ae.a)(t.root,b.status,{focus:b.focus}),onChange:(e="accesstoken",function(t){var a=t.target.value.trim(),n=m.accesstoken,r=a===n;E((function(t){var n;return Object(p.a)({},t,(n={status:r?"success":"idle"},Object(h.a)(n,e,a),Object(h.a)(n,"isUUID",g(a)),Object(h.a)(n,"diff",!1===r),n))}))}),value:b.accesstoken||"",onFocus:function(){E((function(e){return Object(p.a)({},e,{focus:!0})}))},onBlur:function(){E((function(e){return Object(p.a)({},e,{focus:!1})}))}}),r.a.createElement("div",{className:"btn"},r.a.createElement(Lt.a,Object.assign({variant:"outlined"},b.diff?{type:"submit",disabled:!b.isUUID}:{onClick:function(){a.length>1?a.goBack():a.push("/")},autoFocus:b.isAuthed}),b.diff?"\u6388\u6743":"\u5b8c\u6210")))),r.a.createElement("div",{className:"flex area bot"})),r.a.createElement(yn,null))},fc=a(407),bc=a(207),gc=a.n(bc),hc=a(496),Ec=a(481),vc=a(482),Oc=a(484),jc=a(483),yc=a(206),wc=a.n(yc),xc=a(120),Nc=a.n(xc),kc=Object(Ne.a)((function(e){return{unRead:{boxShadow:"0 1px 2px 0 rgba(245,0,87,.16),0 1px 1px 0 rgba(245,0,87,.12),0 2px 1px -1px rgba(245,0,87,.1)","&:before":{backgroundColor:"rgba(245,0,87,.12)"}},summary:{"@media (max-width: 768px)":{paddingLeft:20,paddingRight:20},"@media (max-width: 600px)":{paddingLeft:16,paddingRight:16},"@media (max-width: 420px)":{paddingLeft:14,paddingRight:14}},content:{maxWidth:"100%",minWidth:0},moreUnRead:{color:"rgba(245,0,87,.7)"},avatar:{marginRight:10},title:{fontSize:16,lineHeight:"1.5em"},uname:{display:"block",fontWeight:700},time:{paddingLeft:10,"& time":{marginLeft:3},"& div":{display:"flex",alignItems:"center"}},sizeAt:{fontSize:18,transform:"translateY(-1px)"},sizeReply:{fontSize:20,transform:"translateY(-1.5px)"},gray:{color:"light"===e.palette.type?"rgba(0,0,0,.5)":"rgba(130,130,130,.5)"},actions:{paddingLeft:14,paddingRight:14,"@media (max-width: 600px)":{paddingTop:12,paddingBottom:12},"@media (max-width: 420px)":{paddingLeft:12,paddingRight:12}},btn:{padding:"6px 10px"},icon:{marginLeft:2,fontSize:14}}})),Cc=function(e){var t=r.a.useState(Object(p.a)({},e.item)),a=Object(Te.a)(t,2),n=a[0],c=a[1],o=Object(u.c)((function(e){return e.auth})).accesstoken,i=Object(u.b)(),l=r.a.useRef(!1);r.a.useEffect((function(){return function(){return l.current=!0}}),[]);var m=function(){var e=Object(We.a)(De.a.mark((function e(){var t,a,r;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={url:"/message/mark_one/".concat(n.id),params:{accesstoken:o}},e.next=3,Ze(t);case 3:a=e.sent,r=a.success,!l.current&&r&&(i({type:"READ_MESSAGE"}),c((function(e){return Object(p.a)({},e,{has_read:!0})})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=kc(),f=e.hasRead;return r.a.createElement(hc.a,{className:Object(Ae.a)(Object(h.a)({},d.unRead,!n.has_read&&!f)),onChange:function(e,t){n.has_read||m()}},r.a.createElement(Ec.a,{classes:{root:d.summary,content:d.content,expandIcon:Object(Ae.a)(Object(h.a)({},d.moreUnRead,!n.has_read&&!f))},expandIcon:r.a.createElement(Ma.a,null)},r.a.createElement(et.a,{container:!0,wrap:"nowrap",alignItems:"center"},r.a.createElement(et.a,{item:!0,className:d.avatar},r.a.createElement(Pa,{name:n.author.loginname,image:n.author.avatar_url})),r.a.createElement(et.a,{container:!0,item:!0,zeroMinWidth:!0,wrap:"wrap",alignItems:"center"},r.a.createElement(et.a,{container:!0,item:!0,zeroMinWidth:!0,wrap:"wrap",alignItems:"center"},r.a.createElement(Na.a,{noWrap:!0,component:"h4",className:d.title},n.topic.title)),r.a.createElement(et.a,{container:!0,item:!0,zeroMinWidth:!0,wrap:"nowrap",alignItems:"center"},r.a.createElement(et.a,{item:!0,zeroMinWidth:!0},r.a.createElement(Na.a,{noWrap:!0,component:"span",className:Object(Ae.a)(d.uname,d.gray)},n.author.loginname)),r.a.createElement(et.a,{item:!0,className:d.time},r.a.createElement(Na.a,{noWrap:!0,component:"div",className:d.gray},"reply"===n.type?r.a.createElement(Mr.a,{className:d.sizeReply}):r.a.createElement(wc.a,{className:d.sizeAt}),r.a.createElement(Ba,{fromNow:!0},n.reply.create_at))))))),r.a.createElement(vc.a,null,r.a.createElement(Qn,{markdownString:n.reply.content})),r.a.createElement(jc.a,null),r.a.createElement(Oc.a,{className:d.actions},r.a.createElement(Lt.a,{component:s.b,className:d.btn,to:"/user/".concat(n.author.loginname),target:"_blank",size:"medium"},"\u6d4f\u89c8\u7528\u6237",r.a.createElement(Nc.a,{className:d.icon})),r.a.createElement(Lt.a,{component:s.b,className:d.btn,to:"/topic/".concat(n.topic.id,"#").concat(n.reply.id),target:"_blank",size:"medium",color:"primary"},"\u524d\u5f80\u67e5\u770b",r.a.createElement(Nc.a,{className:d.icon}))))},Sc=Object(Ne.a)((function(e){return{spacings:{marginTop:40,marginBottom:10,padding:"0 7px","@media (max-width: 768px)":{marginTop:30,marginBottom:8},"@media (max-width: 600px)":{marginTop:20,marginBottom:4}},text:{position:"relative",flex:1,marginRight:8,fontSize:14,color:"light"===e.palette.type?"rgba(0,0,0,.6)":"rgba(190,190,190,.6)",pointerEvents:"none",transition:"opacity .15s cubic-bezier(.4,0,.2,1)","@media (max-width: 600px)":{marginRight:4},"& span":{position:"absolute",top:-9,right:0,whiteSpace:"nowrap"}},opacity:{opacity:.6},error:{color:e.palette.secondary.main}}})),Tc=function(){var e,t=r.a.useState([]),a=Object(Te.a)(t,2),n=a[0],c=a[1],o=r.a.useState({status:"loading",err_msg:"\u53d1\u751f\u9519\u8bef"}),i=Object(Te.a)(o,2),s=i[0],d=i[1],f=Object(u.c)((function(e){return Object(p.a)({},e.auth,{message:Object(p.a)({},e.message)})})),b=f.isAuthed,g=f.accesstoken,E=f.message,v=r.a.useRef(!1),O=Object(u.b)(),j=Object(l.g)(),y=Sc(),w=function(){var e=Object(We.a)(De.a.mark((function e(){var t,a,r;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v.current=!1,t={url:"/message/mark_all",params:{accesstoken:g}},e.next=4,Ze(t);case 4:a=e.sent,r=a.success,!v.current&&r&&(n.map((function(e){return e.has_read=!0})),c(n),O({type:"READ_ALL_MESSAGE"}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.useEffect((function(){if(Boolean(g))return Object(We.a)(De.a.mark((function e(){var t,a,n,r,o,i,l,s,u;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={url:"/messages",params:{accesstoken:g,mdrender:!1}},e.next=3,Qe(t);case 3:if(a=e.sent,n=a.success,r=a.data,o=r.hasnot_read_messages,i=void 0===o?[]:o,l=r.has_read_messages,s=void 0===l?[]:l,u=a.err_msg,!v.current){e.next=13;break}return e.abrupt("return");case 13:n?(O({type:"UPDATE_MESSAGE",data:i.length}),d({status:"success"}),c([].concat(Object(m.a)(i),Object(m.a)(s)))):d((function(e){return{status:"error",err_msg:u||e.err_msg}}));case 14:case"end":return e.stop()}}),e)})))(),function(){return v.current=!0}}),[g,O]),r.a.useEffect((function(){b||j.push("/")}),[b,j]),r.a.createElement(ja,{title:"\u6d88\u606f"},r.a.createElement("div",{className:"wrapper"},r.a.createElement(et.a,{container:!0,alignItems:"center",justify:"flex-end",className:y.spacings},r.a.createElement(et.a,{item:!0,className:Object(Ae.a)(y.text,(e={},Object(h.a)(e,y.opacity,"success"!==s.status||0===E.count),Object(h.a)(e,y.error,"error"===s.status),e))},r.a.createElement(kr.a,{unmountOnExit:!0,in:"loading"===s.status},r.a.createElement("span",null,"\u83b7\u53d6\u6d88\u606f\u4e2d\u2026\u2026")),r.a.createElement(kr.a,{unmountOnExit:!0,in:"error"===s.status},r.a.createElement("span",null,s.err_msg)),r.a.createElement(kr.a,{unmountOnExit:!0,in:"success"===s.status&&!Boolean(n.length)},r.a.createElement("span",null,"\u6ca1\u6709\u6d88\u606f\u54e6")),r.a.createElement(kr.a,{unmountOnExit:!0,in:"success"===s.status&&Boolean(n.length)&&!Boolean(E.count)},r.a.createElement("span",null,"\u5df2\u8bfb\u5168\u90e8\u6d88\u606f")),r.a.createElement(kr.a,{unmountOnExit:!0,in:"success"===s.status&&Boolean(E.count)},r.a.createElement("span",null,E.count," \u6761\u672a\u8bfb\u6d88\u606f"))),r.a.createElement(fc.a,{title:"\u5168\u90e8\u6807\u4e3a\u5df2\u8bfb",enterDelay:500,placement:"left-start",disableTouchListener:!0},r.a.createElement("span",null,r.a.createElement(He.a,{onClick:w,disabled:"success"!==s.status||0===E.count,disableRipple:!0},r.a.createElement(gc.a,null))))),n.map((function(e){return r.a.createElement(Cc,{key:e.id,item:e,hasRead:e.has_read})}))),r.a.createElement("div",{className:"status wrapper"},r.a.createElement(Ya,{status:s.status})))},_c=a(485),Rc=a(494),Ac=a(208),Ic=a.n(Ac),Mc=a(209),Lc=a.n(Mc),Pc=(a(396),Object(Ne.a)((function(e){return{title:{marginTop:30,marginBottom:14,paddingLeft:1,paddingRight:1,fontSize:15},mark:{backgroundColor:"transparent"}}}))),Hc=Object(Ie.a)()((function(e){var t=Object(Tt.a)(),a=Pc(),n=Object(u.b)(),c=Object(u.c)((function(e){return e})),o=c.auth.isAuthed,i=c.settings;return r.a.createElement(ja,{title:"\u8bbe\u7f6e"},r.a.createElement("div",{id:"settings",className:"wrapper"},r.a.createElement(Na.a,{className:a.title},"\u5916\u89c2"),r.a.createElement(ct.a,null,r.a.createElement("div",{className:"setting"},r.a.createElement("div",{className:"setting-label"},"\u4e3b\u9898\u6a21\u5f0f"),r.a.createElement(He.a,{color:"inherit",onClick:function(){var e="light"===t.palette.type?"dark":"light";n({type:"UPDATE_SETTINGS",data:Object(p.a)({},i,{themeMode:e})})},disabled:i.autoFollow},"light"===i.themeMode?r.a.createElement(Ic.a,null):r.a.createElement(Lc.a,null))),r.a.createElement("div",{className:"setting"},r.a.createElement("div",{className:"setting-label"},"\u8ddf\u968f\u7cfb\u7edf"),r.a.createElement(_c.a,{className:"switch",checked:i.autoFollow,onChange:function(){var e=!i.autoFollow;n({type:"UPDATE_SETTINGS",data:Object(p.a)({},i,{autoFollow:e})})},color:"primary"}))),r.a.createElement(Na.a,{className:a.title},"\u5361\u7247"),r.a.createElement(ct.a,null,r.a.createElement("div",{className:"setting"},r.a.createElement("div",{className:"setting-label"},"\u6458\u8981\u9884\u89c8"),r.a.createElement(_c.a,{className:"switch",checked:i.cardPreview,onChange:function(){n({type:"UPDATE_SETTINGS",data:Object(p.a)({},i,{cardPreview:!i.cardPreview})})},color:"primary"}))),r.a.createElement(Na.a,{className:a.title},"\u6d88\u606f"),r.a.createElement(ct.a,null,r.a.createElement("div",{className:Object(Ae.a)("setting",{nano:Object(Ie.b)("xs",e.width)})},r.a.createElement("div",{className:"setting-label"},"\u63d0\u9192\u95f4\u9694\uff08\u5206\u949f\uff09"),r.a.createElement("div",{className:"setting-wrapper"},r.a.createElement(Rc.a,{disabled:!o,min:0,max:10,step:null,value:i.time/60,marks:[{value:0,label:"\u5173"},{value:1,label:"1"},{value:3,label:"3"},{value:5,label:"5"},{value:10,label:"10"}],onChange:function(e,t){n({type:"UPDATE_SETTINGS",data:Object(p.a)({},i,{time:60*t})})},classes:{mark:a.mark,markActive:a.mark}})))),r.a.createElement(Na.a,{className:a.title},"\u91cd\u7f6e"),r.a.createElement(ct.a,null,r.a.createElement("div",{className:"setting"},r.a.createElement("div",{className:"setting-label"},"\u5c06\u6240\u6709\u8bbe\u7f6e\u8fd8\u539f\u4e3a\u539f\u59cb\u9ed8\u8ba4\u8bbe\u7f6e"),r.a.createElement(Lt.a,{onClick:function(){n({type:"RESTORE_SETTINGS"})},variant:"outlined"},"\u91cd\u7f6e")))))}));function zc(){return(zc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var Bc=function(e){e.styles;var t=Object(i.a)(e,["styles"]);return r.a.createElement("svg",zc({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},t),r.a.createElement("path",{d:"M369.5 32H142.4C81.5 32 32 82.6 32 144.6v222.8c0 62 49.5 112.6 110.4 112.6h227.2c60.9 0 110.5-50.6 110.5-112.6V144.6C480 82.6 430.5 32 369.5 32zM175 251v.7c0 10.9-9.1 20.4-19.9 20.4h-23.3c-10.8 0-19.9-9.5-19.9-20.4V148.1c1-10.8 9.2-20.2 19.9-20.2h23.3c10.9 0 19.9 9.8 19.9 20.8V251zm122 147.4c0 11.4-8.9 17.6-20.1 17.6h-41.8c-11.2 0-20.1-8.1-20.1-19.6v-29.3c0-23.3 18.1-42.3 41-42.3s41 19 41 42.3v31.3zM400 251v.7c0 10.9-9.1 20.4-19.9 20.4h-24.3c-10.8 0-19.9-9.5-19.9-20.4V148.1c1-10.8 9.2-20.2 19.9-20.2h24.3c10.8 0 19.9 9.8 19.9 20.8V251z"}))},Uc=Object(Ne.a)((function(e){return{main:Object(h.a)({paddingTop:120,flexDirection:"column"},e.breakpoints.down("sm"),{position:"fixed",top:0,right:0,bottom:0,left:0,padding:0,overflow:"hidden"}),center:{justifyContent:"center",alignItems:"center"},wrapper:Object(h.a)({flexDirection:"row",marginBottom:40},e.breakpoints.down("sm"),{flexDirection:"column",marginBottom:62,marginTop:-32}),h1:Object(h.a)({marginRight:45,paddingRight:45,fontSize:80,borderRight:"3px solid #7b7b7b"},e.breakpoints.down("sm"),{marginRight:0,marginBottom:32,paddingRight:0,border:"none"}),p:{fontSize:20,textAlign:"left",flexDirection:"column"},icon:{width:"1em",height:"1em",fontSize:60,fill:e.palette.text.primary},button:Object(h.a)({paddingTop:10,paddingBottom:10},e.breakpoints.down("sm"),{marginBottom:32})}})),Dc=function(){var e=Uc(),t=Object(l.g)();return r.a.createElement(ja,{title:"404",withHeader:!1},r.a.createElement("div",{className:Object(Ae.a)("flex",e.main,e.center)},r.a.createElement("div",{className:Object(Ae.a)("flex",e.wrapper,e.center)},r.a.createElement("h1",{className:e.h1},"404"),r.a.createElement("p",{className:Object(Ae.a)("flex",e.p,e.center)},r.a.createElement(Bc,{className:e.icon}),r.a.createElement("span",null,"Page not Found"))),r.a.createElement(Lt.a,{className:e.button,variant:"outlined",onClick:function(){t.push("/")}},"Back to Home")))},Wc=Dc;var Fc=function(e){var t=e.component,a=Object(i.a)(e,["component"]),n=Object(u.c)((function(e){return e.auth})).isAuthed;return r.a.createElement(l.b,Object.assign({},a,{render:function(e){return n?r.a.createElement(t,e):r.a.createElement(l.a,{to:"/"})}}))},Gc=function(){return r.a.createElement(u.a,{store:le},r.a.createElement(we,null,r.a.createElement(s.a,{basename:"/RCNode"},r.a.createElement(ha,null,r.a.createElement(xe,null),r.a.createElement(r.a.Suspense,{fallback:r.a.createElement(Se,null)},r.a.createElement(l.d,null,r.a.createElement(l.b,{exact:!0,path:"/",component:Nr}),r.a.createElement(l.b,{exact:!0,path:"/topic/:topic_id",component:Jr}),r.a.createElement(l.b,{exact:!0,path:"/user/:uname",component:lc}),r.a.createElement(l.b,{exact:!0,path:"/signin/",component:pc}),r.a.createElement(Fc,{exact:!0,path:"/message/",component:Tc}),r.a.createElement(l.b,{exact:!0,path:"/settings/",component:Hc}),r.a.createElement(l.b,{exact:!0,path:"/test/",component:Wc}),r.a.createElement(l.b,{path:"*",component:Dc})))))))},Vc=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Yc(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(r.a.createElement(Gc,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/RCNode",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/RCNode","/service-worker.js");Vc?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Yc(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Yc(t,e)}))}}()}},[[237,1,2]]]);
//# sourceMappingURL=main.17424ad3.chunk.js.map