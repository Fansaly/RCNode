{"version":3,"sources":["static/images/houses_beautiful_beach_photo_wallpaper.jpg","common/validateUUID.js","routers.js","common/navTabs.js","common/navIsActive.js","common/topicTypes.js","common/matchTab.js","common/URI.js","common/getNewData.js","store/reducers/auth.js","store/reducers/message.js","store/reducers/editor.js","store/reducers/share.js","store/reducers/zoom.js","store/reducers/notification.js","store/reducers/settings.js","store/reducers/colors.js","store/reducers/index.js","store/index.js","Components/Prism/index.js","Components/Theme/themeOptions.js","Components/Theme/index.jsx","Components/ScrollToTop/index.jsx","Components/Loadding/index.jsx","Layout/Helper.js","fetch/getBingImage.js","fetch/index.js","Components/Icons/Github.jsx","Components/Icons/SignOut.jsx","Components/Icons/index.jsx","static/avatar.svg","Components/Me/index.jsx","Layout/Nav/NormalNav.jsx","Components/TopicTypeIcon/index.jsx","static/cnodejs/cnodejs.svg","Layout/Nav/DrawerNav.jsx","static/cnodejs/cnodejs_light.svg","Layout/Header/index.jsx","Layout/Notice.jsx","Layout/AppFrame.jsx","Layout/AppWrapper.js","Components/Avatar/index.jsx","Components/Moment/index.jsx","Components/TopiCard/index.jsx","common/removeHtmlTags.js","common/randomNumber.js","Components/TopiCards/index.jsx","Components/Progress/index.jsx","Components/ActionDial/index.jsx","Components/Notification/index.jsx","Components/Markdown/MarkdownEditor.jsx","Components/Markdown/markdown-it.js","Components/Markdown/MarkdownRender.jsx","Components/Editor/EditorHeader.jsx","Components/Editor/Preview.jsx","Components/Editor/index.jsx","store/actions/index.js","Components/useLoadmore/index.js","Views/Home/index.jsx","Views/Topic/TopicReply.jsx","Components/ImageZoom/index.jsx","Components/ShareDialog/index.jsx","Views/Topic/index.jsx","Views/User/index.jsx","static/google_signin.svg","Views/Signin/index.jsx","Views/Message/MessageCard.jsx","Views/Message/index.jsx","Views/Settings/index.jsx","static/ionicons_md_outlet.svg","Views/404/index.jsx","App.jsx","serviceWorker.js","index.js"],"names":["module","exports","uuid","validate","devRouters","routers","tab","all","path","name","isTopicType","good","share","ask","job","dev","topic","user","navTabsArray","navTabsObject","tabs","push","navIsActive","location","pathname","search","topicTypes","match","formatArr","arr","Array","map","value","join","orgURIRexStr","_orgURIRexStr","key","Object","keys","transformOrgURL","string","restr","regex","RegExp","replace","$0","$1","$2","$3","$4","baseURL","window","protocol","host","process","isGoBack","open","response","_","isEmpty","defaultState","accesstoken","undefined","avatar","uname","uid","isAuthed","initialState","JSON","parse","localStorage","getItem","validateUUID","auth","state","type","data","other","setItem","stringify","removeItem","count","message","Math","max","editor","action","url","post","zoom","status","notification","autoFollow","themeMode","cardPreview","time","settings","colors","rootReducer","combineReducers","store","createStore","applyMiddleware","Prism","alias","styleNode","document","querySelector","lightThemeOptions","primary","main","dark","light","background","default","darkThemeOptions","contrastText","secondary","active","text","divider","ThemeProvider","props","systemThemeMode","useMediaQuery","useSelector","paletteType","React","useEffect","theme","textContent","setPrismTheme","lightPrismTheme","darkPrismTheme","useMemo","createMuiTheme","palette","children","ScrollToTop","useLocation","scrollTo","useStyles","makeStyles","root","position","top","left","right","Loadding","classes","className","LinearProgress","changeElementAttributes","element","attrs","documentElement","body","contains","assign","id","class","forEach","Boolean","setAttribute","removeAttribute","getBingImage","a","async","defaultData","copyright","image","Date","getTime","axios","get","console","warn","cnodeAxios","create","timeout","fetch","method","params","success","err_msg","error_msg","trim","GithubIcon","SvgIcon","viewBox","githubSvg","d","SignOutIcon","signOutSvgPath","_extends","target","i","arguments","length","source","prototype","hasOwnProperty","call","apply","this","styles","createElement","xmlns","fill","cx","cy","r","badge","content","marginTop","marginRight","width","height","borderRadius","opacity","transition","backgroundColor","boxShadow","animation","border","transform","hidden","visibility","Me","s","dispatch","useDispatch","history","useHistory","timerMessage","useRef","timerSignout","isCancel","anchorEl","useState","setOpen","handleClose","event","current","handleInfo","handleMessage","handleSettings","handleSignin","handleSignout","clearTimeout","setTimeout","fetchUnreadCount","Grid","item","container","alignContent","alignItems","justify","IconButton","buttonRef","node","aria-owns","aria-haspopup","onClick","prevState","clsx","Avatar","src","alt","Popper","disablePortal","TransitionProps","placement","Grow","style","transformOrigin","Paper","ClickAwayListener","onClickAway","MenuList","MenuItem","ListItemIcon","ListItemText","Badge","badgeContent","color","NormalNav","isActive","navTabs","to","activeClassName","Button","disableFocusRipple","TopicTypeIcon","rest","typeIcon","version","x","y","xmlSpace","fillRule","clipRule","drawerPaper","toolbar","display","justifyContent","mixins","logo","paddingLeft","breakpoints","up","marginBottom","spacing","DrawerNav","onClose","SwipeableDrawer","variant","onOpen","paper","ModalProps","keepMounted","List","ListItem","button","component","selected","handleClick","header","backgroundImage","navPlaceholder","navHidden","withWidth","isMobile","drawerOpen","setState","handleToggleNav","isWidthUp","Fragment","AppBar","Toolbar","currentTarget","animateScroll","duration","smooth","Hidden","xsDown","smDown","implementation","mdUp","sleep","delay","Promise","resolve","messages","getMessages","result","json","Notice","setMessage","lastSeen","seen","parseInt","getLastSeenNotice","unseenMessages","filter","msg","mounted","test","navigator","userAgent","Snackbar","anchorOrigin","vertical","horizontal","ContentProps","dangerouslySetInnerHTML","__html","size","autoHideDuration","onExited","initialOptions","title","htmlAttributes","bodyAttributes","withHeader","AppFrameContext","createContext","AppFrame","useReducer","payload","Error","options","changeTitle","Provider","CssBaseline","AppWrapper","changeApp","useContext","useCallback","reset","useChangeApp","propTypes","PropTypes","isRequired","object","bool","objectFit","fontSize","lineHeight","textIndent","CustomAvatar","aria-label","Moment","globalLocale","padding","fontWeight","fontFamily","letterSpacing","textTransform","expand","margin","transitions","shortest","expandOpen","simple","targetRefs","expanded","setExpanded","Card","includes","ref","author","loginname","avatar_url","Typography","CardActions","aria-expanded","wrap","zeroMinWidth","fromNow","create_at","last_reply_at","reply_count","visit_count","Collapse","in","unmountOnExit","CardContent","str","len","min","ceil","floor","random","randomNumber","substr","substrContent","TopiCards","items","card","Progress","CSSTransition","classNames","enter","exit","CircularProgress","svg","appbar","bottom","wrapper","fabMoveUp","enteringScreen","easing","easeOut","fabMoveDown","leavingScreen","sharp","single","signedUname","visible","notificationIsOpen","topic_id","useParams","favorite","shareURL","handleUpdate","config","handleOpenEditor","origin","is_collect","Zoom","Fab","SpeedDial","ariaLabel","onMouseEnter","onMouseLeave","icon","SpeedDialIcon","openIcon","SpeedDialAction","tooltipTitle","reply_id","error","info","warning","iconVariant","variantIcon","CheckCircleIcon","WarningIcon","ErrorIcon","InfoIcon","Notification","handleExit","Icon","SnackbarContent","aria-describedby","close","flex","minHeight","MarkdownEditor","inputRef","disabled","updateContent","onUpdateContent","TextField","multiline","rows","fullWidth","placeholder","onChange","md","MarkdownIt","html","linkify","typographer","quotes","highlight","code","lang","toLocaleLowerCase","languages","use","checkbox","emoji","sub","sup","footnote","atToHtml","prevSpaces","nextSpaces","href","renderer","rules","tokens","idx","env","self","link_open","attrPush","hrefIdx","attrIndex","hrefSrc","level","renderToken","borderLeftColor","borderBottomColor","borderColor","borderTopColor","MarkdownRender","markdownString","mdRef","getAttribute","from","querySelectorAll","img","addEventListener","mdRender","render","paddingRight","paddingTop","paddingBottom","back","marginLeft","EditorHeader","onPublishTab","onPreview","fullScreen","onFullScreen","moreOpen","setMoreOpen","selectOpen","setSelectOpen","publishTab","setPublishTab","handlePublishTab","handleCloseSelect","handleCloseMore","_tab","matchTab","getPublishTab","Popover","anchorReference","anchorPosition","Dialog","maxWidth","DialogTitle","DialogContent","RadioGroup","FormControlLabel","label","control","Radio","borderBottomWidth","borderBottomStyle","isWidthDown","disableTypography","Transition","forwardRef","Slide","direction","Editor","titleRef","createRef","contentRef","handleFocus","focus","handleOpenPreview","openNotification","preview","handleClosePreview","handleFullScreen","handleChange","check","checkTab","checkTitle","checkContent","isOK","handleSubmit","request","handlePreClose","closeEditor","changed","nextProps","nextPathname","nextSearch","prevPathname","prevSearch","PaperProps","TransitionComponent","onEntered","rowsMax","DialogActions","actions","cancel","doit","Component","compose","withStyles","minWidth","withRouter","connect","useLoadmore","loadmore","setLoadmore","threshold","handleScroll","documentHeight","offsetHeight","scrollHeight","scrollTop","windowHeight","innerHeight","removeEventListener","Home","isFetching","isFetched","page","setTab","topics","setTopics","setStatus","fetchTopics","limit","mdrender","getData","editorData","newDataCreate","dtime","author_id","getNewDataCreate","index","topicAuthor","hash","sharePrefixURL","setSharePrefixURL","ups","isUped","is_uped","upData","setUpData","createAt","timer","appHeaderHight","replieSpacings","scroller","offset","sX","sY","mX","mY","scale","scaleLevel","scaleLevels","spacings","dragSpacings","disabledUp","disabledDown","disabledReset","dragEnabled","dragActive","ready","ImageZoom","box","handleShare","zoomTarget","openShare","closeZoom","resetState","getDragThreshold","initialWidth","initialHeight","wrapWidth","wrapHeight","maxHeight","currentWidth","currentHeight","tX","tY","getTransform","updateTransform","resetTransform","updateDragStatus","getEventPosition","isTouch","touches","pageX","clientX","pageY","clientY","dragStart","preventDefault","dragEnd","bindEvents","eStart","eMove","eEnd","eCancel","setViewport","viewport","head","resetViewport","initState","naturalWidth","naturalHeight","clientWidth","clientHeight","zoomInit","complete","zoomExit","handleZoom","maxScaleLevel","onEnter","BackdropProps","backdrop","onKeyUp","role","tabIndex","Fade","loading","btn","zIndex","userSelect","outline","overflow","transitionDuration","transitionDelay","cursor","flexWrap","ShareDialog","inputProps","readOnly","copy","autoFocus","useTheme","setTopic","replies","setReplies","dialTopic","setDialTopic","reps","newDataReply","getNewDataReply","newDataUpdate","getNewDataUpdate","cover","progress","colorPrimary","barColorPrimary","down","tips","indicator","labelIndex","show","collections","bingImgRef","bingImage","setBingImage","setIndex","profile","setProfile","toUpperCase","setBingImageLoadComplete","recent_topics","recent_replies","swipeableViewsRef","aria-hidden","format","githubUsername","score","smUp","Tabs","centered","Tab","onChangeIndex","enableMouseEvents","animateHeight","slideStyle","SwipeableViewsTab","getChildContext","swipeableViews","slideUpdateHeight","preserveAspectRatio","Signin","authRest","isUUID","diff","noValidate","autoComplete","onSubmit","validateUser","spellCheck","condition","onFocus","onBlur","goBack","unRead","summary","moreUnRead","sizeAt","sizeReply","gray","MessageCard","disptach","hasRead","ExpansionPanel","has_read","markMessage","ExpansionPanelSummary","expandIcon","noWrap","reply","ExpansionPanelDetails","Divider","ExpansionPanelActions","Link","pointerEvents","whiteSpace","Message","setItems","hasnot_read_messages","has_read_messages","Tooltip","enterDelay","disableTouchListener","disableRipple","mark","Switch","checked","Slider","step","marks","markActive","flexDirection","center","h1","borderRight","p","textAlign","NotFound","Test","PrivateRoute","App","Theme","basename","Suspense","fallback","exact","Topic","User","Settings","isLocalhost","hostname","registerValidSW","swUrl","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","log","onUpdate","onSuccess","catch","ReactDOM","getElementById","URL","headers","contentType","indexOf","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.96fcd3e5.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/houses_beautiful_beach_photo_wallpaper.b764c878.jpg\";","import validate from 'uuid-validate';\n\n/**\n * repo. https://github.com/cnodejs/nodeclub\n * file: nodeclub/proxy/user.js\n * line: 106\n * uuid.v4()\n */\nconst uuidVersion = 4;\n\nexport default (uuid) => {\n  return validate(uuid, uuidVersion);\n};\n","const devRouters = process.env.NODE_ENV === 'development' ? {\n  // markdown render test\n  devMD: {\n    path: '/test',\n    name: 'MD-TEST',\n  },\n} : {};\n\nconst routers = {\n  tab: {\n    all: {\n      path: '/',\n      name: '全部',\n      isTopicType: false,\n    },\n    good: {\n      path: '/?tab=good',\n      name: '精华',\n      isTopicType: false,\n    },\n    share: {\n      path: '/?tab=share',\n      name: '分享',\n      isTopicType: true,\n    },\n    ask: {\n      path: '/?tab=ask',\n      name: '问答',\n      isTopicType: true,\n    },\n    job: {\n      path: '/?tab=job',\n      name: '招聘',\n      isTopicType: true,\n    },\n    dev: {\n      path: '/?tab=dev',\n      name: '测试',\n      isTopicType: true,\n    },\n    ...devRouters,\n  },\n  topic: {\n    path: '/topic',\n    name: '主题',\n  },\n  user: {\n    path: '/user',\n    name: '用户',\n  },\n};\n\nexport default routers;\n","import routers from '../routers';\n\nlet navTabsArray = [];\nlet navTabsObject = {};\nconst tabs = routers.tab;\n\nfor (let tab in tabs) {\n  if (typeof tabs !== 'object') {\n    continue;\n  }\n\n  navTabsArray.push({\n    ...tabs[tab],\n    tab,\n  });\n\n  navTabsObject = {\n    ...navTabsObject,\n    [tab]: tabs[tab],\n  };\n}\n\nexport { navTabsArray, navTabsObject };\n","export const navIsActive = (path, location = {}) => {\n  const { pathname, search } = location;\n  return !!path && path === `${pathname}${search}`;\n};\n","import routers from '../routers';\n\nlet topicTypes = [];\nconst tabs = routers.tab;\n\nfor (let tab in tabs) {\n  if (tabs[tab].isTopicType) {\n    topicTypes.push(tab);\n  }\n}\n\nexport { topicTypes };\n","export default (location = {}) => {\n  const { pathname, search = '' } = location;\n  const tab = search.match(/\\?tab=(\\w+)/);\n\n  return (\n    tab\n      ? tab[1]\n      : pathname === '/'\n        ? 'all'\n        : null\n  );\n};\n","import routers from '../routers';\n\nconst cnodeURL = 'cnodejs.org';\n\nconst formatArr = arr => {\n  if (arr instanceof Array) {\n    return arr.map(value => {\n      return `(${value})`;\n    }).join('|');\n  }\n};\n\nconst orgURIRexStr = (() => {\n  let _orgURIRexStr = [ '/?' ];\n\n  for (let key in routers) {\n    if (key === 'tab') {\n      _orgURIRexStr.push(`/\\\\?tab=(${formatArr(Object.keys(routers[key]))})`);\n    } else {\n      _orgURIRexStr.push(`/${key}/\\\\w+`);\n    }\n  }\n\n  return formatArr(_orgURIRexStr);\n})();\n\nconst transformOrgURL = string => {\n  const restr = `^(http(s)?://)?(www.)?${cnodeURL}(${orgURIRexStr})$`;\n  const regex = new RegExp(restr, 'i');\n\n  return string.replace(regex, ($0, $1, $2, $3, $4) => {\n    let baseURL = cnodeURL;\n\n    if (typeof window !== 'undefined') {\n      $1 = $1 && `${window.location.protocol}//`;\n      baseURL = window.location.host;\n    }\n\n    $1 = $1 || '';\n\n    return `${$1}${baseURL}${process.env.PUBLIC_URL}${$4}`;\n  });\n};\n\nexport { transformOrgURL };\nexport default orgURIRexStr;\n","import _ from 'lodash';\n\nconst isGoBack = ({ open, response = {} }) => {\n  return open || _.isEmpty(response);\n};\n\nconst getNewDataCreate = ({ action, ...props }) => {\n  if (isGoBack(props) || action !== 'create') {\n    return null;\n  }\n\n  const dtime = new Date();\n  const { uid, uname, avatar } = props;\n  const { tab, title, content } = props.request;\n  const { topic_id: id } = props.response;\n\n  return [{\n    author: {\n      loginname: uname,\n      avatar_url: avatar,\n    },\n    author_id: uid,\n    id,\n    tab,\n    title,\n    content,\n    create_at: dtime,\n    last_reply_at: dtime,\n    reply_count: 0,\n    visit_count: 0,\n    good: false,\n    top: false,\n  }];\n};\n\nconst getNewDataUpdate = ({ action, ...props }) => {\n  if (isGoBack(props) || action !== 'update') {\n    return null;\n  }\n\n  const { tab, title, content } = props.request;\n\n  return { tab, title, content };\n};\n\nconst getNewDataReply = ({ action, ...props }) => {\n  if (isGoBack(props) || action !== 'reply') {\n    return null;\n  }\n\n  const { uname, avatar } = props;\n  const { content, reply_id } = props.request;\n  const { reply_id: id } = props.response;\n  const { topic_id } = props.match.params;\n\n  return {\n    author: {\n      loginname: uname,\n      avatar_url: avatar,\n    },\n    id,\n    ups: [],\n    is_uped: false,\n    create_at: new Date(),\n    content,\n    reply_id: reply_id !== topic_id ? reply_id : null,\n  };\n};\n\nexport {\n  getNewDataCreate,\n  getNewDataUpdate,\n  getNewDataReply,\n};\n","import { validateUUID } from '../../common';\n\nconst defaultState = {\n  accesstoken: undefined,\n  avatar: undefined,\n  uname: undefined,\n  uid: undefined,\n  isAuthed: false,\n};\n\nlet initialState = JSON.parse(localStorage.getItem('AUTH'));\n\nif (initialState !== null && validateUUID(initialState.accesstoken)) {\n  initialState = {\n    ...initialState,\n    isAuthed: true,\n  };\n} else {\n  initialState = defaultState;\n}\n\nconst auth = (state = initialState, { type, data }) => {\n  switch (type) {\n    case 'UPDATE_AUTH':\n      const { isAuthed, ...other } = data;\n      localStorage.setItem('AUTH', JSON.stringify({\n        ...other,\n      }));\n      return { ...data };\n    case 'DELETE_AUTH':\n      localStorage.removeItem('AUTH');\n      return defaultState;\n    default:\n      return state;\n  }\n};\n\nexport default auth;\n","const initialState = {\n  count: 0,\n};\n\nconst message = (state = initialState, { type, data }) => {\n  switch (type) {\n    case 'READ_MESSAGE':\n      let { count } = state;\n      count = Math.max(--count, 0);\n      return { count };\n    case 'READ_ALL_MESSAGE':\n      return initialState;\n    case 'UPDATE_MESSAGE':\n      return { count: data };\n    case 'CLEAN_MESSAGE':\n      return initialState;\n    default:\n      return state;\n  }\n};\n\nexport default message;\n","const initialState = {\n  open: false,\n};\n\nconst editor = (state = initialState, { type, data }) => {\n  switch (type) {\n    case 'OPEN_EDITOR':\n      const { action, ...other } = data;\n      return {\n        open: true,\n        action: action || 'create',\n        ...other,\n      };\n    case 'CLOSE_EDITOR':\n      return {\n        ...data,\n        open: false,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default editor;\n","const initialState = {\n  url: '',\n  open: false,\n};\n\nconst share = (state = initialState, { type, data }) => {\n  switch (type) {\n    case 'OPEN_SHARE':\n      if (typeof data === 'string') {\n        data = {\n          url: data,\n          post: null,\n        };\n      }\n      return {\n        ...data,\n        open: true,\n      };\n    case 'CLOSE_SHARE':\n      return {\n        ...state,\n        open: false,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default share;\n","const initialState = {\n  open: false,\n};\n\nconst zoom = (state = initialState, { type, data }) => {\n  switch (type) {\n    case 'OPEN_ZOOM':\n      return {\n        ...data,\n        open: true,\n      };\n    case 'CLOSE_ZOOM':\n      return {\n        ...state,\n        open: false,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default zoom;\n","const initialState = {\n  message: '',\n  status: 'success',\n  open: false,\n};\n\nconst notification = (state = initialState, { type, data }) => {\n  switch (type) {\n    case 'OPEN_NOTIFICATION':\n      if (typeof data === 'string') {\n        data = {\n          message: data,\n          status: 'success',\n        };\n      }\n      return {\n        ...data,\n        open: true,\n      };\n    case 'CLOSE_NOTIFICATION':\n      return {\n        ...state,\n        open: false,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default notification;\n","const defaultState = {\n  autoFollow: true,\n  themeMode: 'light',\n  cardPreview: false,\n  time: 0,\n};\n\nlet initialState = JSON.parse(localStorage.getItem('SETTINGS')) || {};\n\nconst {\n  autoFollow = true,\n  themeMode = 'light',\n  cardPreview = false,\n  time = 0,\n} = initialState;\n\ninitialState = {\n  autoFollow,\n  themeMode,\n  cardPreview,\n  time,\n};\n\nconst settings = (state = initialState, { type, data }) => {\n  switch (type) {\n    case 'UPDATE_SETTINGS':\n      localStorage.setItem('SETTINGS', JSON.stringify({\n        ...data,\n      }));\n      return { ...data };\n    case 'RESTORE_SETTINGS':\n      localStorage.removeItem('SETTINGS');\n      return defaultState;\n    default:\n      return state;\n  }\n};\n\nexport default settings;\n","const initialState = JSON.parse(localStorage.getItem('THEME'));\n\nconst colors = (state = initialState, action) => {\n  switch (action.type) {\n    case 'UPDATE_COLORS':\n      return {\n        ...action.data,\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default colors;\n","import { combineReducers } from 'redux';\nimport auth from './auth';\nimport message from './message';\nimport editor from './editor';\nimport share from './share';\nimport zoom from './zoom';\nimport notification from './notification';\nimport settings from './settings';\nimport colors from './colors';\n\nconst rootReducer = combineReducers({\n  auth,\n  message,\n  editor,\n  share,\n  zoom,\n  notification,\n  settings,\n  colors,\n});\n\nexport default rootReducer;\n","import { applyMiddleware, createStore } from 'redux';\nimport rootReducer from './reducers';\n\nlet middlewares = [];\n\nif (process.env.NODE_ENV === 'development') {\n  const { createLogger } = require('redux-logger');\n\n  middlewares = [ ...middlewares, createLogger() ];\n}\n\nconst store = createStore(\n  rootReducer,\n  applyMiddleware(...middlewares),\n);\n\nexport default store;\n","import Prism from 'prismjs';\n\nimport 'prismjs/components/prism-bash';\nimport 'prismjs/components/prism-c';\nimport 'prismjs/components/prism-clike';\nimport 'prismjs/components/prism-cpp';\nimport 'prismjs/components/prism-css';\nimport 'prismjs/components/prism-diff';\nimport 'prismjs/components/prism-docker';\nimport 'prismjs/components/prism-erlang';\nimport 'prismjs/components/prism-git';\nimport 'prismjs/components/prism-go';\nimport 'prismjs/components/prism-java';\nimport 'prismjs/components/prism-javascript';\nimport 'prismjs/components/prism-json';\nimport 'prismjs/components/prism-jsx';\nimport 'prismjs/components/prism-lua';\nimport 'prismjs/components/prism-makefile';\nimport 'prismjs/components/prism-markdown';\nimport 'prismjs/components/prism-markup';\nimport 'prismjs/components/prism-objectivec';\n\n/**\n * https://github.com/PrismJS/prism/issues/1423\n * Cannot read property 'tokenizePlaceholders' of undefined\n */\nimport 'prismjs/components/prism-markup-templating';\nimport 'prismjs/components/prism-php';\n\nimport 'prismjs/components/prism-python';\nimport 'prismjs/components/prism-sql';\nimport 'prismjs/components/prism-swift';\nimport 'prismjs/components/prism-tsx';\nimport 'prismjs/components/prism-typescript';\nimport 'prismjs/components/prism-yaml';\n\nexport default Prism;\n\nexport { default as lightPrismTheme } from 'prismjs/themes/prism.css';\nexport { default as darkPrismTheme } from 'prismjs/themes/prism-okaidia.css';\n\n// alias => prism\nexport const alias = {\n  'h': 'c',\n  'rb': 'ruby',\n  'py': 'python',\n  'sh': 'bash',\n  'yml': 'yaml',\n  'golang': 'go',\n  'dockerfile': 'docker',\n  'tex': 'latex',\n  'bat': 'batch',\n  'ps1': 'powershell',\n  'psm1': 'powershell',\n};\n\nconst styleNode = document.querySelector('#prismjs');\n\nexport const setPrismTheme = theme => {\n  styleNode.textContent = theme;\n};\n","export const lightThemeOptions = {\n  primary: {\n    main: '#0082ea',\n    dark: '#0376d2', // :hover\n    light: '#2092ec',\n  },\n  background: {\n    default: '#f4f4f4',\n  },\n};\n\nexport const darkThemeOptions = {\n  primary: {\n    main: '#0963ab',\n    contrastText: '#ccc',\n  },\n  secondary: {\n    main: '#ab003d',\n    contrastText: '#ccc',\n  },\n  action: {\n    active: '#ccc',\n  },\n  text: {\n    primary: '#ccc',\n  },\n  background: {\n    default: '#212121',\n  },\n  divider: 'rgba(128,128,128,.12)',\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useSelector } from 'react-redux';\n\nimport { ThemeProvider as MuiThemeProvider } from '@material-ui/styles';\nimport { createMuiTheme } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\n\nimport { setPrismTheme, lightPrismTheme, darkPrismTheme } from '../Prism';\nimport { lightThemeOptions, darkThemeOptions } from './themeOptions';\n\nexport const useSystemThemeMode = () => {\n  const prefersLightMode = useMediaQuery('(prefers-color-scheme: light)');\n  return prefersLightMode ? 'light' : 'dark';\n};\n\nconst ThemeProvider = (props) => {\n  const systemThemeMode = useSystemThemeMode();\n  const { autoFollow, themeMode } = useSelector(state => state.settings);\n  const paletteType = autoFollow ? systemThemeMode : themeMode;\n\n  React.useEffect(() => {\n    setPrismTheme(paletteType === 'light' ? lightPrismTheme : darkPrismTheme);\n  }, [paletteType]);\n\n  const theme = React.useMemo(() => (createMuiTheme({\n    palette: {\n      ...(paletteType === 'light' ? lightThemeOptions : darkThemeOptions),\n      type: paletteType,\n    },\n  })), [paletteType]);\n\n  React.useEffect(() => {\n    if (process.env.NODE_ENV === 'development') {\n      window.theme = theme;\n    }\n  }, [theme]);\n\n  return (\n    <MuiThemeProvider theme={theme}>\n      {props.children}\n    </MuiThemeProvider>\n  );\n};\n\nThemeProvider.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default ThemeProvider;\n","import React from 'react';\nimport { useLocation } from 'react-router-dom';\n\nconst ScrollToTop = () => {\n  const { pathname, search } = useLocation();\n\n  React.useEffect(() => {\n    // const element = document.querySelector('#root');\n    // element.scrollIntoView({ behavior: 'smooth', block: 'start' });\n    window.scrollTo(0, 0);\n  }, [pathname, search]);\n\n  return null;\n};\n\nexport default ScrollToTop;\n","import React from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport LinearProgress from '@material-ui/core/LinearProgress';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    position: 'fixed',\n    top: 0,\n    left: 0,\n    right: 0,\n  },\n}));\n\n\nconst Loadding = () => {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <LinearProgress />\n    </div>\n  );\n};\n\nexport default Loadding;\n","export const changeTitle = title => {\n  document.title = Boolean(title) ? title : 'RCNode';\n};\n\nconst changeElementAttributes = (element, attrs) => {\n  if (element === 'html') {\n    element = document.documentElement;\n  } else if (element === 'body') {\n    element = document.body;\n  } else if (!document.body.contains(element)) {\n    return;\n  }\n\n  attrs = Object.assign({ id: null, class: null }, attrs);\n\n  Object.keys(attrs).forEach(name => {\n    const value = attrs[name];\n\n    if (Boolean(value)) {\n      element.setAttribute(name, value);\n    } else {\n      element.removeAttribute(name);\n    }\n  });\n};\n\nexport const changeHtmlAttributes = attrs => {\n  changeElementAttributes('html', attrs);\n};\n\nexport const changeBodyAttributes = attrs => {\n  changeElementAttributes('body', attrs);\n};\n","import axios from 'axios';\nimport image from '../static/images/houses_beautiful_beach_photo_wallpaper.jpg';\n\n/**\n * fetch Bing Image\n * @param {string} url proxy address\n */\nconst getBingImage = async url => {\n  url = url ||\n        process.env.NODE_ENV === 'production'\n          ? 'https://bing.fansaly.com'\n          : 'http://localhost:3003';\n\n  const defaultData = {\n    copyright: '默认背景',\n    url: image,\n    time: (new Date()).getTime(),\n  };\n\n  try {\n    const { data } = await axios.get(url);\n    return data;\n  } catch (e) {\n    console.warn('Get Bing\\'s image failed.');\n    return defaultData;\n  }\n};\n\nexport { getBingImage };\n","import axios from 'axios';\nimport { getBingImage } from './getBingImage';\n\nconst cnodeAxios = axios.create({\n  baseURL: 'https://cnodejs.org/api/v1',\n  timeout: 3000,\n});\n\n/**\n * @param {string} url\n * @param {string} method\n * @param {object} params\n */\nconst fetch = async ({ url, method = 'GET', params = {} }) => {\n  params = method === 'GET' ? { params } : { data: params };\n\n  try {\n    const { data } = await cnodeAxios({ method, url, ...params });\n\n    return {\n      success: true,\n      data: method === 'GET' ? data.data : data,\n    };\n\n  } catch ({ response }) {\n    if (!Boolean(response)) {\n      return {\n        success: false,\n        err_msg: '发生异常',\n      };\n    }\n\n    const { status, data: { error_msg = '' } } = response;\n\n    return {\n      success: false,\n      err_msg: !Boolean(error_msg) && process.env.NODE_ENV === 'development'\n               ? `${status} => ${url}`\n               : error_msg,\n    };\n  }\n};\n\nconst get = async ({ url, params }) => {\n  return await fetch({ method: 'GET', url, params });\n};\n\nconst post = async ({ url, params }) => {\n  return await fetch({ method: 'POST', url, params });\n};\n\nexport {\n  get,\n  post,\n  getBingImage,\n};\n","export default {\n  viewBox: '-2 -2 20 20', // 0 0 16 16\n  path: 'M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z',\n};\n"," const path = `\n  M 19 3\n  c 1.1 0 2 0.9 2 2\n  v 4\n  h -2\n  V 5\n  H 5\n  v 14\n  h 14\n  v -4\n  h 2\n  v 4\n  c 0 1.11 -0.9 2 -2 2\n  H 5\n  c -1.11 0 -2 -0.9 -2 -2\n  V 5\n  c 0 -1.1 0.89 -2 2 -2\n  Z\n\n  M 13.09 15.59\n  L 14.5 17\n  l 5 -5\n  l -5 -5\n  l -1.41 1.41\n  L 15.67 11\n  h -9.67\n  v 2\n  h 9.67\n  l -2.58 2.59\n  Z\n`.replace(/\\s{2,}/g, ' ').trim();\n\nexport default path;\n","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\nimport githubSvg from './Github';\nimport signOutSvgPath from './SignOut';\n\nconst GithubIcon = (\n  <SvgIcon viewBox={githubSvg.viewBox}>\n    <path d={githubSvg.path} />\n  </SvgIcon>\n);\n\nconst SignOutIcon = (\n  <SvgIcon>\n    <path d={signOutSvgPath} />\n  </SvgIcon>\n);\n\nexport { GithubIcon, SignOutIcon };\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => React.createElement(\"svg\", _extends({\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\"\n}, props), React.createElement(\"path\", {\n  fill: \"#4AC6C6\",\n  d: \"M12 24C5.4 24 0 18.6 0 12S5.4 0 12 0s12 5.4 12 12-5.4 12-12 12z\"\n}), React.createElement(\"path\", {\n  fill: \"#FFF\",\n  d: \"M11.9 4.5c-4.1.1-7.3 3.6-7.3 7.7v5.5c0 1 1.1 1.6 1.9 1.1.5-.3.9-.6 1.8-.6 1.9 0 1.9 1.3 3.7 1.3s1.9-1.3 3.7-1.3c.9 0 1.3.3 1.8.6.8.5 1.9-.1 1.9-1.1V12c.1-4.2-3.3-7.6-7.5-7.5z\"\n}), React.createElement(\"circle\", {\n  fill: \"#2A5083\",\n  cx: \"9.5\",\n  cy: \"10.1\",\n  r: \".6\"\n}), React.createElement(\"circle\", {\n  fill: \"#2A5083\",\n  cx: \"14.5\",\n  cy: \"10.1\",\n  r: \".6\"\n}), React.createElement(\"path\", {\n  fill: \"#2A5083\",\n  d: \"M12 15.3c1.2 0 2.3-.8 2.6-1.9.1-.5-.2-.9-.7-.9H10c-.5 0-.8.5-.7.9.4 1.1 1.5 1.9 2.7 1.9z\"\n}), React.createElement(\"path\", {\n  fill: \"#FF4E4A\",\n  d: \"M12 13.9c-.7 0-1.2.4-1.6.9.4.3 1 .5 1.6.5.6 0 1.1-.2 1.5-.5-.3-.5-.8-.9-1.5-.9z\"\n}), React.createElement(\"path\", {\n  fill: \"#DBF4F4\",\n  d: \"M6.5 18.8c.4-.3.8-.6 1.7-.6v-.6c0-2.5-1.5-4.6-3.6-5.5v5.7c-.1.9 1 1.5 1.9 1zM16.3 18.3c.6.1.9.3 1.3.6.8.5 1.9-.1 1.9-1.1v-3.5c-1.6.9-2.7 2.3-3.2 4z\"\n})));","import React from 'react';\nimport clsx from 'clsx';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { get } from '../../fetch';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Badge from '@material-ui/core/Badge';\nimport Avatar from '@material-ui/core/Avatar';\nimport IconButton from '@material-ui/core/IconButton';\n\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport Grow from '@material-ui/core/Grow';\nimport Paper from '@material-ui/core/Paper';\nimport Popper from '@material-ui/core/Popper';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport MenuList from '@material-ui/core/MenuList';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nimport PersonIcon from '@material-ui/icons/Person';\nimport NotificationsIcon from '@material-ui/icons/Notifications';\nimport SettingsIcon from '@material-ui/icons/SettingsRounded';\nimport SignInIcon from '@material-ui/icons/ExitToApp';\nimport { SignOutIcon } from '../../Components/Icons';\n\nimport AvatarSvg from '../../static/avatar.svg';\nimport './me.styl';\n\nconst useStyles = makeStyles(theme => ({\n  badge: {\n    '&:before, &:after': {\n      content: '\"\"',\n      position: 'absolute',\n      top: 0,\n      right: 0,\n      marginTop: 6,\n      marginRight: 6,\n      width: 6,\n      height: 6,\n      borderRadius: '50%',\n      opacity: 0,\n      transition: 'opacity .3s linear',\n    },\n    '&.has-message:before': {\n      opacity: 1,\n      backgroundColor: 'rgba(128, 189, 1, .85)',\n      boxShadow: '0 0 4px rgba(0, 0, 0, .15)',\n    },\n    '&.has-message:after': {\n      animation: '$ripple 1.2s infinite ease-in-out',\n      border: '1px solid #44b700',\n    },\n  },\n  '@keyframes ripple': {\n    '0%': {\n      transform: 'scale(.8)',\n      opacity: 1,\n    },\n    '100%': {\n      transform: 'scale(2.4)',\n      opacity: 0,\n    },\n  },\n  hidden: {\n    '& span': {\n      visibility: 'hidden',\n    },\n  },\n}));\n\nconst Me = () => {\n  const { isAuthed, accesstoken, uname, avatar } = useSelector(({ auth }) => auth);\n  const { time } = useSelector(({ settings }) => settings);\n  const message = useSelector(s => s.message);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const classes = useStyles();\n\n  const timerMessage = React.useRef(null);\n  const timerSignout = React.useRef(null);\n  const isCancel = React.useRef();\n  const anchorEl = React.useRef(null);\n\n  const [open, setOpen] = React.useState(false);\n\n  const handleToggle = () => {\n    setOpen(prevState => !prevState);\n  };\n\n  const handleClose = event => {\n    if (anchorEl.current.contains(event.target)) {\n      return;\n    }\n\n    setOpen(false);\n  };\n\n  const handleInfo = event => {\n    handleClose(event);\n    history.push(`/user/${uname}`);\n  };\n\n  const handleMessage = event => {\n    const messagePath = '/message';\n    const { pathname } = history.location;\n\n    handleClose(event);\n\n    if (pathname === messagePath) {\n      history.replace(messagePath);\n    } else {\n      history.push(messagePath);\n    }\n  };\n\n  const handleSettings = event => {\n    handleClose(event);\n    history.push('/settings');\n  };\n\n  const handleSignin = event => {\n    handleClose(event);\n    history.push('/signin');\n  };\n\n  const handleSignout = event => {\n    handleClose(event);\n\n    clearTimeout(timerSignout.current);\n\n    timerSignout.current = setTimeout(() => {\n      dispatch({ type: 'DELETE_AUTH' });\n      dispatch({ type: 'CLEAN_MESSAGE' });\n    }, 330);\n  };\n\n  React.useEffect(() => {\n    return () => clearTimeout(timerSignout.current);\n  }, []);\n\n  React.useEffect(() => {\n    isCancel.current = false;\n\n    clearTimeout(timerMessage.current);\n\n    const fetchUnreadCount = async () => {\n      if (!isAuthed) { return; }\n\n      const params = {\n        url: '/message/count',\n        params: { accesstoken },\n      };\n\n      const { success, data: count } = await get(params);\n\n      if (isCancel.current) {\n        return;\n      }\n\n      if (success) {\n        dispatch({ type: 'UPDATE_MESSAGE', data: count });\n      }\n\n      if (time > 0) {\n        timerMessage.current = setTimeout(() => {\n          fetchUnreadCount();\n        }, time * 1e3);\n      }\n    };\n\n    fetchUnreadCount();\n\n    return () => {\n      isCancel.current = true;\n      clearTimeout(timerMessage.current);\n    };\n  }, [isAuthed, accesstoken, dispatch, time]);\n\n  return (\n    <Grid item className=\"flex\">\n      <Grid\n        container\n        alignContent=\"center\"\n        alignItems=\"center\"\n        justify=\"center\"\n        className={isAuthed ? 'info' : 'signin'}\n      >\n        <IconButton\n          buttonRef={node => {\n            anchorEl.current = node;\n          }}\n          aria-owns={open ? 'menu-list-grow' : null}\n          aria-haspopup=\"true\"\n          onClick={handleToggle}\n          className={clsx('me', classes.badge, {\n            'has-message': Boolean(message.count),\n          })}\n        >\n          <Avatar className=\"flex avatar\">\n            {isAuthed ? (\n              <img src={avatar} alt=\"U\" />\n            ) : (\n              <AvatarSvg />\n            )}\n          </Avatar>\n        </IconButton>\n        <Popper open={open} anchorEl={anchorEl.current} transition disablePortal>\n          {({ TransitionProps, placement }) => (\n            <Grow\n              {...TransitionProps}\n              id=\"menu-list-grow\"\n              style={{ transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom' }}\n            >\n              <Paper>\n                <ClickAwayListener onClickAway={handleClose}>\n                  <MenuList>\n                    {isAuthed &&\n                      <MenuItem onClick={handleInfo}>\n                        <ListItemIcon>\n                          <PersonIcon />\n                        </ListItemIcon>\n                        <ListItemText primary=\"资料\" />\n                      </MenuItem>\n                    }\n                    {isAuthed &&\n                      <MenuItem onClick={handleMessage}>\n                        <ListItemIcon>\n                          <Badge\n                            badgeContent={message.count}\n                            className={clsx('badge', {\n                              [classes.hidden]: message.count <= 0,\n                            })}\n                          >\n                            <NotificationsIcon />\n                          </Badge>\n                        </ListItemIcon>\n                        <ListItemText primary=\"消息\" />\n                      </MenuItem>\n                    }\n                    <MenuItem onClick={handleSettings}>\n                      <ListItemIcon>\n                        <SettingsIcon />\n                      </ListItemIcon>\n                      <ListItemText primary=\"设置\" />\n                    </MenuItem>\n                    {isAuthed ? (\n                      <MenuItem onClick={handleSignout}>\n                        <ListItemIcon>\n                          {SignOutIcon}\n                        </ListItemIcon>\n                        <ListItemText primary=\"退出\" />\n                      </MenuItem>\n                    ) : (\n                      <MenuItem onClick={handleSignin}>\n                        <ListItemIcon>\n                          <SignInIcon />\n                        </ListItemIcon>\n                        <ListItemText primary=\"登录\" />\n                      </MenuItem>\n                    )}\n                  </MenuList>\n                </ClickAwayListener>\n              </Paper>\n            </Grow>\n          )}\n        </Popper>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default Me;\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport {\n  navTabsArray as navTabs,\n  navIsActive,\n} from '../../common';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\n\nimport './normal-nav.styl';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    '& .type': {\n      color: `${theme.palette.type === 'light' ? '#fff' : '#ccc'} !important`,\n    },\n  },\n}));\n\nconst NormalNav = () => {\n  const classes = useStyles();\n\n  const isActive = path => (match, location) => {\n    return navIsActive(path, location);\n  };\n\n  return (\n    <Grid\n      container\n      justify=\"center\"\n      alignItems=\"center\"\n      className=\"type-content\"\n    >\n      {navTabs.map(({ path, name }) => (\n        <NavLink\n          to={path}\n          key={path}\n          activeClassName={`${classes.root} current`}\n          isActive={isActive(path)}\n        >\n          <Button\n            className=\"type\"\n            disableFocusRipple\n          >\n            {name}\n          </Button>\n        </NavLink>\n      ))}\n    </Grid>\n  );\n};\n\nexport default NormalNav;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport NotesIcon from '@material-ui/icons/Notes';\nimport TopIcon from '@material-ui/icons/Publish';\nimport GoodIcon from '@material-ui/icons/ThumbUp';\nimport QAIcon from '@material-ui/icons/Chat';\nimport ShareIcon from '@material-ui/icons/Share';\nimport JobIcon from '@material-ui/icons/Work';\nimport DevIcon from '@material-ui/icons/Build';\nimport UnknownIcon from '@material-ui/icons/HelpOutline';\n\nconst TopicTypeIcon = (props) => {\n  const {\n    all,\n    good,\n    top,\n    tab,\n    ...rest\n  } = props;\n\n  let typeIcon = <UnknownIcon {...rest} />;\n\n  if (all) {\n    typeIcon = <NotesIcon {...rest} />;\n  } else if (top) {\n    typeIcon = <TopIcon {...rest} />;\n  } else if (good) {\n    typeIcon = <GoodIcon {...rest} />;\n  } else {\n    switch (tab) {\n      case 'ask':\n        typeIcon = <QAIcon {...rest} />;\n        break;\n      case 'share':\n        typeIcon = <ShareIcon {...rest} />;\n        break;\n      case 'job':\n        typeIcon = <JobIcon {...rest} />;\n        break;\n      case 'dev':\n        typeIcon = <DevIcon {...rest} />;\n        break;\n      default:\n        break;\n    }\n  }\n\n  return typeIcon;\n};\n\nTopicTypeIcon.propTypes = {\n  tab: PropTypes.string,\n  all: PropTypes.bool,\n  top: PropTypes.bool,\n  good: PropTypes.bool,\n};\n\nexport default TopicTypeIcon;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => React.createElement(\"svg\", _extends({\n  version: \"1.1\",\n  id: \"\\u56FE\\u5C42_1\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  x: \"0\",\n  y: \"0\",\n  viewBox: \"0 0 427.3 100.4\",\n  xmlSpace: \"preserve\"\n}, props), React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  fill: \"#46483E\",\n  d: \"M127.987 52.994c0-1.084-.57-2.08-1.506-2.617l-24.937-14.352a2.934 2.934 0 00-1.373-.396h-.258a2.973 2.973 0 00-1.377.396L73.598 50.377a3.023 3.023 0 00-1.508 2.617l.055 38.644c0 .538.279 1.038.752 1.301a1.446 1.446 0 001.496 0l14.821-8.485a3.036 3.036 0 001.507-2.613V63.784a3 3 0 011.504-2.606l6.311-3.636a3 3 0 013.008 0l6.308 3.636a3 3 0 011.506 2.606V81.84c0 1.074.578 2.062 1.51 2.613l14.816 8.485a1.464 1.464 0 001.506 0c.459-.263.748-.763.748-1.301l.049-38.643zM261.147-.129a1.508 1.508 0 00-2.241 1.315v38.271c0 .376-.201.724-.525.913a1.06 1.06 0 01-1.056 0l-6.246-3.599a3.013 3.013 0 00-3.01.001L223.122 51.17a3.007 3.007 0 00-1.506 2.607v28.801c0 1.076.573 2.07 1.505 2.609l24.946 14.408a3.011 3.011 0 003.014 0l24.95-14.408a3.012 3.012 0 001.506-2.609V10.786a3.013 3.013 0 00-1.545-2.631L261.147-.129zm-2.314 73.244c0 .27-.145.519-.378.651l-8.564 4.938a.749.749 0 01-.752 0l-8.566-4.938a.752.752 0 01-.377-.651v-9.891c0-.269.145-.517.376-.651l8.566-4.947a.752.752 0 01.754 0l8.564 4.947a.756.756 0 01.377.651v9.891zM350.4 62.966a3.011 3.011 0 001.499-2.604v-6.979a3.012 3.012 0 00-1.5-2.605l-24.787-14.392a3.015 3.015 0 00-3.02-.004l-24.938 14.397a3.012 3.012 0 00-1.506 2.609v28.793c0 1.083.58 2.081 1.521 2.616l24.783 14.122a3.015 3.015 0 002.954.018l14.989-8.332c.477-.266.772-.765.774-1.308a1.503 1.503 0 00-.755-1.315L315.32 73.576a1.503 1.503 0 01-.758-1.306v-9.024c0-.538.287-1.036.755-1.304l7.811-4.504a1.505 1.505 0 011.503 0l7.815 4.504c.467.268.754.766.754 1.304v7.101a1.507 1.507 0 002.263 1.303l14.937-8.684z\"\n}), React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  fill: \"#80bd01\",\n  d: \"M173.35 36.23a3.012 3.012 0 013.012 0l24.943 14.395a3.008 3.008 0 011.508 2.609v28.811a3.014 3.014 0 01-1.506 2.61L176.363 99.06a3.016 3.016 0 01-3.014 0l-24.938-14.405a3.014 3.014 0 01-1.506-2.61V53.233c0-1.076.574-2.071 1.507-2.608L173.35 36.23z\"\n}), React.createElement(\"path\", {\n  fill: \"#80bd01\",\n  d: \"M398.833 99.472a4.941 4.941 0 01-2.468-.66l-7.853-4.646c-1.172-.656-.601-.888-.213-1.023 1.563-.543 1.881-.668 3.551-1.614.173-.099.404-.062.584.045l6.033 3.582a.775.775 0 00.728 0l23.522-13.577a.739.739 0 00.358-.636V53.796a.757.757 0 00-.364-.647l-23.513-13.565a.736.736 0 00-.724 0L374.97 53.152a.754.754 0 00-.373.644v27.146c0 .26.144.506.371.629l6.442 3.722c3.496 1.748 5.638-.31 5.638-2.379v-26.8c0-.379.305-.678.683-.678h2.983a.68.68 0 01.682.678v26.8c0 4.666-2.541 7.342-6.965 7.342-1.36 0-2.43 0-5.418-1.472l-6.168-3.551a4.97 4.97 0 01-2.467-4.291V53.796c0-1.763.942-3.41 2.467-4.287l23.521-13.592c1.489-.841 3.468-.841 4.944 0l23.519 13.592a4.967 4.967 0 012.472 4.287v27.146a4.979 4.979 0 01-2.472 4.291L401.31 98.812a4.944 4.944 0 01-2.477.66\"\n}), React.createElement(\"path\", {\n  fill: \"#80bd01\",\n  d: \"M406.099 80.771c-10.294 0-12.449-4.725-12.449-8.687 0-.377.303-.678.68-.678h3.041a.68.68 0 01.675.575c.459 3.097 1.828 4.658 8.054 4.658 4.954 0 7.064-1.121 7.064-3.75 0-1.515-.598-2.64-8.299-3.394-6.437-.638-10.416-2.06-10.416-7.208 0-4.745 4-7.576 10.707-7.576 7.535 0 11.263 2.615 11.736 8.227a.688.688 0 01-.181.523.692.692 0 01-.498.217h-3.052a.679.679 0 01-.661-.531c-.731-3.258-2.513-4.299-7.345-4.299-5.41 0-6.039 1.885-6.039 3.297 0 1.711.742 2.209 8.047 3.176 7.229.955 10.662 2.309 10.662 7.39 0 5.125-4.274 8.06-11.726 8.06\"\n}), React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  fill: \"#80bd01\",\n  d: \"M323.735 61.618a.573.573 0 01.577 0l4.787 2.762c.18.103.289.294.289.5v5.527a.577.577 0 01-.289.501l-4.787 2.763a.577.577 0 01-.577 0l-4.783-2.763a.577.577 0 01-.289-.501V64.88c0-.206.109-.397.289-.5l4.783-2.762z\"\n}), React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  fill: \"#46483E\",\n  d: \"M36.28 61.87c1.098.65 1.358.255 1.742.035.385-.221 14.695-8.411 15.606-8.857.912-.446 1.315-1.915.114-2.61-1.201-.697-25.41-14.721-24.241-14.12 1.259.646-1.202-.829-2.626-.175-1.425.654-23.231 13.192-24.777 14.075-1.545.883-2.032 1.731-2.027 2.907.004 1.176-.078 27.253 0 28.801.078 1.548.69 2.052 1.506 2.609.816.558 22.901 13.505 24.572 14.41 1.671.907 2.768.597 3.853-.04 1.085-.639 22.727-13.003 23.593-13.554.866-.551 1.653-1.969-.157-2.992-1.811-1.022-14.779-8.693-15.279-8.943s-.796-.255-1.52.151c-.724.408-7.222 4.062-8.013 4.524s-.904.254-1.283.033c-.378-.222-7.085-4.135-7.859-4.571s-.866-.656-.868-1.25c-.001-.593-.018-8.121.023-8.998.04-.877.165-1.074.962-1.548.797-.474 6.695-3.978 7.166-4.293.47-.315 1.459-.345 2.231.108.772.452 6.184 3.647 7.282 4.298\"\n})));","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport {\n  navTabsArray as navTabs,\n  navIsActive,\n} from '../../common';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport SwipeableDrawer from '@material-ui/core/SwipeableDrawer';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nimport TopicTypeIcon from '../../Components/TopicTypeIcon';\nimport LogoSvg from '../../static/cnodejs/cnodejs.svg';\n\nconst useStyles = makeStyles(theme => ({\n  drawerPaper: {\n    width: 214,\n    backgroundColor: theme.palette.type === 'light' ? 'rgba(255,255,255,.96)' : 'rgba(66,66,66,.98)',\n  },\n  toolbar: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    ...theme.mixins.toolbar,\n  },\n  logo: {\n    paddingLeft: 16,\n    [theme.breakpoints.up('sm')]: {\n      paddingLeft: 24,\n    },\n    '& svg': {\n      height: 32,\n      marginBottom: 2,\n    },\n  },\n  spacing: {\n    marginRight: 6,\n  },\n}));\n\nconst DrawerNav = (props) => {\n  const classes = useStyles();\n  const history = useHistory();\n  const location = useLocation();\n\n  const isActive = path => {\n    return navIsActive(path, location);\n  };\n\n  const handleClose = () => {\n    props.onClose();\n  };\n\n  const handleClick = path => {\n    history.push(path);\n    handleClose();\n  };\n\n  return (\n    <SwipeableDrawer\n      open={props.open}\n      variant=\"temporary\"\n      onClose={handleClose}\n      onOpen={()=>{}}\n      classes={{\n        paper: classes.drawerPaper,\n      }}\n      ModalProps={{\n        keepMounted: true,\n      }}\n    >\n      <div className={`${classes.toolbar} ${classes.logo}`}>\n        <LogoSvg />\n      </div>\n\n      <List>\n        {navTabs.map(({ tab, path, name }) => (\n          <ListItem\n            button\n            key={tab}\n            component=\"a\"\n            selected={isActive(path)}\n            onClick={event => handleClick(path)}\n          >\n            <ListItemIcon className={classes.spacing}>\n              <TopicTypeIcon\n                color=\"inherit\"\n                all={tab === 'all'}\n                good={tab === 'good'}\n                tab={tab}\n              />\n            </ListItemIcon>\n            <ListItemText primary={name} />\n          </ListItem>\n        ))}\n      </List>\n    </SwipeableDrawer>\n  );\n};\n\nDrawerNav.propTypes = {\n  open: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n};\n\nexport default DrawerNav;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => React.createElement(\"svg\", _extends({\n  version: \"1.1\",\n  id: \"\\u56FE\\u5C42_1\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  x: \"0\",\n  y: \"0\",\n  viewBox: \"0 0 427.3 100.4\",\n  xmlSpace: \"preserve\"\n}, props), React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  fill: \"#fff\",\n  d: \"M127.987 52.994c0-1.084-.57-2.08-1.506-2.617l-24.937-14.352a2.934 2.934 0 00-1.373-.396h-.258a2.973 2.973 0 00-1.377.396L73.598 50.377a3.023 3.023 0 00-1.508 2.617l.055 38.644c0 .538.279 1.038.752 1.301a1.446 1.446 0 001.496 0l14.821-8.485a3.036 3.036 0 001.507-2.613V63.784a3 3 0 011.504-2.606l6.311-3.636a3 3 0 013.008 0l6.308 3.636a3 3 0 011.506 2.606V81.84c0 1.074.578 2.062 1.51 2.613l14.816 8.485a1.464 1.464 0 001.506 0c.459-.263.748-.763.748-1.301l.049-38.643zM261.147-.129a1.508 1.508 0 00-2.241 1.315v38.271c0 .376-.201.724-.525.913a1.06 1.06 0 01-1.056 0l-6.246-3.599a3.013 3.013 0 00-3.01.001L223.122 51.17a3.007 3.007 0 00-1.506 2.607v28.801c0 1.076.573 2.07 1.505 2.609l24.946 14.408a3.011 3.011 0 003.014 0l24.95-14.408a3.012 3.012 0 001.506-2.609V10.786a3.013 3.013 0 00-1.545-2.631L261.147-.129zm-2.314 73.244c0 .27-.145.519-.378.651l-8.564 4.938a.749.749 0 01-.752 0l-8.566-4.938a.752.752 0 01-.377-.651v-9.891c0-.269.145-.517.376-.651l8.566-4.947a.752.752 0 01.754 0l8.564 4.947a.756.756 0 01.377.651v9.891zM350.4 62.966a3.011 3.011 0 001.499-2.604v-6.979a3.012 3.012 0 00-1.5-2.605l-24.787-14.392a3.015 3.015 0 00-3.02-.004l-24.938 14.397a3.012 3.012 0 00-1.506 2.609v28.793c0 1.083.58 2.081 1.521 2.616l24.783 14.122a3.015 3.015 0 002.954.018l14.989-8.332c.477-.266.772-.765.774-1.308a1.503 1.503 0 00-.755-1.315L315.32 73.576a1.503 1.503 0 01-.758-1.306v-9.024c0-.538.287-1.036.755-1.304l7.811-4.504a1.505 1.505 0 011.503 0l7.815 4.504c.467.268.754.766.754 1.304v7.101a1.507 1.507 0 002.263 1.303l14.937-8.684z\"\n}), React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  fill: \"#80bd01\",\n  d: \"M173.35 36.23a3.012 3.012 0 013.012 0l24.943 14.395a3.008 3.008 0 011.508 2.609v28.811a3.014 3.014 0 01-1.506 2.61L176.363 99.06a3.016 3.016 0 01-3.014 0l-24.938-14.405a3.014 3.014 0 01-1.506-2.61V53.233c0-1.076.574-2.071 1.507-2.608L173.35 36.23z\"\n}), React.createElement(\"path\", {\n  fill: \"#80bd01\",\n  d: \"M398.833 99.472a4.941 4.941 0 01-2.468-.66l-7.853-4.646c-1.172-.656-.601-.888-.213-1.023 1.563-.543 1.881-.668 3.551-1.614.173-.099.404-.062.584.045l6.033 3.582a.775.775 0 00.728 0l23.522-13.577a.739.739 0 00.358-.636V53.796a.757.757 0 00-.364-.647l-23.513-13.565a.736.736 0 00-.724 0L374.97 53.152a.754.754 0 00-.373.644v27.146c0 .26.144.506.371.629l6.442 3.722c3.496 1.748 5.638-.31 5.638-2.379v-26.8c0-.379.305-.678.683-.678h2.983a.68.68 0 01.682.678v26.8c0 4.666-2.541 7.342-6.965 7.342-1.36 0-2.43 0-5.418-1.472l-6.168-3.551a4.97 4.97 0 01-2.467-4.291V53.796c0-1.763.942-3.41 2.467-4.287l23.521-13.592c1.489-.841 3.468-.841 4.944 0l23.519 13.592a4.967 4.967 0 012.472 4.287v27.146a4.979 4.979 0 01-2.472 4.291L401.31 98.812a4.944 4.944 0 01-2.477.66\"\n}), React.createElement(\"path\", {\n  fill: \"#80bd01\",\n  d: \"M406.099 80.771c-10.294 0-12.449-4.725-12.449-8.687 0-.377.303-.678.68-.678h3.041a.68.68 0 01.675.575c.459 3.097 1.828 4.658 8.054 4.658 4.954 0 7.064-1.121 7.064-3.75 0-1.515-.598-2.64-8.299-3.394-6.437-.638-10.416-2.06-10.416-7.208 0-4.745 4-7.576 10.707-7.576 7.535 0 11.263 2.615 11.736 8.227a.688.688 0 01-.181.523.692.692 0 01-.498.217h-3.052a.679.679 0 01-.661-.531c-.731-3.258-2.513-4.299-7.345-4.299-5.41 0-6.039 1.885-6.039 3.297 0 1.711.742 2.209 8.047 3.176 7.229.955 10.662 2.309 10.662 7.39 0 5.125-4.274 8.06-11.726 8.06\"\n}), React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  fill: \"#80bd01\",\n  d: \"M323.735 61.618a.573.573 0 01.577 0l4.787 2.762c.18.103.289.294.289.5v5.527a.577.577 0 01-.289.501l-4.787 2.763a.577.577 0 01-.577 0l-4.783-2.763a.577.577 0 01-.289-.501V64.88c0-.206.109-.397.289-.5l4.783-2.762z\"\n}), React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  fill: \"#fff\",\n  d: \"M36.28 61.87c1.098.65 1.358.255 1.742.035.385-.221 14.695-8.411 15.606-8.857.912-.446 1.315-1.915.114-2.61-1.201-.697-25.41-14.721-24.241-14.12 1.259.646-1.202-.829-2.626-.175-1.425.654-23.231 13.192-24.777 14.075-1.545.883-2.032 1.731-2.027 2.907.004 1.176-.078 27.253 0 28.801.078 1.548.69 2.052 1.506 2.609.816.558 22.901 13.505 24.572 14.41 1.671.907 2.768.597 3.853-.04 1.085-.639 22.727-13.003 23.593-13.554.866-.551 1.653-1.969-.157-2.992-1.811-1.022-14.779-8.693-15.279-8.943s-.796-.255-1.52.151c-.724.408-7.222 4.062-8.013 4.524s-.904.254-1.283.033c-.378-.222-7.085-4.135-7.859-4.571s-.866-.656-.868-1.25c-.001-.593-.018-8.121.023-8.998.04-.877.165-1.074.962-1.548.797-.474 6.695-3.978 7.166-4.293.47-.315 1.459-.345 2.231.108.772.452 6.184 3.647 7.282 4.298\"\n})));","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { useLocation, Link } from 'react-router-dom';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport withWidth, { isWidthUp } from '@material-ui/core/withWidth';\n\nimport Hidden from '@material-ui/core/Hidden';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\n\nimport Me from '../../Components/Me';\nimport NormalNav from '../Nav/NormalNav';\nimport DrawerNav from '../Nav/DrawerNav';\n\nimport { animateScroll } from 'react-scroll';\nimport LogoSvg from '../../static/cnodejs/cnodejs_light.svg';\nimport './header.styl';\n\nconst useStyles = makeStyles(theme => ({\n  header: theme.palette.type === 'light' ? {\n    backgroundColor: '#2196f3',\n    backgroundImage: 'linear-gradient(150deg, #21d6f3, #2196f3 28%, #ff7ed7 110%)',\n    '@media (max-width: 960px)': {\n      backgroundImage: 'linear-gradient(150deg, #21d6f3, #2196f3 32%, #ff7ed7 106%)',\n    },\n    '@media (max-width: 768px)': {\n      backgroundImage: 'linear-gradient(150deg, #21d6f3, #2196f3 34%, #ff7ed7 104%)',\n    },\n    '@media (max-width: 500px)': {\n      backgroundImage: 'linear-gradient(150deg, #21d6f3, #2196f3 36%, #ff7ed7 102%)',\n    },\n  } : {\n    backgroundColor: '#363636',\n  },\n  toolbar: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    ...theme.mixins.toolbar,\n  },\n  navPlaceholder: {\n    height: 48,\n    '@media (max-width: 768px)': {\n      height: 38,\n    },\n  },\n  navHidden: {\n    height: 0,\n  },\n}));\n\nconst Header = (props) => {\n  const { width } = props;\n  const classes = useStyles();\n  const location = useLocation();\n\n  const [state, setState] = React.useState({\n    isMobile: false,\n    navHidden: false,\n    drawerOpen: false,\n  });\n\n  const handleScrollToTop = event => {\n    if (event.target === event.currentTarget) {\n      animateScroll.scrollTo(0, {\n        duration: 500,\n        smooth: 'easeInOutQuart',\n      });\n    }\n  };\n\n  const handleToggleNav = () => {\n    let { navHidden, drawerOpen } = state;\n\n    if (isWidthUp('md', width)) {\n      navHidden = !navHidden;\n      drawerOpen = false;\n    } else {\n      drawerOpen = !drawerOpen;\n    }\n\n    setState(prevState => ({ ...prevState, navHidden, drawerOpen }));\n  };\n\n  React.useEffect(() => {\n    const { pathname } = location;\n    const navHidden = pathname !== '/';\n\n    setState(prevState => ({ ...prevState, navHidden }));\n  }, [location]);\n\n  return (\n    <React.Fragment>\n      <div className={classes.toolbar} />\n      <div className={clsx(classes.navPlaceholder, {\n        [classes.navHidden]: !isWidthUp('md', width) || state.navHidden || state.drawerOpen,\n      })} />\n      <AppBar id=\"header\" className={classes.header} position=\"fixed\">\n        <Toolbar onClick={handleScrollToTop}>\n          <IconButton\n            color=\"inherit\"\n            onClick={handleToggleNav}\n          >\n            <MenuIcon />\n          </IconButton>\n          <div id=\"logo\">\n            <Hidden xsDown>\n              <Link to=\"/\">\n                <LogoSvg className=\"logo\" />\n              </Link>\n            </Hidden>\n          </div>\n\n          <Me />\n        </Toolbar>\n        <Hidden smDown implementation=\"css\">\n          {!state.navHidden && <NormalNav />}\n        </Hidden>\n      </AppBar>\n\n      <Hidden mdUp>\n        <DrawerNav\n          open={state.drawerOpen}\n          onClose={handleToggleNav}\n        />\n      </Hidden>\n    </React.Fragment>\n  );\n};\n\nHeader.propTypes = {\n  width: PropTypes.string.isRequired,\n};\n\nexport default withWidth()(Header);\n","import React from 'react';\n\nimport Button from '@material-ui/core/Button';\nimport Snackbar from '@material-ui/core/Snackbar';\n\nfunction sleep(delay = 0) {\n  return new Promise(resolve => {\n    setTimeout(resolve, delay);\n  });\n}\n\nfunction getLastSeenNotice() {\n  const seen = localStorage.getItem('lastSeenNotice');\n  return !Boolean(seen) ? 0 : parseInt(seen, 10);\n}\n\nlet messages = null;\n\nasync function getMessages() {\n  try {\n    if (!messages) {\n      await sleep(1500); // Soften the pressure on the main thread.\n      const result = await fetch(\n        'https://raw.githubusercontent.com/Fansaly/RCNode/master/messages.json',\n      );\n      messages = await result.json();\n    }\n  } catch (err) {\n    // Swallow the exceptions.\n  }\n\n  messages = messages || [];\n}\n\nconst Notice = () => {\n  const [open, setOpen] = React.useState(false);\n  const [message, setMessage] = React.useState({});\n\n  const handleMessage = () => {\n    const lastSeen = getLastSeenNotice();\n    const unseenMessages = messages.filter(msg => msg.id > lastSeen);\n\n    if (unseenMessages.length > 0) {\n      setMessage(unseenMessages[0]);\n      setOpen(true);\n    }\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n    localStorage.setItem('lastSeenNotice', message.id);\n  };\n\n  React.useEffect(() => {\n    let mounted = true;\n\n    // Prevent search engines from indexing the notification.\n    if (/glebot/.test(navigator.userAgent)) {\n      return;\n    }\n\n    (async () => {\n      await getMessages();\n      if (mounted) {\n        handleMessage();\n      }\n    })();\n\n    return () => mounted = false;\n  }, []);\n\n  return (\n    <Snackbar\n      key={message.id}\n      anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n      ContentProps={{ 'aria-describedby': 'notification-message' }}\n      message={\n        <span\n          id=\"notification-message\"\n          // eslint-disable-next-line react/no-danger\n          dangerouslySetInnerHTML={{ __html: message.text }}\n        />\n      }\n      action={\n        <Button size=\"small\" color=\"secondary\" onClick={handleClose}>\n          关闭\n        </Button>\n      }\n      open={open}\n      autoHideDuration={20e3}\n      onClose={handleClose}\n      onExited={handleMessage}\n    />\n  );\n};\n\nexport default Notice;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport CssBaseline from '@material-ui/core/CssBaseline';\n\nimport {\n  changeTitle,\n  changeHtmlAttributes,\n  changeBodyAttributes,\n} from './Helper';\nimport Header from './Header';\nimport Notice from './Notice';\nimport './app.styl';\n\nconst initialOptions = {\n  title: 'RCNode',\n  htmlAttributes: null,\n  bodyAttributes: null,\n  withHeader: true,\n};\n\nconst AppFrameContext = React.createContext(null);\n\nconst AppFrame = (props) => {\n  const [options, dispatch] = React.useReducer((state, { type, payload }) => {\n    switch (type) {\n      case 'CHANGE':\n        return {\n          ...state,\n          title: payload.title || state.title,\n          htmlAttributes: payload.htmlAttributes,\n          bodyAttributes: payload.bodyAttributes,\n          withHeader: payload.withHeader,\n        };\n      case 'RESET':\n        return {\n          ...initialOptions,\n        };\n      default:\n        throw new Error(`Unrecognized type ${type}`);\n    }\n  }, initialOptions);\n\n  const { title, htmlAttributes, bodyAttributes, withHeader } = options;\n\n  React.useEffect(() => {\n    changeTitle(title);\n  }, [title]);\n\n  React.useEffect(() => {\n    changeHtmlAttributes(htmlAttributes);\n  }, [htmlAttributes]);\n\n  React.useEffect(() => {\n    changeBodyAttributes(bodyAttributes);\n  }, [bodyAttributes]);\n\n  return (\n    <AppFrameContext.Provider value={dispatch}>\n      <CssBaseline />\n\n      {withHeader && (\n        <React.Fragment>\n          <Header />\n          <Notice />\n        </React.Fragment>\n      )}\n\n      {props.children}\n    </AppFrameContext.Provider>\n  );\n};\n\nAppFrame.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default AppFrame;\n\nexport const useChangeApp = () => {\n  const dispatch = React.useContext(AppFrameContext);\n\n  return React.useCallback(options => {\n    const type = options.reset ? 'RESET' : 'CHANGE';\n    dispatch({ type, payload: options });\n  }, [dispatch]);\n};\n","import PropTypes from 'prop-types';\n\nimport { useChangeApp } from './AppFrame';\n\nconst AppWrapper = (props) => {\n  const changeApp = useChangeApp();\n  const {\n    title,\n    htmlAttributes,\n    bodyAttributes,\n    withHeader = true,\n    reset = false,\n  } = props;\n\n  changeApp({\n    title,\n    htmlAttributes,\n    bodyAttributes,\n    withHeader,\n    reset,\n  });\n\n  return props.children;\n};\n\nAppWrapper.propTypes = {\n  children: PropTypes.node.isRequired,\n  title: PropTypes.string,\n  htmlAttributes: PropTypes.object,\n  bodyAttributes: PropTypes.object,\n  withHeader: PropTypes.bool,\n  reset: PropTypes.bool,\n};\n\nexport default AppWrapper;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Avatar from '@material-ui/core/Avatar';\n\nconst useStyles = makeStyles(theme => ({\n  avatar: {\n    '& a': {\n      display: 'flex',\n    },\n    '& img': {\n      display: 'inline-flex',\n      width: '100%',\n      height: '100%',\n      objectFit: 'contain',\n      color: 'rgba(255, 255, 255, 0.9)',\n      fontSize: 12,\n      lineHeight: 0,\n      textIndent: 20,\n    },\n  },\n}));\n\nconst CustomAvatar = (props) => {\n  const classes = useStyles();\n  const {\n    className,\n    name,\n    image,\n    url,\n  } = props;\n\n  return (\n    <Avatar\n      aria-label=\"Recipe\"\n      className={clsx(\n        classes.avatar,\n        className,\n      )}\n    >\n      {url ? (\n        <Link to={name ? url : '/'}>\n          {image &&\n            <img src={image} alt={name || '用户已注销'} />\n          }\n        </Link>\n      ) : (\n        <a>\n          {image &&\n            <img src={image} alt={name || '用户已注销'} />\n          }\n        </a>\n      )}\n    </Avatar>\n  );\n};\n\nCustomAvatar.propTypes = {\n  className: PropTypes.string,\n};\n\nexport default CustomAvatar;\n","import Moment from 'react-moment';\nimport 'moment/locale/zh-cn';\n\nMoment.globalLocale = 'zh-cn';\n\nexport default Moment;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { useSelector } from 'react-redux';\nimport { useHistory, Link } from 'react-router-dom';\nimport {\n  randomNumber,\n  removeHtmlTags,\n} from '../../common';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport withWidth, { isWidthUp } from '@material-ui/core/withWidth';\n\nimport Grid from '@material-ui/core/Grid';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardActions from '@material-ui/core/CardActions';\nimport Typography from '@material-ui/core/Typography';\nimport Collapse from '@material-ui/core/Collapse';\nimport Button from '@material-ui/core/Button';\n\nimport IconButton from '@material-ui/core/IconButton';\nimport CreateIcon from '@material-ui/icons/Create';\nimport ViewIcon from '@material-ui/icons/Visibility';\nimport ReplyIcon from '@material-ui/icons/Comment';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nimport TopicTypeIcon from '../../Components/TopicTypeIcon';\nimport Avatar from '../../Components/Avatar';\nimport Moment from '../../Components/Moment';\nimport './topicard.styl';\n\nconst useStyles = makeStyles(theme => ({\n  button: {\n    display: 'flex',\n    padding: 0,\n    fontWeight: 'inherit',\n    fontFamily: 'inherit',\n    lineHeight: 'inherit',\n    letterSpacing: 'inherit',\n    textTransform: 'inherit',\n  },\n  expand: {\n    margin: 0,\n    transform: 'rotate(0deg)',\n    transition: theme.transitions.create('transform', {\n      duration: theme.transitions.duration.shortest,\n    }),\n  },\n  expandOpen: {\n    transform: 'rotate(180deg)',\n  },\n  title: {\n    '& h5': {\n      color: theme.palette.type === 'light' ? 'rgba(0,0,0,.92)' : 'rgba(200,200,200,.95)',\n    },\n  },\n  state: {\n    color: theme.palette.type === 'light' ? 'rgba(0,0,0,.5)' : 'rgba(125,125,125,.5)',\n    '& button': {\n      color: theme.palette.type === 'light' ? 'rgba(0,0,0,.4)' : 'rgba(125,125,125,.4)',\n    },\n  },\n}));\n\nconst TopiCard = (props) => {\n  const {\n    item,\n    simple = false,\n    className,\n    width,\n  } = props;\n\n  let targetRefs = [];\n\n  const classes = useStyles();\n  const history = useHistory();\n  const { cardPreview } = useSelector(state => state.settings);\n\n  const [expanded, setExpanded] = React.useState(cardPreview);\n\n  const substrContent = content => {\n    const len = randomNumber({ min: 200, max: 400 });\n    return removeHtmlTags(content).substr(0, len);\n  };\n\n  const handleExpandClick = () => {\n    setExpanded(prevState => !prevState);\n  };\n\n  const handleClick = event => {\n    if (targetRefs.includes(event.target)) {\n      history.push(`/topic/${item.id}`);\n    }\n  };\n\n  return (\n    <Card className={clsx('topicard', className, {\n      'expanded': !simple && expanded,\n    })}>\n      <Button\n        component=\"div\"\n        className={classes.button}\n        onClick={handleClick}\n        disableFocusRipple\n      >\n        <Grid\n          container\n          alignItems=\"center\"\n          className=\"topicard-header-wrapper\"\n        >\n          <Grid\n            container\n            alignItems=\"center\"\n            justify=\"flex-start\"\n            className=\"topicard-header\"\n            ref={ref => targetRefs = [...targetRefs, ref]}\n          >\n            <Avatar\n              className=\"avatar\"\n              name={item.author.loginname}\n              image={item.author.avatar_url}\n              url={`/user/${item.author.loginname}`}\n            />\n            <Grid\n              container\n              alignItems=\"center\"\n              justify=\"flex-start\"\n              className=\"topicard-title\"\n            >\n              <Grid item className={clsx('title', classes.title)}>\n                {!simple &&\n                  <Grid item className=\"type\">\n                    <IconButton>\n                      <TopicTypeIcon\n                        tab={item.tab}\n                        good={item.good}\n                        top={item.top}\n                      />\n                    </IconButton>\n                  </Grid>\n                }\n                <Typography variant=\"h5\" ref={ref => targetRefs = [...targetRefs, ref]}>\n                  <Link to={`/topic/${item.id}`}>{item.title}</Link>\n                </Typography>\n                {!simple &&\n                  <CardActions className=\"action\">\n                    <IconButton\n                      className={clsx(classes.expand, {\n                        [classes.expandOpen]: expanded,\n                      })}\n                      onClick={handleExpandClick}\n                      aria-expanded={expanded}\n                      aria-label=\"Show more\"\n                    >\n                      <ExpandMoreIcon />\n                    </IconButton>\n                  </CardActions>\n                }\n              </Grid>\n            </Grid>\n          </Grid>\n          <Grid container wrap=\"nowrap\" alignItems=\"center\" className=\"state-wrapper\"\n            ref={ref => targetRefs = [...targetRefs, ref]}\n          >\n            <Grid container wrap=\"nowrap\" alignItems=\"center\" className={clsx('state', classes.state)}>\n              <Grid container item zeroMinWidth wrap=\"nowrap\" alignItems=\"center\"\n                ref={ref => targetRefs = [...targetRefs, ref]}\n              >\n                <Grid item zeroMinWidth className=\"author\">\n                  <Link to={`/user/${item.author.loginname}`}>\n                    {item.author.loginname}\n                  </Link>\n                </Grid>\n                {!simple &&\n                  <Grid item className=\"create\">\n                    <IconButton><CreateIcon /></IconButton>\n                    <Moment fromNow>{item.create_at}</Moment>\n                  </Grid>\n                }\n              </Grid>\n              <Grid item className=\"count\">\n                <Grid item className=\"reply\">\n                  <IconButton><ReplyIcon /></IconButton>\n                  {!simple ? (\n                    <span>{item.reply_count}</span>\n                  ) : (\n                    <Moment fromNow>{item.last_reply_at}</Moment>\n                  )}\n                </Grid>\n                {!simple &&\n                  <Grid item className=\"visit\">\n                    <IconButton><ViewIcon /></IconButton>\n                    <span>{item.visit_count}</span>\n                  </Grid>\n                }\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Button>\n      {!simple &&\n        <Collapse\n          className=\"collapse\"\n          in={expanded}\n          timeout=\"auto\"\n          unmountOnExit={isWidthUp('sm', width)}\n        >\n          <CardContent className=\"context\">\n            <Typography>\n              {substrContent(item.content)}\n            </Typography>\n          </CardContent>\n        </Collapse>\n      }\n    </Card>\n  );\n};\n\nTopiCard.propTypes = {\n  item: PropTypes.object.isRequired,\n  simple: PropTypes.bool,\n  className: PropTypes.string,\n  width: PropTypes.string.isRequired,\n};\n\nexport default withWidth()(TopiCard);\n","export default (str) => {\n  return str.replace(/<[^>]+>/g, '');\n};\n","export const randomNumber = ({ min = 0, max = 1 }) => {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport TopiCard from '../TopiCard';\n\nconst useStyles = makeStyles(theme => ({\n  margin: {\n    marginTop: 20,\n    '&:first-child': {\n      marginTop: 0,\n    },\n    '@media (max-width: 768px)': {\n      marginTop: 16,\n    },\n  },\n}));\n\nconst TopiCards = ({ items, simple = false, className, classes = {}, ...rest }) => {\n  const styles = useStyles();\n\n  return (\n    <div className={clsx(styles.margin, className, classes.root)} {...rest}>\n      {items.map(item => (\n        <TopiCard className={clsx(classes.card)} simple={simple} item={item} key={item.id} />\n      ))}\n    </div>\n  );\n};\n\nTopiCards.propTypes = {\n  className: PropTypes.string,\n  classes: PropTypes.object,\n  simple: PropTypes.bool,\n  items: PropTypes.array.isRequired,\n};\n\nexport default TopiCards;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\n\nimport Grid from '@material-ui/core/Grid';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { CSSTransition } from 'react-transition-group';\n\nimport './progress.styl';\n\nconst Progress = (props) => {\n  const { className, status, unmountOnExit = true } = props;\n\n  const handleExited = () => {\n    const { onExited } = props;\n    Boolean(onExited) && onExited();\n  };\n\n  return (\n    <Grid item id=\"progress\" className={clsx(className)}>\n      <CSSTransition\n        className=\"progress loading\"\n        classNames=\"progress\"\n        in={status === 'loading'}\n        timeout={{ enter: 100, exit: 550 }}\n        onExited={handleExited}\n        unmountOnExit={unmountOnExit}\n      >\n        <CircularProgress classes={{ svg: 'loop-color' }} />\n      </CSSTransition>\n    </Grid>\n  );\n};\n\nProgress.propTypes = {\n  status: PropTypes.oneOf(['idle', 'loading', 'success', 'error']).isRequired,\n  onExited: PropTypes.func,\n  unmountOnExit: PropTypes.bool,\n};\n\nexport default Progress;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useParams } from 'react-router-dom';\nimport { post } from '../../fetch';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport withWidth, { isWidthUp } from '@material-ui/core/withWidth';\n\nimport Fab from '@material-ui/core/Fab';\nimport Zoom from '@material-ui/core/Zoom';\nimport AppBar from '@material-ui/core/AppBar';\nimport EditIcon from '@material-ui/icons/Edit';\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport ReplyIcon from '@material-ui/icons/ModeComment';\nimport ShareIcon from '@material-ui/icons/Share';\n\nimport SpeedDial from '@material-ui/lab/SpeedDial';\nimport SpeedDialIcon from '@material-ui/lab/SpeedDialIcon';\nimport SpeedDialAction from '@material-ui/lab/SpeedDialAction';\n\nconst useStyles = makeStyles(theme => ({\n  appbar: {\n    top: 'auto',\n    bottom: 0,\n    boxShadow: 'none',\n  },\n  wrapper: {\n    position: 'relative',\n  },\n  action: {\n    position: 'absolute',\n    right: theme.spacing(3.5),\n    bottom: theme.spacing(4),\n  },\n  fabMoveUp: {\n    transform: 'translate3d(0, -56px, 0)',\n    transition: theme.transitions.create('transform', {\n      duration: theme.transitions.duration.enteringScreen,\n      easing: theme.transitions.easing.easeOut,\n    }),\n  },\n  fabMoveDown: {\n    transform: 'translate3d(0, 0, 0)',\n    transition: theme.transitions.create('transform', {\n      duration: theme.transitions.duration.leavingScreen,\n      easing: theme.transitions.easing.sharp,\n    }),\n  },\n}));\n\nconst ActionDial = (props) => {\n  const {\n    width,\n    single = false,\n    topic = null,\n  } = props;\n\n  const {\n    isAuthed,\n    accesstoken,\n    uname: signedUname,\n  } = useSelector(({ auth }) => auth);\n\n  const visible = useSelector(({ editor }) => !editor.open);\n  const notificationIsOpen = useSelector(({ notification }) => notification.open);\n  const dispatch = useDispatch();\n  const classes = useStyles();\n  const { topic_id } = useParams();\n  const isCancel = React.useRef(false);\n\n  const [state, setState] = React.useState({\n    favorite: undefined,\n    expanded: false,\n    shareURL: null,\n  });\n\n  const handleOpen = () => {\n    if (!visible) {\n      return;\n    }\n\n    setState(prevState => ({\n      ...prevState,\n      expanded: true,\n    }));\n  };\n\n  const handleClose = () => {\n    setState(prevState => ({\n      ...prevState,\n      expanded: false,\n    }));\n  };\n\n  const handleClick = event => {\n    const { expanded } = state;\n\n    setState(prevState => ({\n      ...prevState,\n      expanded: !expanded,\n    }));\n\n    if (expanded && signedUname === topic.uname) {\n      handleUpdate();\n    }\n  };\n\n  const handleShare = event => {\n    handleClose();\n    dispatch({ type: 'OPEN_SHARE', data: state.shareURL });\n  };\n\n  const handleFavorite = async event => {\n    const { favorite } = state;\n\n    const params = {\n      url: favorite\n            ? '/topic_collect/de_collect'\n            : '/topic_collect/collect',\n      params: {\n        accesstoken,\n        topic_id: topic.topic_id,\n      },\n    };\n\n    handleClose();\n\n    const { success, err_msg } = await post(params);\n\n    if (isCancel.current) {\n      return;\n    }\n\n    const message = success\n                    ? favorite ? '取消收藏' : '已收藏'\n                    : {\n                      message: err_msg || '操作失败',\n                      status: 'error',\n                    };\n\n    success && setState(prevState => ({\n      ...prevState,\n      expanded: true,\n      favorite: !favorite,\n    }));\n\n    dispatch({ type: 'OPEN_NOTIFICATION', data: message });\n  };\n\n  const handleReply = event => {\n\n    const config = {\n      action: 'reply',\n      url: `/topic/${topic_id}/replies`,\n      reply_id: topic_id,\n      content: '',\n    };\n\n    handleClose();\n    handleOpenEditor(config);\n  };\n\n  const handleUpdate = () => {\n    const config = {\n      action: 'update',\n      url: '/topics/update',\n      tab: topic.tab,\n      title: topic.title,\n      content: topic.content,\n      topic_id: topic.topic_id,\n    };\n\n    handleOpenEditor(config);\n  };\n\n  const handleCreate = () => {\n    const config = {\n      action: 'create',\n      url: '/topics',\n    };\n\n    handleOpenEditor(config);\n  };\n\n  const handleOpenEditor = config => {\n    dispatch({ type: 'OPEN_EDITOR', data: config });\n  };\n\n  React.useEffect(() => {\n    const { origin, pathname } = window.location;\n\n    setState(prevState => ({\n      ...prevState,\n      shareURL: `${origin}${pathname}`,\n    }));\n\n    return () => isCancel.current = true;\n  }, []);\n\n  React.useEffect(() => {\n    if (topic === null) {\n      return;\n    }\n\n    setState(prevState => ({\n      ...prevState,\n      favorite: typeof prevState.favorite === 'boolean'\n                ? prevState.favorite\n                : Boolean(topic)\n                  ? topic.is_collect\n                  : undefined,\n    }));\n  }, [topic]);\n\n  return (isAuthed &&\n    <AppBar\n      color=\"default\"\n      component=\"div\"\n      className={classes.appbar}\n    >\n      <div className={classes.wrapper}>\n        {single ? (\n          <Zoom in={visible} unmountOnExit>\n            <Fab\n              color=\"secondary\"\n              aria-label=\"Edit\"\n              className={classes.action}\n              onClick={handleCreate}\n            >\n              <EditIcon />\n            </Fab>\n          </Zoom>\n        ) : (Boolean(topic) &&\n          <SpeedDial\n            ariaLabel=\"SpeedDial\"\n            className={clsx(classes.action, {\n              [classes.fabMoveUp]: !isWidthUp('md', width) && notificationIsOpen,\n              [classes.fabMoveDown]: !isWidthUp('md', width) && !notificationIsOpen,\n            })}\n            color=\"secondary\"\n            hidden={!visible}\n            open={state.expanded}\n            onClick={handleClick}\n            onClose={handleClose}\n            onMouseEnter={handleOpen}\n            onMouseLeave={handleClose}\n            icon={signedUname === topic.uname ? (\n              <SpeedDialIcon openIcon={<EditIcon />} />\n            ) : (\n              <SpeedDialIcon />\n            )}\n          >\n            <SpeedDialAction\n              icon={<ReplyIcon />}\n              tooltipTitle=\"\"\n              onClick={handleReply}\n            />\n            <SpeedDialAction\n              icon={state.favorite ? <FavoriteIcon /> : <FavoriteBorderIcon />}\n              tooltipTitle=\"\"\n              onClick={handleFavorite}\n            />\n            <SpeedDialAction\n              icon={<ShareIcon />}\n              tooltipTitle=\"\"\n              onClick={handleShare}\n            />\n          </SpeedDial>\n        )}\n      </div>\n    </AppBar>\n  );\n};\n\nActionDial.propTypes = {\n  width: PropTypes.string.isRequired,\n  single: PropTypes.bool,\n  topic: PropTypes.any,\n};\n\nexport default withWidth()(ActionDial);\n","import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\nimport IconButton from '@material-ui/core/IconButton';\n\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport WarningIcon from '@material-ui/icons/Warning';\nimport ErrorIcon from '@material-ui/icons/Error';\nimport InfoIcon from '@material-ui/icons/Info';\nimport CloseIcon from '@material-ui/icons/Close';\n\nconst useStyles = makeStyles(theme => ({\n  success: {\n    backgroundColor: '#43a047',\n  },\n  error: {\n    backgroundColor: '#d32f2f',\n  },\n  info: {\n    backgroundColor: '#1976d2',\n  },\n  warning: {\n    backgroundColor: '#ffa000',\n  },\n  icon: {\n    fontSize: 20,\n  },\n  iconVariant: {\n    opacity: 0.9,\n    marginRight: theme.spacing(1),\n  },\n  message: {\n    display: 'flex',\n    alignItems: 'center',\n  },\n}));\n\nconst variantIcon = {\n  success: CheckCircleIcon,\n  warning: WarningIcon,\n  error: ErrorIcon,\n  info: InfoIcon,\n};\n\nconst Notification = () => {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const {\n    open,\n    message,\n    status,\n  } = useSelector(({ notification }) => {\n    const statusType = ['success', 'warning', 'error', 'info'];\n\n    if (!statusType.includes(notification.status)) {\n      notification.status = 'info';\n    }\n\n    return notification;\n  });\n\n  const handleClose = React.useCallback(() => {\n    dispatch({ type: 'CLOSE_NOTIFICATION' });\n  }, [dispatch]);\n\n  const handleExit = React.useCallback(() => {\n    open && handleClose();\n  }, [open, handleClose]);\n\n  React.useEffect(() => {\n    return () => handleExit();\n  }, [handleExit]);\n\n  const Icon = variantIcon[status];\n  const key = new Date().getTime();\n\n  return (\n    <Snackbar\n      key={key}\n      open={open}\n      anchorOrigin={{\n        vertical: 'bottom',\n        horizontal: 'left',\n      }}\n      autoHideDuration={3000}\n      onClose={handleClose}\n    >\n      <SnackbarContent\n        className={classes[status]}\n        aria-describedby=\"snackbar-message-id\"\n        message={\n          <span id=\"snackbar-message-id\" className={classes.message}>\n            <Icon className={`${classes.icon} ${classes.iconVariant}`} />\n            {message}\n          </span>\n        }\n        action={\n          <IconButton\n            color=\"inherit\"\n            className={classes.close}\n            onClick={handleClose}\n          >\n            <CloseIcon className={classes.icon} />\n          </IconButton>\n        }\n      />\n    </Snackbar>\n  );\n};\n\nexport default Notification;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\n\nconst useStyles = makeStyles(theme => ({\n  flex: {\n    margin: 0,\n    '& *': {\n      flex: '1 1 auto',\n      minHeight: 210,\n      padding: 0,\n    },\n    '& textarea': {\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      width: '100%',\n      height: '100%',\n      lineHeight: 1.3125,\n    },\n  },\n}));\n\nconst MarkdownEditor = ({ inputRef, ...props }) => {\n  const classes = useStyles();\n  const {\n    content,\n    disabled,\n    onUpdateContent: updateContent,\n  } = props;\n\n  const handleUpdateContent = event => {\n    updateContent(event);\n  };\n\n  return (\n    <React.Fragment>\n      <TextField\n        className={classes.flex}\n        margin=\"normal\"\n        multiline\n        rows=\"3\"\n        fullWidth\n        id=\"textarea\"\n        placeholder=\"写些什么呢？\"\n        inputRef={inputRef}\n        value={content}\n        disabled={disabled}\n        onChange={handleUpdateContent}\n      />\n    </React.Fragment>\n  );\n};\n\nMarkdownEditor.propTypes = {\n  content: PropTypes.string.isRequired,\n  disabled: PropTypes.bool.isRequired,\n  onUpdateContent: PropTypes.func.isRequired,\n};\n\nexport default MarkdownEditor;\n","import MarkdownIt from 'markdown-it';\nimport checkbox from 'markdown-it-task-checkbox';\nimport emoji from 'markdown-it-emoji';\nimport sub from 'markdown-it-sub';\nimport sup from 'markdown-it-sup';\nimport footnote from 'markdown-it-footnote';\nimport container from 'markdown-it-container';\n\nimport Prism, { alias } from '../Prism';\nimport { transformOrgURL } from '../../common';\n\nconst md = new MarkdownIt({\n  html: true,\n  linkify: true,\n  typographer: true,\n  quotes: '“”‘’',\n  highlight: (code, lang) => {\n    lang = typeof lang === 'string' && lang.toLocaleLowerCase();\n    lang = alias[lang] || lang;\n\n    if (!Object.keys(Prism.languages).includes(lang)) {\n      if (Boolean(lang) && process.env.NODE_ENV === 'development') {\n        console.warn(`\\`${lang}' code is highlighted with \\`markup'.`);\n      }\n\n      lang = 'markup';\n    }\n\n    return Prism.highlight(code, Prism.languages[lang]);\n  },\n})\n.use(checkbox)\n.use(emoji)\n.use(sub)\n.use(sup)\n.use(footnote)\n.use(container);\n\nconst atToHtml = ({url, text, prevSpaces = '', nextSpaces = ''}) => {\n  const href = `${process.env.PUBLIC_URL}/user/${url}`;\n  return `${prevSpaces}<a target=\"_blank\" href=\"${href}\">${text}</a>${nextSpaces}`;\n};\n\nmd.renderer.rules.text = (tokens, idx, options, env, self) => {\n  let content = tokens[idx].content;\n\n  if (Boolean(content)) {\n    content = content\n      .replace(/^(@([\\w\\-_]+))$/, atToHtml({url: '$2', text: '$1'}))\n      .replace(/(\\s+)(@([\\w\\-_]+))/g, atToHtml({url: '$3', text: '$2', prevSpaces: '$1'}))\n      .replace(/(@([\\w\\-_]+))(\\s+)/g, atToHtml({url: '$2', text: '$1', nextSpaces: '$3'}));\n  }\n\n  return content;\n};\n\nmd.renderer.rules.link_open = (tokens, idx, options, env, self) => {\n  tokens[idx].attrPush(['target', '_blank']);\n\n  const hrefIdx = tokens[idx].attrIndex('href');\n  const hrefSrc = transformOrgURL(tokens[idx].attrs[hrefIdx][1]);\n\n  if (/^\\/\\w+.*$/.test(hrefSrc)) {\n    tokens[idx].attrs[hrefIdx][1] = `${process.env.PUBLIC_URL}${hrefSrc}`;\n  } else {\n    tokens[idx].attrs[hrefIdx][1] = hrefSrc;\n  }\n\n  for (var i = tokens.length - 1; i >= 0; i--) {\n    const { type, level, content } = tokens[i];\n\n    if (type === 'text' && level !== 0) {\n      tokens[i].content = transformOrgURL(content);\n    }\n  }\n\n  return self.renderToken(tokens, idx, options);\n};\n\nexport default md;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { useDispatch } from 'react-redux';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport 'github-markdown-css/github-markdown.css';\nimport mdRender from './markdown-it';\nimport './markdown-render.styl';\n\nconst useStyles = makeStyles(theme => ({\n  root: theme.palette.type === 'light' ? {\n    color: '#24292e',\n    '& code': { backgroundColor: 'rgba(27,31,35,.05)' },\n    '& pre, & .highlight pre': { backgroundColor: '#f6f8fa' },\n    '& blockquote': { borderLeftColor: '#dfe2e5' },\n    '& h1, & h2': { borderBottomColor: '#eaecef' },\n    '& img': { backgroundColor: '#fff' },\n    '& a': { color: '#0366d6' },\n    '& hr': {\n      backgroundColor: '#e1e4e8',\n      borderBottomColor: '#eee',\n    },\n    '& table': {\n      '& th, & td': {\n        borderColor: '#dfe2e5',\n      },\n      '& tr': {\n        backgroundColor: '#fff',\n        borderTopColor: '#c6cbd1',\n        '&:nth-child(2n)': {\n          backgroundColor: '#f6f8fa',\n        },\n      },\n    },\n  } : {\n    color: theme.palette.text.primary,\n    '& code': { backgroundColor: 'rgba(200,200,200,.05)' },\n    '& pre, & .highlight pre': { backgroundColor: '#333' },\n    '& blockquote': { borderLeftColor: '#5a5a5a' },\n    '& h1, & h2': { borderBottomColor: '#5d5d5d' },\n    '& img': { backgroundColor: 'transparent' },\n    '& a': { color: '#1858a0' },\n    '& hr': {\n      backgroundColor: '#777',\n      borderBottomColor: '#7c7c7c',\n    },\n    '& table': {\n      '& th, & td': {\n        borderColor: '#3a3b3c',\n      },\n      '& tr': {\n        backgroundColor: 'transparent',\n        borderTopColor: '#2d2e2f',\n        '&:nth-child(2n)': {\n          backgroundColor: '#2a2b2c',\n        },\n      },\n    },\n  },\n}));\n\nconst MarkdownRender = (props) => {\n  const { className, markdownString } = props;\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const mdRef = React.useRef();\n\n  React.useEffect(() => {\n    const handleClick = event => {\n      const src = event.target.getAttribute('src');\n      dispatch({ type: 'OPEN_ZOOM', data: { src } });\n    };\n\n    const imgs = Array.from(mdRef.current.querySelectorAll('img'));\n    imgs.map(img => img.addEventListener('click', handleClick));\n  }, [dispatch]);\n\n  return (\n    <div\n      ref={mdRef}\n      className={clsx('markdown-body', className, classes.root)}\n      // eslint-disable-next-line react/no-danger\n      dangerouslySetInnerHTML={{\n        __html: mdRender.render(markdownString),\n      }}\n    />\n  );\n};\n\nMarkdownRender.propTypes = {\n  className: PropTypes.string,\n  markdownString: PropTypes.string.isRequired,\n};\n\nexport default MarkdownRender;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { useSelector } from 'react-redux';\nimport { useLocation } from 'react-router-dom';\nimport {\n  navTabsObject as navTabs,\n  topicTypes,\n  matchTab,\n} from '../../common';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport Hidden from '@material-ui/core/Hidden';\n\nimport Popover from '@material-ui/core/Popover';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport ArrowRightIcon from '@material-ui/icons/ArrowRight';\nimport FullscreenIcon from '@material-ui/icons/Fullscreen';\nimport FullscreenExitIcon from '@material-ui/icons/FullscreenExit';\nimport PreviewIcon from '@material-ui/icons/LocalLibrary';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\n\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport Dialog from '@material-ui/core/Dialog';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport Radio from '@material-ui/core/Radio';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\n\nimport Avatar from '../../Components/Avatar';\nimport TopicTypeIcon from '../../Components/TopicTypeIcon';\nimport './editor-header.styl';\n\nconst useStyles = makeStyles(theme => ({\n  color: {\n    color: theme.palette.type === 'light' ? '#0366d6' : '#1858a0',\n    '& svg': {\n      color: theme.palette.type === 'light' ? 'rgba(0,0,0,.58)' : 'rgba(230,230,230,.58)',\n    },\n  },\n  text: {\n    padding: 0,\n    paddingRight: 2,\n  },\n  title: {\n    paddingTop: 20,\n    paddingBottom: 0,\n    '& h6': {\n      fontSize: '1.125rem',\n    },\n  },\n  back: {\n    marginLeft: -14,\n  },\n  content: {\n    paddingBottom: 20,\n  },\n}));\n\nconst EditorHeader = (props) => {\n  const {\n    disabled,\n    onPublishTab,\n    onPreview,\n    fullScreen,\n    onFullScreen,\n  } = props;\n\n  const { isAuthed, uname, avatar } = useSelector(({ auth }) => auth);\n  const { tab, action } = useSelector(({ editor }) => editor);\n  const location = useLocation();\n  const classes = useStyles();\n\n  const [moreOpen, setMoreOpen] = React.useState(false);\n  const [selectOpen, setSelectOpen] = React.useState(false);\n  const [publishTab, setPublishTab] = React.useState(null);\n  const anchorEl = React.useRef(null);\n\n  const handlePublishTab = React.useCallback(() => {\n    onPublishTab(publishTab);\n  }, [onPublishTab, publishTab]);\n\n  const handleCloseSelect = React.useCallback(() => {\n    handlePublishTab();\n    setSelectOpen(false);\n  }, [handlePublishTab]);\n\n  const handleOpenSelect = () => {\n    setSelectOpen(!disabled);\n  };\n\n  const handleChange = (event, value) => {\n    setPublishTab(value);\n  };\n\n  const handleCloseMore = () => {\n    setMoreOpen(false);\n  };\n\n  const handleOpenMore = () => {\n    setMoreOpen(true);\n  };\n\n  const handlePreview = () => {\n    handleCloseMore();\n    onPreview();\n  };\n\n  const handleFullScreen = () => {\n    handleCloseMore();\n    onFullScreen();\n  };\n\n  React.useEffect(() => {\n    const getPublishTab = () => {\n      const _tab = matchTab(location);\n\n      return (\n        _tab === null\n          ? null\n          : topicTypes.includes(_tab)\n            ? _tab\n            : ''\n      );\n    };\n\n    setPublishTab(tab || getPublishTab());\n  }, [location, tab]);\n\n  React.useEffect(() => {\n    handleCloseSelect();\n  }, [handleCloseSelect]);\n\n  return (isAuthed &&\n    <React.Fragment>\n      <div className=\"flex editor-header\">\n        <Avatar\n          name={uname}\n          image={avatar}\n          className=\"avatar\"\n        />\n        <div className=\"flex box\">\n          <Typography className=\"flex editor-uname\">\n            {uname}\n            <ArrowRightIcon color=\"inherit\" />\n          </Typography>\n          {/(create)|(update)/.test(action) &&\n            <Typography className=\"flex editor-tpoic-type\">\n              <Typography\n                className={clsx('flex', classes.color, {\n                  'disabled': disabled,\n                })}\n                onClick={handleOpenSelect}\n                component=\"span\"\n              >\n                {publishTab ? navTabs[publishTab].name : '请选择分类'}\n                <TopicTypeIcon tab={publishTab} />\n              </Typography>\n            </Typography>\n          }\n        </div>\n        <div className=\"editor-header-actions\">\n          <IconButton\n            buttonRef={node => {\n              anchorEl.current = node;\n            }}\n            variant=\"contained\"\n            onClick={handleOpenMore}\n          >\n            <MoreVertIcon />\n          </IconButton>\n        </div>\n      </div>\n\n      <Popover\n        open={moreOpen}\n        anchorEl={anchorEl.current}\n        anchorReference=\"anchorEl\"\n        anchorPosition={{ top: 30, left: 30 }}\n        onClose={handleCloseMore}\n        anchorOrigin={{\n          vertical: 'top',\n          horizontal: 'right',\n        }}\n        transformOrigin={{\n          vertical: 'top',\n          horizontal: 'right',\n        }}\n      >\n        <List>\n          <ListItem button onClick={handlePreview}>\n            <ListItemIcon>\n              <PreviewIcon color=\"inherit\" />\n            </ListItemIcon>\n            <ListItemText\n              className={classes.text}\n              primary=\"预览\"\n            />\n          </ListItem>\n          <Hidden xsDown>\n            <ListItem button onClick={handleFullScreen}>\n              <ListItemIcon>\n                {fullScreen ? (\n                  <FullscreenExitIcon color=\"inherit\" />\n                ) : (\n                  <FullscreenIcon color=\"inherit\" />\n                )}\n              </ListItemIcon>\n              <ListItemText\n                className={classes.text}\n                primary=\"全屏\"\n              />\n            </ListItem>\n          </Hidden>\n        </List>\n      </Popover>\n\n      <Dialog\n        open={selectOpen}\n        maxWidth=\"xs\"\n        onClose={handleCloseSelect}\n      >\n        <DialogTitle className={classes.title}>\n          <IconButton\n            className={classes.back}\n            onClick={handleCloseSelect}\n          >\n            <ArrowBackIcon />\n          </IconButton>\n          请选择一个分类\n        </DialogTitle>\n        <DialogContent className={classes.content}>\n          <RadioGroup\n            aria-label=\"topicType\"\n            name=\"topicType\"\n            value={publishTab}\n            onChange={handleChange}\n          >\n            {topicTypes.map(_tab => (\n              <FormControlLabel\n                key={_tab}\n                value={_tab}\n                label={navTabs[_tab].name}\n                control={<Radio />}\n              />\n            ))}\n          </RadioGroup>\n        </DialogContent>\n      </Dialog>\n    </React.Fragment>\n  );\n};\n\nEditorHeader.propTypes = {\n  disabled: PropTypes.bool.isRequired,\n  onPublishTab: PropTypes.func.isRequired,\n  onPreview: PropTypes.func.isRequired,\n  fullScreen: PropTypes.bool.isRequired,\n  onFullScreen: PropTypes.func.isRequired,\n};\n\nexport default EditorHeader;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport withWidth, { isWidthDown } from '@material-ui/core/withWidth';\n\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport { MarkdownRender } from '../../Components/Markdown';\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    [theme.breakpoints.up('sm')]: {\n      paddingLeft: 36,\n      paddingRight: 36,\n    },\n    '& h2': {\n      position: 'relative',\n      padding: '15px 0',\n      fontSize: '1.25rem',\n      borderBottomWidth: 1,\n      borderBottomStyle: 'dashed',\n      borderBottomColor: theme.palette.type === 'light' ? 'rgba(0,0,0,.08)' : 'rgba(210,210,210,.08)',\n    },\n  },\n  close: {\n    position: 'absolute',\n    top: '50%',\n    right: -10,\n    transform: 'translateY(-50%)',\n  },\n  content: {\n    paddingBottom: 36,\n    [theme.breakpoints.up('sm')]: {\n      paddingLeft: 36,\n      paddingRight: 36,\n    },\n  },\n}));\n\nconst Preview = (props) => {\n  const handleClose = () => {\n    props.onClose();\n  };\n\n  const { width, open, content } = props;\n  const classes = useStyles();\n\n  return (\n    <Dialog\n      open={open}\n      fullWidth\n      maxWidth=\"md\"\n      fullScreen={isWidthDown('xs', width)}\n      onClose={handleClose}\n    >\n      <DialogTitle className={classes.title} disableTypography>\n        <Typography component=\"h2\">\n          预览\n          <IconButton\n            className={classes.close}\n            onClick={handleClose}\n          >\n            <CloseIcon />\n          </IconButton>\n        </Typography>\n      </DialogTitle>\n      <DialogContent className={classes.content}>\n        <MarkdownRender markdownString={content} />\n      </DialogContent>\n    </Dialog>\n  );\n};\n\nPreview.propTypes = {\n  width: PropTypes.string.isRequired,\n  open: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  content: PropTypes.string.isRequired,\n};\n\nexport default withWidth()(Preview);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport {\n  closeEditor,\n  openNotification,\n} from '../../store/actions';\nimport { topicTypes, matchTab } from '../../common';\nimport { post } from '../../fetch';\n\nimport { withStyles } from '@material-ui/core/styles';\nimport withWidth, { isWidthUp } from '@material-ui/core/withWidth';\n\nimport Slide from '@material-ui/core/Slide';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\n\nimport { MarkdownEditor } from '../../Components/Markdown';\nimport EditorHeader from './EditorHeader';\nimport Preview from './Preview';\n\nconst styles = theme => ({\n  editor: {\n    '& #editor .editor-header': {\n      padding: '24px 0 14px 24px',\n    },\n  },\n  title: {\n    margin: 0,\n    padding: '0 24px 18px',\n  },\n  content: {\n    paddingTop: 0,\n    paddingBottom: 0,\n  },\n  actions: {\n    margin: 0,\n    padding: '10px 24px',\n  },\n  button: {\n    margin: 0,\n    minWidth: 110,\n  },\n  doit: {\n    marginLeft: 16,\n  },\n  cancel: {\n    marginLeft: 0,\n  },\n});\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nclass Editor extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      /**\n       * status\n       * 1 idle\n       * 2 working\n       * 3 success\n       * 4 error\n       */\n      status: 'idle',\n      changed: false,\n      disabled: false,\n      fullScreen: false,\n      publishTab: null,\n      preview: false,\n      tab: null,\n      isOK: false,\n      title: '',\n      content: '',\n    };\n  }\n\n  titleRef = React.createRef();\n  contentRef = React.createRef();\n\n  handleFocus = () => {\n    const { action } = this.props;\n\n    if (['create', 'update'].includes(action)) {\n      this.titleRef.current.focus();\n    } else {\n      this.contentRef.current.focus();\n    }\n  };\n\n  handlePublishTab = publishTab => {\n    this.setState({ publishTab });\n  };\n\n  handleOpenPreview = () => {\n    const { content } = this.state;\n\n    if (!Boolean(content) || content.trim().length <= 3) {\n      this.props.openNotification({\n        message: '太短了唷。',\n        status: 'info',\n      });\n    } else {\n      this.setState({\n        preview: true,\n      });\n    }\n  };\n\n  handleClosePreview = () => {\n    this.setState({\n      preview: false,\n    });\n  };\n\n  handleFullScreen = () => {\n    this.setState(state => ({\n      fullScreen: !state.fullScreen,\n    }));\n  };\n\n  handleChange = name => event => {\n    let value = event.target.value;\n\n    if (name === 'title') {\n      value = value.replace(/\\n/g, '');\n    }\n\n    this.setState({\n      [name]: value,\n      changed: true,\n    }, () => {\n      this.check();\n    });\n  };\n\n  checkTab = () => {\n    const { publishTab } = this.state;\n    const { action } = this.props;\n\n    if (/(reply)/.test(action)) {\n      return true;\n    }\n\n    const result = topicTypes.includes(publishTab);\n\n    if (!result) {\n      this.props.openNotification({\n        message: '请选择一个主题分类',\n        status: 'error',\n      });\n    }\n\n    return result;\n  };\n\n  checkTitle = () => {\n    const { title } = this.state;\n    const { action } = this.props;\n\n    return (\n      /(reply)/.test(action)\n        ? true\n        : typeof title === 'string'\n          ? title.length >= 5\n          : false\n    );\n  };\n\n  checkContent = () => {\n    const { content } = this.state;\n    return (\n      typeof content === 'string'\n        ? content.length >= 3\n        : false\n    );\n  };\n\n  check = () => {\n    const isOK = this.checkTitle() && this.checkContent();\n\n    this.setState({ isOK });\n\n    return isOK;\n  };\n\n  handleSubmit = () => {\n    const { isOK } = this.state;\n\n    if (!isOK || !this.checkTab()) {\n      return;\n    }\n\n    const {\n      action,\n      url,\n      reply_id,\n      topic_id,\n      accesstoken,\n    } = this.props;\n\n    const {\n      title,\n      publishTab: tab,\n      content,\n    } = this.state;\n\n    const params = {\n      accesstoken,\n      tab: tab || undefined,\n      title,\n      content,\n      reply_id,\n      topic_id,\n    };\n\n    this.setState({\n      status: 'working',\n      disabled: true,\n    }, async () => {\n      const { success, err_msg, data } = await post({ url, params });\n\n      this.setState({\n        status: success ? 'success' : 'error',\n        disabled: false,\n      }, () => {\n        success && this.handleClose({\n          action,\n          request: { ...params },\n          response: { ...data },\n        });\n      });\n\n      const message = success\n        ? action === 'create'\n          ? '发布成功 ^_^'\n          : action === 'update'\n            ? '更新成功 ^_^'\n            : action === 'reply'\n              ? '回复成功 ^_^'\n              : '无效操作'\n        : {\n          status: 'error',\n          message: err_msg\n            ? err_msg\n            : action === 'create'\n              ? '发布失败 :('\n              : action === 'update'\n                ? '更新失败 :('\n                : action === 'reply'\n                  ? '回复失败 :('\n                  : '无效操作',\n        };\n\n      this.props.openNotification(message);\n    });\n  };\n\n  handlePreClose = () => {\n    const { open } = this.props;\n    open && this.handleClose();\n  };\n\n  handleClose = (result = {}) => {\n    const { disabled } = this.state;\n    const { response } = result;\n\n    this.handleClosePreview();\n    !disabled && this.props.closeEditor(response ? result : {});\n  };\n\n  UNSAFE_componentWillMount() {\n    const tab = matchTab(this.props.location);\n\n    this.setState({\n      tab,\n    }, () => {\n      this.check();\n    });\n  }\n\n  componentWillUnmount() {\n    this.handlePreClose();\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    const {\n      pathname: nextPathname,\n      search: nextSearch,\n    } = nextProps.location;\n\n    const {\n      pathname: prevPathname,\n      search: prevSearch,\n    } = this.props.location;\n\n    const { title, content } = nextProps;\n\n    if (`${nextPathname}${nextSearch}` === `${prevPathname}${prevSearch}`) {\n      this.setState({\n        title,\n        content,\n      }, () => {\n        this.check();\n      });\n    } else {\n      this.handlePreClose();\n    }\n  }\n\n  render() {\n    const {\n      classes,\n      width,\n      open,\n      action,\n      isAuthed,\n    } = this.props;\n\n    const {\n      disabled,\n      preview,\n      fullScreen,\n      isOK,\n      title,\n      content = '',\n     } = this.state;\n\n    return (isAuthed &&\n      <React.Fragment>\n        <Dialog\n          className={classes.editor}\n          PaperProps={{id: 'editor'}}\n          open={open}\n          onClose={this.handleClose}\n          TransitionComponent={Transition}\n          maxWidth=\"sm\"\n          fullWidth\n          fullScreen={!isWidthUp('sm', width) || fullScreen}\n          keepMounted={!isWidthUp('sm', width)}\n          onEntered={this.handleFocus}\n        >\n          <EditorHeader\n            disabled={disabled}\n            onPublishTab={this.handlePublishTab}\n            onPreview={this.handleOpenPreview}\n            fullScreen={fullScreen}\n            onFullScreen={this.handleFullScreen}\n          />\n          {['create', 'update'].includes(action) &&\n            <TextField\n              className={classes.title}\n              margin=\"normal\"\n              multiline\n              rows=\"1\"\n              rowsMax=\"3\"\n              fullWidth\n              placeholder=\"标题...\"\n              inputRef={this.titleRef}\n              value={title}\n              disabled={disabled}\n              onChange={this.handleChange('title')}\n            />\n          }\n          <DialogContent className={clsx('flex', classes.content)}>\n            <MarkdownEditor\n              disabled={disabled}\n              content={content}\n              inputRef={this.contentRef}\n              onUpdateContent={this.handleChange('content')}\n            />\n          </DialogContent>\n          <DialogActions className={classes.actions}>\n            <Button\n              className={clsx(classes.button, classes.cancel)}\n              onClick={this.handleClose}\n              disabled={disabled}\n              color=\"default\"\n              size=\"large\"\n            >\n              取消\n            </Button>\n            <Button\n              className={clsx(classes.button, classes.doit)}\n              variant=\"contained\"\n              onClick={this.handleSubmit}\n              disabled={!isOK || disabled}\n              color=\"primary\"\n              size=\"large\"\n            >\n              {action === 'create' ? (\n                '发布'\n              ) : action === 'update' ? (\n                '更新'\n              ) : (\n                '回复'\n              )}\n            </Button>\n          </DialogActions>\n        </Dialog>\n\n        <Preview\n          open={preview}\n          content={content}\n          onClose={this.handleClosePreview}\n        />\n      </React.Fragment>\n    );\n  }\n}\n\nEditor.propTypes = {\n  classes: PropTypes.object.isRequired,\n  width: PropTypes.string.isRequired,\n  action: PropTypes.oneOf(['create', 'update', 'reply']),\n};\n\nconst mapStateToProps = ({ auth, editor }) => ({\n  ...auth,\n  ...editor,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  closeEditor: data => {\n    dispatch(closeEditor(data));\n  },\n  openNotification: message => {\n    dispatch(openNotification(message));\n  },\n});\n\nexport default compose(\n  withStyles(styles),\n  withWidth(),\n  withRouter,\n  connect(\n    mapStateToProps,\n    mapDispatchToProps,\n  ),\n)(Editor);\n","/**\n * auth\n * ------------\n * UPDATE_AUTH\n * DELETE_AUTH\n */\nexport const updateAuth = data => ({\n  type: 'UPDATE_AUTH',\n  data,\n});\n\nexport const deleteAuth = () => ({\n  type: 'DELETE_AUTH',\n});\n\n\n/**\n * message\n * ------------\n * READ_MESSAGE\n * READ_ALL_MESSAGE\n * UPDATE_MESSAGE\n * CLEAN_MESSAGE\n */\nexport const readMessage = () => ({\n  type: 'READ_MESSAGE',\n});\n\nexport const readAllMessage = () => ({\n  type: 'READ_ALL_MESSAGE',\n});\n\nexport const updateMessage = data => ({\n  type: 'UPDATE_MESSAGE',\n  data,\n});\n\nexport const cleanMessage = () => ({\n  type: 'CLEAN_MESSAGE',\n});\n\n\n/**\n * message\n * ------------\n * OPEN_EDITOR\n * CLOSE_EDITOR\n */\nexport const openEditor = data => ({\n  type: 'OPEN_EDITOR',\n  data,\n});\n\nexport const closeEditor = data => ({\n  type: 'CLOSE_EDITOR',\n  data,\n});\n\n\n/**\n * share\n * -----------\n * OPEN_SHARE\n * CLOSE_SHARE\n */\nexport const openShare = data => ({\n  type: 'OPEN_SHARE',\n  data,\n});\n\nexport const closeShare = () => ({\n  type: 'CLOSE_SHARE',\n});\n\n\n/**\n * zoom\n * ----------\n * OPEN_ZOOM\n * CLOSE_ZOOM\n */\nexport const openZoom = data => ({\n  type: 'OPEN_ZOOM',\n  data,\n});\n\nexport const closeZoom = () => ({\n  type: 'CLOSE_ZOOM',\n});\n\n\n/**\n * notification\n * ------------------\n * OPEN_NOTIFICATION\n * CLOSE_NOTIFICATION\n */\nexport const openNotification = data => ({\n  type: 'OPEN_NOTIFICATION',\n  data,\n});\n\nexport const closeNotification = () => ({\n  type: 'CLOSE_NOTIFICATION',\n});\n\n\n/**\n * settings\n * ----------------\n * UPDATE_SETTINGS\n * RESTORE_SETTINGS\n */\nexport const updateSettings = data => ({\n  type: 'UPDATE_SETTINGS',\n  data,\n});\n\nexport const restoreSettings = data => ({\n  type: 'RESTORE_SETTINGS',\n  data,\n});\n","import React from 'react';\n\nconst useLoadmore = (options = {}) => {\n  const [loadmore, setLoadmore] = React.useState(false);\n\n  React.useEffect(() => {\n    const { threshold = 20 } = options;\n\n    const handleScroll = () => {\n      const documentHeight = document.documentElement.offsetHeight || document.body.offsetHeight;\n      const scrollHeight = document.documentElement.scrollTop || document.body.scrollTop;\n      const windowHeight = window.innerHeight;\n\n      if (documentHeight > windowHeight && documentHeight - (windowHeight + scrollHeight) <= threshold) {\n        setLoadmore(true);\n      } else {\n        setLoadmore(false);\n      }\n    };\n\n    document.addEventListener('scroll', handleScroll);\n\n    return () => document.removeEventListener('scroll', handleScroll);\n  }, [options]);\n\n  return loadmore;\n};\n\nexport default useLoadmore;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { useLocation } from 'react-router-dom';\nimport {\n  matchTab,\n  getNewDataCreate,\n} from '../../common';\nimport { get as getData } from '../../fetch';\n\nimport { AppWrapper } from '../../Layout';\nimport TopiCards from '../../Components/TopiCards';\nimport Progress from '../../Components/Progress';\nimport ActionDial from '../../Components/ActionDial';\nimport Notification from '../../Components/Notification';\nimport Editor from '../../Components/Editor';\nimport useLoadmore from '../../Components/useLoadmore';\n\nconst Home = () => {\n  const isFetching = React.useRef(false);\n  const isFetched = React.useRef(false);\n  const isCancel = React.useRef();\n  const page = React.useRef(1);\n  const { pathname, search } = useLocation();\n\n  const [tab, setTab] = React.useState(null);\n  const [topics, setTopics] = React.useState([]);\n  const [status, setStatus] = React.useState('idle');\n  const loadmore = useLoadmore();\n\n  const fetchTopics = React.useCallback(async options => {\n    isFetching.current = true;\n    setStatus('loading');\n\n    const params = {\n      url: '/topics',\n      params: {\n        tab: options.tab,\n        page: page.current,\n        limit: 20,\n        // limit: isFetched.current ? 1 : 20,\n        mdrender: true,\n      },\n    };\n\n    const { success, data } = await getData(params);\n\n    if (isCancel.current) {\n      return;\n    }\n\n    if (success) {\n      setTopics(prevState => (isFetched.current ? [ ...prevState, data ] : [data]));\n      setStatus('success');\n      isFetched.current = true;\n      page.current += 1;\n    } else {\n      setStatus('error');\n    }\n\n    isFetching.current = false;\n  }, []);\n\n  React.useEffect(() => {\n    isFetching.current = false;\n    isFetched.current = false;\n    page.current = 1;\n\n    setTopics([]);\n    setTab(matchTab({pathname, search}));\n  }, [pathname, search]);\n\n  React.useEffect(() => {\n    if (tab === null || isFetching.current || (isFetched.current && !loadmore)) {\n      return;\n    }\n\n    isCancel.current = false;\n\n    fetchTopics({ tab });\n\n    return () => {\n      isFetching.current = false;\n      isCancel.current = true;\n    };\n  }, [tab, loadmore, fetchTopics]);\n\n  const editorData = useSelector(state => state.editor);\n\n  React.useEffect(() => {\n    const newDataCreate = getNewDataCreate(editorData);\n    newDataCreate && setTopics(prevState => ([ newDataCreate, ...prevState ]));\n  }, [editorData]);\n\n  return (\n    <AppWrapper>\n      <div id=\"container\">\n        <div className=\"wrapper\">\n          <div className=\"topic-list-container\">\n            {topics.map((items, index) => (\n              <TopiCards key={index} items={items} />\n            ))}\n          </div>\n        </div>\n\n        <div className=\"status wrapper\">\n          <Progress status={status} />\n        </div>\n      </div>\n\n      <ActionDial single />\n      <Editor />\n      <Notification />\n    </AppWrapper>\n  );\n};\n\nexport default Home;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useLocation, useParams, Link } from 'react-router-dom';\n\nimport { post } from '../../fetch';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport withWidth, { isWidthDown } from '@material-ui/core/withWidth';\n\nimport Grid from '@material-ui/core/Grid';\nimport Avatar from '@material-ui/core/Avatar';\nimport IconButton from '@material-ui/core/IconButton';\n\nimport Popover from '@material-ui/core/Popover';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\n\nimport ThumbUpIcon from '@material-ui/icons/ThumbUpAlt';\nimport ThumbUpCancelIcon from '@material-ui/icons/ThumbUpAltOutlined';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport ReplyIcon from '@material-ui/icons/Reply';\nimport ShareIcon from '@material-ui/icons/Share';\n\nimport { MarkdownRender } from '../../Components/Markdown';\nimport Moment from '../../Components/Moment';\nimport { scroller } from 'react-scroll';\n\nconst useStyles = makeStyles(theme => ({\n  icon: {\n    minWidth: 'auto',\n  },\n}));\n\nconst TopicReply = (props) => {\n  const { topicAuthor, width } = props;\n  const { topic_id } = useParams();\n  const { hash } = useLocation();\n  const classes = useStyles();\n  const isCancel = React.useRef();\n  const anchorEl = React.useRef(null);\n  const [moreOpen, setMoreOpen] = React.useState(false);\n  const [sharePrefixURL, setSharePrefixURL] = React.useState('');\n\n  const {\n    isAuthed,\n    accesstoken,\n    uname: signedUname,\n  } = useSelector(state => state.auth);\n  const dispatch = useDispatch();\n\n  const [upData, setUpData] = React.useState({\n    ups: props.item.ups.length,\n    isUped: props.item.is_uped,\n  });\n\n  const {\n    author: {\n      loginname: uname,\n      avatar_url: avatar,\n    },\n    id,\n    create_at: createAt,\n    content,\n  } = props.item;\n\n  const handleUp = async () => {\n    if (!isAuthed) {\n      dispatch({ type: 'OPEN_NOTIFICATION', data: '登录后才能 👍 哟~' });\n      return;\n    }\n\n    if (uname === signedUname) {\n      dispatch({ type: 'OPEN_NOTIFICATION', data: '不能 👍 自己的哟~' });\n      return;\n    }\n\n    isCancel.current = false;\n\n    const params = {\n      url: `/reply/${id}/ups`,\n      params: { accesstoken },\n    };\n\n    const { success, err_msg } = await post(params);\n\n    if (isCancel.current) {\n      return;\n    }\n\n    if (success) {\n      setUpData(prevState => {\n        const { ups, isUped } = prevState;\n        return {\n          ups: isUped ? ups - 1 : ups + 1,\n          isUped: !isUped,\n        };\n      });\n    } else if (err_msg) {\n      dispatch({\n        type: 'OPEN_NOTIFICATION',\n        data: {\n          status: 'error',\n          message: err_msg,\n        },\n      });\n    }\n  };\n\n  const handleShare = () => {\n    handleCloseMore();\n    dispatch({\n      type: 'OPEN_SHARE',\n      data: `${sharePrefixURL}#${id}`,\n    });\n  };\n\n  const handleCloseMore = () => {\n    setMoreOpen(false);\n  };\n\n  const handleOpenMore = () => {\n    setMoreOpen(true);\n  };\n\n  const handleReply = () => {\n    handleCloseMore();\n\n    const config = {\n      action: 'reply',\n      url: `/topic/${topic_id}/replies`,\n      reply_id: id,\n      content: `@${uname} `,\n    };\n\n    dispatch({ type: 'OPEN_EDITOR', data: config });\n  };\n\n  const timer = React.useRef();\n\n  React.useEffect(() => {\n    if (hash !== `#${id}`) {\n      return;\n    }\n\n    clearTimeout(timer.current);\n\n    const appHeaderHight = isWidthDown('xs', width) ? 56 : 64;\n    const replieSpacings = 32;\n    let threshold = 10;\n\n    if (isWidthDown('xs', width)) {\n      threshold += replieSpacings / 2;\n    }\n\n    timer.current = setTimeout(() => {\n      scroller.scrollTo(hash, {\n        duration: 500,\n        smooth: 'easeInOutQuart',\n        /**\n         * appHeaderHight => app header height\n         * replieSpacings => spacings between replies\n         * threshold => the highlight reply top offset\n         */\n        offset: -(appHeaderHight + replieSpacings / 2 + threshold),\n      });\n    }, 0);\n\n    return () => clearTimeout(timer.current);\n  }, [hash, id, width]);\n\n  React.useEffect(() => {\n    const { origin, pathname } = window.location;\n    setSharePrefixURL(`${origin}${pathname}`);\n\n    return () => isCancel.current = true;\n  }, []);\n\n  return (\n    <div id={`#${id}`} className={clsx('topic-reply', {\n      'hilite': hash === `#${id}`,\n      'owned': uname === topicAuthor,\n    })}>\n      <div className=\"reply-content\">\n        <Grid container wrap=\"nowrap\" className={clsx('reply-header', classes.header)}>\n          <Avatar aria-label=\"Recipe\" className=\"reply-avatar\">\n            <Link to={uname ? `/user/${uname}` : '/'}>\n              {avatar &&\n                <img\n                  src={avatar}\n                  alt={uname || '用户已注销'}\n                />\n              }\n            </Link>\n          </Avatar>\n\n          <Grid container item zeroMinWidth wrap=\"nowrap\" className=\"reply-attrs\">\n            <Grid container wrap=\"nowrap\" className=\"group\">\n              <Grid container item zeroMinWidth wrap=\"nowrap\" className=\"uname-text\">\n                <Grid item zeroMinWidth>\n                  <Link\n                    className=\"uname\"\n                    to={uname ? `/user/${uname}` : '/'}\n                  >\n                    {uname ? uname : '用户已注销'}\n                  </Link>\n                </Grid>\n                {uname === topicAuthor &&\n                  <Grid item className=\"text\">\n                    [作者]\n                  </Grid>\n                }\n              </Grid>\n              <Grid item className=\"time\">\n                <Moment fromNow>{createAt}</Moment>\n              </Grid>\n            </Grid>\n          </Grid>\n\n          <Grid item className=\"reply-actions\">\n            <IconButton\n              className=\"action up\"\n              onClick={handleUp}\n            >\n              {upData.isUped ? (\n                <ThumbUpIcon />\n              ) : (\n                <ThumbUpCancelIcon />\n              )}\n            </IconButton>\n            {Boolean(upData.ups) &&\n              <span className=\"num\">{upData.ups}</span>\n            }\n            <IconButton\n              className=\"action more\"\n              buttonRef={node => {\n                anchorEl.current = node;\n              }}\n              variant=\"contained\"\n              onClick={handleOpenMore}\n            >\n              <MoreVertIcon />\n            </IconButton>\n            <Popover\n              open={moreOpen}\n              anchorEl={anchorEl.current}\n              anchorReference=\"anchorEl\"\n              anchorPosition={{ top: 30, left: 30 }}\n              onClose={handleCloseMore}\n              anchorOrigin={{\n                vertical: 'top',\n                horizontal: 'right',\n              }}\n              transformOrigin={{\n                vertical: 'top',\n                horizontal: 'right',\n              }}\n            >\n              <List>\n                <ListItem\n                  className=\"action post\"\n                  onClick={handleShare}\n                  button\n                >\n                  <ListItemIcon className={classes.icon}>\n                    <ShareIcon />\n                  </ListItemIcon>\n                </ListItem>\n                {isAuthed &&\n                  <ListItem\n                    className=\"action reply\"\n                    onClick={handleReply}\n                    button\n                  >\n                    <ListItemIcon className={classes.icon}>\n                      <ReplyIcon />\n                    </ListItemIcon>\n                  </ListItem>\n                }\n              </List>\n            </Popover>\n          </Grid>\n        </Grid>\n\n        <div className=\"markdown-container\">\n          <MarkdownRender markdownString={content} />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nTopicReply.propTypes = {\n  topicAuthor: PropTypes.string.isRequired,\n  item: PropTypes.object.isRequired,\n  width: PropTypes.string.isRequired,\n};\n\nexport default withWidth()(TopicReply);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport {\n  closeZoom,\n  openShare,\n} from '../../store/actions';\n\nimport { withStyles } from '@material-ui/core/styles';\nimport withWidth, { isWidthDown } from '@material-ui/core/withWidth';\n\nimport Grid from '@material-ui/core/Grid';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport Fade from '@material-ui/core/Fade';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport IconButton from '@material-ui/core/IconButton';\nimport Button from '@material-ui/core/Button';\nimport CloseIcon from '@material-ui/icons/Close';\nimport ShareIcon from '@material-ui/icons/Share';\nimport ZoomInIcon from '@material-ui/icons/Add';\nimport ZoomOutIcon from '@material-ui/icons/Remove';\nimport ZoomResetIcon from '@material-ui/icons/Search';\n\nconst styles = theme => ({\n  fill: {\n    flex: 1,\n  },\n  backdrop: {\n    backgroundColor: theme.palette.type === 'light' ? 'rgba(255,255,255,.85)' : 'rgba(0,0,0,.92)',\n  },\n  actions: {\n    position: 'fixed',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    zIndex: 1,\n    top: 0,\n    left: 0,\n    right: 0,\n    height: 56,\n    padding: '0 18px',\n    backgroundColor: theme.palette.type === 'light' ? '#fff' : '#212121',\n    boxShadow: '0 0 1px rgba(0,0,0,.03), 0 0 2px rgba(0,0,0,.08)',\n    [theme.breakpoints.up('sm')]: {\n      height: 64,\n      padding: '0 24px',\n    },\n  },\n  container: {\n    display: 'flex',\n    margin: 0,\n    paddingTop: 56,\n    width: '100%',\n    height: '100%',\n    maxWidth: 'none',\n    maxHeight: 'none',\n    backgroundColor: 'transparent',\n    boxShadow: 'none',\n    userSelect: 'none',\n    outline: 'none',\n    borderRadius: 0,\n    [theme.breakpoints.up('sm')]: {\n      paddingTop: 64,\n    },\n  },\n  content: {\n    display: 'flex',\n    padding: 0,\n  },\n  wrap: {\n    position: 'relative',\n    display: 'flex',\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    overflow: 'hidden',\n    outline: 'none',\n  },\n  loading: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    marginTop: -20,\n    marginLeft: -20,\n  },\n  box: {\n    position: 'relative',\n    opacity: 0,\n    transform: 'scale(.9)',\n    transition: 'transform .15s cubic-bezier(0,0,.2,1), opacity 85ms linear 65ms',\n    '&.ready': {\n      opacity: 1,\n      transform: 'none',\n      transitionDuration: '.18s, 85ms',\n      transitionDelay: '0s, 0s',\n    },\n  },\n  target: {\n    display: 'block',\n    position: 'relative',\n    transition: 'transform .3s cubic-bezier(.4,0,.2,1)',\n    boxShadow: ' 0 2px 6px rgba(0,0,0,.16), 0 1px 4px rgba(0,0,0,.03)',\n    cursor: 'default',\n    '&.drag-enabled': {\n      cursor: 'grab',\n      '&.drag-active': {\n        cursor: 'grabbing',\n        transition: 'none',\n      },\n    },\n  },\n  zoom: {\n    position: 'fixed',\n    display: 'flex',\n    flexWrap: 'nowrap',\n    padding: '0 8px',\n    left: 30,\n    bottom: 32,\n    borderRadius: 22,\n    overflow: 'hidden',\n    backgroundColor: theme.palette.type === 'light' ? '#fff' : '#212121',\n    boxShadow: '0 0 2px rgba(0,0,0,.1), 0 2px 5px rgba(0,0,0,.16)',\n    zIndex: 1,\n  },\n  btn: {\n    padding: 10,\n    minWidth: 44,\n    borderRadius: 0,\n  },\n});\n\nconst defaultState = {\n  // translate position\n  x: 0,\n  y: 0,\n  // drag start position\n  sX: 0,\n  sY: 0,\n  // drag move position\n  mX: 0,\n  mY: 0,\n  scale: 1,\n  scaleLevel: 1,\n  scaleLevels: [ .68, 1, 1.38, 2, 3.21, 4.96 ],\n  spacings: 16,\n  dragSpacings: 50,\n  disabledUp: false,\n  disabledDown: false,\n  disabledReset: true,\n  dragEnabled: false,\n  dragActive: false,\n  // image loaded\n  ready: false,\n};\n\nclass ImageZoom extends React.Component {\n  state = defaultState;\n\n  handleClick = event => {\n    const { target } = event;\n    const { ready } = this.state;\n\n    if (!ready || target === this.wrap || target === this.box) {\n      this.handleClose();\n    }\n  };\n\n  handleShare = () => {\n    const url = this.zoomTarget.src;\n    this.props.openShare(url);\n  };\n\n  handlePreClose = () => {\n    const { open } = this.props;\n    open && this.handleClose();\n  };\n\n  handleClose = () => {\n    this.props.closeZoom();\n  };\n\n  resetState = () => {\n    this.setState({ ...defaultState });\n  };\n\n  getDragThreshold = () => {\n    const {\n      scale,\n      dragSpacings,\n      initialWidth,\n      initialHeight,\n      wrapWidth,\n      wrapHeight,\n      maxWidth,\n      maxHeight,\n    } = this.state;\n\n    const currentWidth = initialWidth * scale;\n    const currentHeight = initialHeight * scale;\n\n    const tX = currentWidth > maxWidth\n               ? Math.max(0, (currentWidth - wrapWidth) / 2 + dragSpacings)\n               : 0;\n    const tY = currentHeight > maxHeight\n               ? Math.max(0, (currentHeight - wrapHeight) / 2 + dragSpacings)\n               : 0;\n\n    return { tX, tY };\n  };\n\n  getTransform = () => {\n    let {\n      x,\n      y,\n      sX,\n      sY,\n      mX,\n      mY,\n    } = this.state;\n\n    const { tX, tY } = this.getDragThreshold();\n\n    x += mX - sX;\n    y += mY - sY;\n\n    x = Math.min(tX, Math.max(-tX, x));\n    y = Math.min(tY, Math.max(-tY, y));\n\n    return { x, y };\n  };\n\n  updateTransform = () => {\n    const { scale } = this.state;\n    const { x, y } = this.getTransform();\n    const transform = `translate(${x}px, ${y}px) scale(${scale})`;\n    this.zoomTarget.style.transform = transform;\n  };\n\n  resetTransform = () => {\n    const { x, y, scale } = defaultState;\n    const transform = `translate(${x}px, ${y}px) scale(${scale})`;\n    this.zoomTarget.style.transform = transform;\n  };\n\n  updateDragStatus = () => {\n    const {\n      scale,\n      initialWidth,\n      initialHeight,\n      maxWidth,\n      maxHeight,\n    } = this.state;\n\n    const currentWidth = initialWidth * scale;\n    const currentHeight = initialHeight * scale;\n\n    const dragEnabled = currentWidth > maxWidth || currentHeight > maxHeight;\n\n    this.setState({ dragEnabled });\n  };\n\n  getEventPosition = event => {\n    const { isTouch } = this.state;\n    const x = isTouch ? event.touches[0].pageX : event.clientX;\n    const y = isTouch ? event.touches[0].pageY : event.clientY;\n\n    return { x, y };\n  };\n\n  dragStart = event => {\n    event.preventDefault();\n\n    if (!this.state.dragEnabled) { return; }\n\n    const { x, y } = this.getEventPosition(event);\n\n    this.setState({\n      sX: x,\n      sY: y,\n      mX: x,\n      mY: y,\n      dragActive: true,\n    });\n  };\n\n  dragActive = event => {\n    event.preventDefault();\n\n    if (!this.state.dragActive) { return; }\n\n    const { x, y } = this.getEventPosition(event);\n\n    this.setState({\n      mX: x,\n      mY: y,\n    }, () => {\n      this.updateTransform();\n    });\n  };\n\n  dragEnd = event => {\n    event.preventDefault();\n\n    if (!this.state.dragActive) { return; }\n\n    const { x, y } = this.getTransform();\n\n    this.setState({\n      x,\n      y,\n      dragActive: false,\n    });\n  };\n\n  bindEvents = () => {\n    const { isTouch } = this.state;\n\n    const eStart = isTouch ? 'touchstart' : 'mousedown';\n    const eMove = isTouch ? 'touchmove' : 'mousemove';\n    const eEnd = isTouch ? 'touchend' : 'mouseup';\n    const eCancel = isTouch ? 'touchcancel' : 'mouseleave';\n\n    this.zoomTarget.addEventListener(eStart, this.dragStart);\n    this.zoomTarget.addEventListener(eMove, this.dragActive);\n    this.zoomTarget.addEventListener(eEnd, this.dragEnd);\n    this.zoomTarget.addEventListener(eCancel, this.dragEnd);\n  };\n\n  setViewport = () => {\n    const viewport = document.head.querySelector('meta[name=\"viewport\"]');\n    const content = viewport.content;\n    const scalable = 'user-scalable=no';\n\n    viewport.content = `${content}, ${scalable}`;\n\n    this.setState({\n      viewport,\n      content,\n    });\n  };\n\n  resetViewport = () => {\n    const { viewport, content } = this.state;\n    viewport && (viewport.content = content);\n  };\n\n  initState = () => {\n    const isTouch = 'ontouchstart' in window;\n\n    const { spacings } = defaultState;\n    const { naturalWidth, naturalHeight } = this.zoomTarget;\n\n    const wrapWidth = this.wrap.clientWidth;\n    const wrapHeight = this.wrap.clientHeight;\n\n    const maxWidth = wrapWidth - 2 * spacings;\n    const maxHeight = wrapHeight - 2 * spacings;\n\n    let initialHeight = naturalHeight;\n\n    if (naturalWidth > maxWidth) {\n      initialHeight *= maxWidth / naturalWidth;\n    }\n\n    if (initialHeight > maxHeight) {\n      initialHeight = maxHeight;\n    }\n\n    const initialWidth = naturalWidth * initialHeight / naturalHeight;\n\n    this.setState({\n      ...defaultState,\n      initialWidth,\n      initialHeight,\n      naturalWidth,\n      naturalHeight,\n      wrapWidth,\n      wrapHeight,\n      maxWidth,\n      maxHeight,\n      isTouch,\n      ready: true,\n    }, () => {\n      this.setViewport();\n      this.bindEvents();\n    });\n  };\n\n  zoomInit = () => {\n    if (this.zoomTarget.complete) {\n      this.initState();\n    } else {\n      this.zoomTarget.addEventListener('load', this.initState);\n    }\n  };\n\n  zoomExit = () => {\n    this.resetState();\n    this.resetViewport();\n    this.resetTransform();\n  };\n\n  handleZoom = action => event => {\n    let {\n      scale,\n      scaleLevel,\n      scaleLevels,\n      disabledUp,\n      disabledDown,\n      disabledReset,\n    } = this.state;\n\n    const baseScaleLevel = 1;\n    const minScaleLevel = 0;\n    const maxScaleLevel = scaleLevels.length - 1;\n\n    switch (action) {\n      case 'init':\n        this.zoomInit();\n        return;\n      case 'up':\n        scaleLevel++;\n        break;\n      case 'down':\n        scaleLevel--;\n        break;\n      case 'reset':\n        scaleLevel = baseScaleLevel;\n        break;\n      default:\n        this.zoomExit();\n        return;\n    }\n\n    scaleLevel = Math.min(\n      Math.max(scaleLevel, minScaleLevel),\n      maxScaleLevel\n    );\n\n    scale = scaleLevels[scaleLevel];\n    disabledUp = scaleLevel === maxScaleLevel;\n    disabledDown = scaleLevel === minScaleLevel;\n    disabledReset = scaleLevel === baseScaleLevel;\n\n    this.setState(state => ({\n      ...defaultState,\n      scale,\n      scaleLevel,\n      disabledUp,\n      disabledDown,\n      disabledReset,\n      ready: state.ready,\n    }), () => {\n      this.updateDragStatus();\n      this.updateTransform();\n    });\n  };\n\n  componentWillUnmount() {\n    this.handlePreClose();\n  }\n\n  render() {\n    const {\n      classes,\n      width,\n      open,\n      src,\n    } = this.props;\n\n    const {\n      initialHeight = 'auto',\n      disabledUp,\n      disabledDown,\n      disabledReset,\n      dragEnabled,\n      dragActive,\n      ready,\n    } = this.state;\n\n    return (\n      <Dialog\n        open={open}\n        fullWidth\n        maxWidth={false}\n        onClose={this.handleClose}\n        onEnter={this.handleZoom('init')}\n        onExited={this.handleZoom('exit')}\n        BackdropProps={{ className: classes.backdrop }}\n        PaperProps={{ className: classes.container }}\n        keepMounted={isWidthDown('xs', width)}\n      >\n        <Grid className={classes.actions}>\n          <Grid className={classes.fill}>\n            <IconButton\n              className={classes.close}\n              onClick={this.handleClose}\n            >\n              <CloseIcon />\n            </IconButton>\n          </Grid>\n          <IconButton\n            className={classes.share}\n            onClick={this.handleShare}\n            disabled={!ready}\n          >\n            <ShareIcon />\n          </IconButton>\n        </Grid>\n        <DialogContent className={classes.content}>\n          <div\n            ref={ref => this.wrap = ref}\n            className={classes.wrap}\n            onClick={this.handleClick}\n            onKeyUp={() => {}}\n            role=\"grid\"\n            tabIndex=\"-1\"\n          >\n            <Fade\n              in={!ready}\n              className={classes.loading}\n            >\n              <CircularProgress />\n            </Fade>\n            <div\n              ref={ref => this.box = ref}\n              className={clsx(classes.box, {\n                'ready': ready,\n              })}\n            >\n              <img\n                ref={ref => this.zoomTarget = ref}\n                className={clsx(classes.target, {\n                  'drag-enabled': dragEnabled,\n                  'drag-active': dragActive,\n                })}\n                style={{ height: initialHeight }}\n                src={src}\n                alt=\"zoom\"\n              />\n            </div>\n          </div>\n          <Grid className={classes.zoom}>\n            <Button\n              className={classes.btn}\n              disabled={disabledDown || !ready}\n              onClick={this.handleZoom('down')}\n            >\n              <ZoomOutIcon />\n            </Button>\n            <Button\n              className={classes.btn}\n              disabled={disabledReset || !ready}\n              onClick={this.handleZoom('reset')}\n            >\n              <ZoomResetIcon />\n            </Button>\n            <Button\n              className={classes.btn}\n              disabled={disabledUp || !ready}\n              onClick={this.handleZoom('up')}\n            >\n              <ZoomInIcon />\n            </Button>\n          </Grid>\n        </DialogContent>\n      </Dialog>\n    );\n  }\n}\n\nImageZoom.propTypes = {\n  classes: PropTypes.object.isRequired,\n  width: PropTypes.string.isRequired,\n  open: PropTypes.bool.isRequired,\n  src: PropTypes.string,\n};\n\nconst mapStateToProps = ({ zoom }) => ({\n  ...zoom,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  closeZoom: () => {\n    dispatch(closeZoom());\n  },\n  openShare: url => {\n    dispatch(openShare(url));\n  },\n});\n\nexport default compose(\n  withStyles(styles),\n  withWidth(),\n  connect(\n    mapStateToProps,\n    mapDispatchToProps,\n  ),\n)(ImageZoom);\n","import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport TextField from '@material-ui/core/TextField';\n\nimport copy from 'clipboard-copy';\n\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    margin: 10,\n    width: 'calc(100% - 20px)',\n    maxWidth: process.env.NODE_ENV === 'production' ? 615 : 540,\n  },\n  content: {\n    padding: 24,\n    display: 'flex',\n    flexWrap: 'nowrap',\n    alignItems: 'flex-end',\n  },\n  button: {\n    marginLeft: 16,\n    padding: '4px 10px',\n  },\n}));\n\nconst ShareDialog = () => {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  let { url, open, post } = useSelector(state => state.share);\n\n  const handleCopy = async () => {\n    try {\n      await copy(url);\n    } finally {\n      handleClose();\n    }\n  };\n\n  const getLabel = () => {\n    post = Boolean(post)\n            ? ` - #${post}`\n            : '';\n\n    return `分享链接${post}：`;\n  };\n\n  const handleClose = React.useCallback(() => {\n    dispatch({ type: 'CLOSE_SHARE' });\n  }, [dispatch]);\n\n  const handleExit = React.useCallback(() => {\n    open && handleClose();\n  }, [open, handleClose]);\n\n  React.useEffect(() => {\n    return () => handleExit();\n  }, [handleExit]);\n\n  return (\n    <Dialog\n      open={open}\n      onClose={handleClose}\n      classes={{\n        paper: classes.paper,\n      }}\n    >\n      <DialogContent className={classes.content}>\n        <TextField\n          inputProps={{ readOnly: true }}\n          label={`${getLabel()}`}\n          value={url}\n          fullWidth\n        />\n        <Button\n          className={classes.button}\n          onClick={handleCopy}\n          variant=\"outlined\"\n          size=\"small\"\n          autoFocus\n        >\n          复制\n        </Button>\n      </DialogContent>\n    </Dialog>\n  );\n};\n\nexport default ShareDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { useSelector } from 'react-redux';\nimport { useParams, Link } from 'react-router-dom';\nimport {\n  navTabsObject as navTabs,\n  getNewDataUpdate,\n  getNewDataReply,\n} from '../../common';\nimport { get as getData } from '../../fetch';\n\nimport { useTheme } from '@material-ui/core/styles';\nimport withWidth, { isWidthDown } from '@material-ui/core/withWidth';\n\nimport Fade from '@material-ui/core/Fade';\nimport Typography from '@material-ui/core/Typography';\nimport CreateIcon from '@material-ui/icons/Create';\nimport ViewIcon from '@material-ui/icons/LocalLibrary';\nimport TagIcon from '@material-ui/icons/LocalOffer';\n\nimport { AppWrapper } from '../../Layout';\nimport TopicReply from './TopicReply';\nimport { MarkdownRender } from '../../Components/Markdown';\nimport ImageZoom from '../../Components/ImageZoom';\nimport Progress from '../../Components/Progress';\n\nimport Avatar from '../../Components/Avatar';\nimport Editor from '../../Components/Editor';\nimport ActionDial from '../../Components/ActionDial';\nimport ShareDialog from '../../Components/ShareDialog';\nimport Notification from '../../Components/Notification';\nimport Moment from '../../Components/Moment';\nimport './topic.styl';\n\nconst Topic = (props) => {\n  const theme = useTheme();\n  const { topic_id } = useParams();\n  const { accesstoken } = useSelector(state => state.auth);\n\n  const [status, setStatus] = React.useState('loading');\n  const [topic, setTopic] = React.useState({});\n  const [replies, setReplies] = React.useState([]);\n  const [dialTopic, setDialTopic] = React.useState(null);\n  const [message, setMessage] = React.useState(null);\n\n  const isCancel = React.useRef();\n  React.useEffect(() => {\n    isCancel.current = false;\n\n    (async () => {\n      const params = {\n        url: `/topic/${topic_id}`,\n        params: { mdrender: false, accesstoken },\n      };\n\n      const { success, data, err_msg } = await getData(params);\n\n      if (isCancel.current) {\n        return;\n      }\n\n      if (success) {\n        const { replies: reps, ...rest } = data;\n\n        setStatus('success');\n        setTopic({ ...rest });\n        setReplies([ ...reps ]);\n        setDialTopic({\n          uname: rest.author.loginname,\n          is_collect: rest.is_collect,\n          content: rest.content,\n          title: rest.title,\n          tab: rest.tab,\n          topic_id,\n        });\n      } else {\n        setStatus('error');\n        setMessage(err_msg);\n      }\n    })();\n\n    return () => isCancel.current = true;\n  }, [topic_id, accesstoken]);\n\n  const editorData = useSelector(state => state.editor);\n\n  React.useEffect(() => {\n    const newDataReply = getNewDataReply(editorData);\n\n    if (newDataReply) {\n      setReplies(prevState => ([\n        ...prevState,\n        newDataReply,\n      ]));\n    }\n\n    const newDataUpdate = getNewDataUpdate(editorData);\n\n    if (newDataUpdate) {\n      setTopic(prevState => ({\n        ...prevState,\n        ...newDataUpdate,\n      }));\n\n      setDialTopic(prevState => ({\n        ...prevState,\n        uname: newDataUpdate.author.loginname,\n        is_collect: newDataUpdate.is_collect,\n        content: newDataUpdate.content,\n        title: newDataUpdate.title,\n        tab: newDataUpdate.tab,\n      }));\n    }\n  }, [editorData]);\n\n  return (\n    <AppWrapper\n      title={topic.title}\n      bodyAttributes={{\n        class: clsx('topic-view', {\n          'error-tips': status === 'error',\n          'zero-spacings': isWidthDown('xs', props.width),\n        }),\n      }}\n    >\n      <div id=\"container\">\n        <Fade in={Boolean(message)}>\n          <div className=\"wrapper tips error\">\n            {message}\n          </div>\n        </Fade>\n\n        {Boolean(topic.title) &&\n          <div id=\"topic\" className={clsx('wrapper', {\n            'dark': theme.palette.type === 'dark',\n          })}>\n            <div className=\"topic-main\">\n              <Typography variant=\"h5\" className=\"title\">\n                {topic.title}\n              </Typography>\n              <div className=\"topic-attrs-wrap\">\n                <div className=\"topic-attrs\">\n                  <span className=\"attr-author\">\n                    <Avatar\n                      className=\"avatar\"\n                      image={topic.author.avatar_url}\n                      name={topic.author.loginname}\n                    />\n                    <Link to={`/user/${topic.author.loginname}`}>\n                      {topic.author.loginname}\n                    </Link>\n                  </span>\n                  <span className=\"attr-create\">\n                    <CreateIcon />\n                    <Moment fromNow>{topic.create_at}</Moment>\n                  </span>\n                  <span className=\"attr-visit\">\n                    <ViewIcon />\n                    <em>{topic.visit_count}</em>\n                    浏览\n                  </span>\n                  {topic.tab &&\n                    <span className=\"attr-tab\">\n                      <TagIcon />\n                      <span className={topic.tab}>\n                        {navTabs[topic.tab].name}\n                      </span>\n                    </span>\n                  }\n                </div>\n              </div>\n\n              <div className=\"markdown-container\">\n                <MarkdownRender markdownString={topic.content} />\n              </div>\n            </div>\n\n            {Boolean(replies.length) &&\n              <div className=\"topic-replies\">\n                {replies.map((item, index) => (\n                  <TopicReply\n                    topicAuthor={topic.author.loginname}\n                    item={item}\n                    key={item.id}\n                  />\n                ))}\n              </div>\n            }\n          </div>\n        }\n\n        <div className=\"status wrapper\">\n          <Progress className=\"mini\" status={status} />\n        </div>\n      </div>\n\n      <ActionDial topic={dialTopic} />\n      <Editor />\n      <ImageZoom />\n      <ShareDialog />\n      <Notification />\n    </AppWrapper>\n  );\n};\n\nTopic.propTypes = {\n  width: PropTypes.string.isRequired,\n};\n\nexport default withWidth()(Topic);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { useParams } from 'react-router-dom';\nimport { getBingImage, get as getData } from '../../fetch';\n\nimport { makeStyles } from '@material-ui/core';\nimport withWidth, { isWidthUp } from '@material-ui/core/withWidth';\n\nimport SwipeableViews from 'react-swipeable-views';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport Fade from '@material-ui/core/Fade';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Hidden from '@material-ui/core/Hidden';\n\nimport Avatar from '@material-ui/core/Avatar';\nimport PersonIcon from '@material-ui/icons/Person';\nimport SchoolIcon from '@material-ui/icons/School';\nimport AccessTimeIcon from '@material-ui/icons/AccessTime';\n\nimport { AppWrapper } from '../../Layout';\nimport TopiCard from '../../Components/TopiCard';\nimport Progress from '../../Components/Progress';\nimport Moment from '../../Components/Moment';\nimport { GithubIcon } from '../../Components/Icons';\nimport './user.styl';\n\nconst useStyles = makeStyles(theme => ({\n  cover: {\n    backgroundColor: theme.palette.type === 'light' ? 'rgba(83,156,98,.8)' : 'rgba(69,97,74,.8)',\n  },\n  progress: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    height: 3,\n  },\n  colorPrimary: {\n    backgroundColor: theme.palette.type === 'light' ? 'rgba(165,211,247,.8)' : 'rgba(165,211,247,.8)',\n  },\n  barColorPrimary: {\n    backgroundColor: theme.palette.type === 'light' ? '#2698f3' : '#2698f3',\n  },\n  spacings: {\n    marginTop: 30,\n    [theme.breakpoints.down('xs')]: {\n      marginTop: 0,\n    },\n  },\n  tips: {\n    marginTop: 40,\n  },\n  tab: {\n    fontSize: 16,\n  },\n  selected: {\n    color: '#2ac2f9',\n  },\n  indicator: {\n    backgroundColor: '#2ac2f9',\n  },\n}));\n\nconst labelIndex = ['topics', 'replies', 'collections'];\nconst initialState = {\n  topics: {\n    name: '最近创建',\n    data: [],\n    show: true,\n  },\n  replies: {\n    name: '最近回复',\n    data: [],\n    show: false,\n  },\n  collections: {\n    name: '话题收藏',\n    data: [],\n    show: false,\n  },\n};\n\nconst User = (props) => {\n  const { uname } = useParams();\n  const isCancel = React.useRef();\n  const bingImgRef = React.useRef();\n  const [bingImage, setBingImage] = React.useState({ complete: false });\n  const [index, setIndex] = React.useState(0);\n  const [status, setStatus] = React.useState('loading');\n  const [message, setMessage] = React.useState(null);\n  const [profile, setProfile] = React.useState({ uname });\n\n  const [state, dispatch] = React.useReducer((prevState, { type, data }) => {\n    switch (type) {\n      case 'SET_TOPICS':\n        return {\n          ...prevState,\n          topics: {\n            ...prevState.topics,\n            ...data,\n          },\n        };\n      case 'SET_REPLIES':\n        return {\n          ...prevState,\n          replies: {\n            ...prevState.replies,\n            ...data,\n          },\n        };\n      case 'SET_COLLECTIONS':\n        return {\n          ...prevState,\n          collections: {\n            ...prevState.collections,\n            ...data,\n          },\n        };\n      case 'RESTORE':\n        return {\n          ...initialState,\n        };\n      default:\n        throw new Error(`Unrecognized type ${type}`);\n    }\n  }, initialState);\n\n  const handleChange = (event, idx) => {\n    setIndex(idx);\n\n    const type = `SET_${labelIndex[idx].toUpperCase()}`;\n    dispatch({ type, data: { show: true } });\n  };\n\n  const handleChangeIndex = idx => {\n    handleChange(null, idx);\n  };\n\n  React.useEffect(() => {\n    if (!Boolean(bingImgRef.current)) {\n      return;\n    }\n\n    const setBingImageLoadComplete = () => {\n      setBingImage(prevState => ({...prevState, complete: true}));\n    };\n\n    if (!!bingImgRef.current.complete) {\n      setBingImageLoadComplete();\n    } else {\n      bingImgRef.current.addEventListener('load', setBingImageLoadComplete);\n    }\n\n    return () => {\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      bingImgRef.current.removeEventListener('load', setBingImageLoadComplete);\n    };\n  }, [bingImage.time]);\n\n\n  React.useEffect(() => {\n    isCancel.current = false;\n\n    setStatus('loading');\n    dispatch({ type: 'RESTORE' });\n    setIndex(0);\n\n    (async () => {\n      const params = {\n        url: `/user/${uname}`,\n        params: { mdrender: false },\n      };\n\n      const { success, data, err_msg } = await getData(params);\n\n      if (isCancel.current) {\n        return;\n      }\n\n      if (success) {\n        const { recent_topics, recent_replies, ...rest } = data;\n\n        setProfile({ ...rest });\n        dispatch({ type: 'SET_TOPICS', data: { data: recent_topics } });\n        dispatch({ type: 'SET_REPLIES', data: { data: recent_replies } });\n        setStatus('success');\n      } else {\n        setStatus('error');\n        setMessage(err_msg);\n      }\n    })();\n\n    (async () => {\n      const params = {\n        url: `/topic_collect/${uname}`,\n        params: { mdrender: false },\n      };\n\n      const { success, data } = await getData(params);\n\n      if (!isCancel.current && success) {\n        dispatch({ type: 'SET_COLLECTIONS', data: { data } });\n      }\n    })();\n\n    setBingImage(prevState => ({...prevState, complete: false}));\n\n    (async () => {\n      const data = await getBingImage();\n\n      if (!isCancel.current) {\n        setBingImage(prevState => ({ ...prevState, ...data }));\n      }\n    })();\n\n    return () => isCancel.current = true;\n  }, [uname]);\n\n  const { width } = props;\n  const classes = useStyles();\n  const swipeableViewsRef = React.useRef();\n\n  return (\n    <AppWrapper\n      title={uname}\n      bodyAttributes={{ class: 'user-view' }}\n    >\n      <div className={clsx('cover blur', classes.cover)}>\n        <div className={clsx('bing-image', {\n          'complete': bingImage.complete,\n        })}>\n          {bingImage.url &&\n            <img\n              ref={bingImgRef}\n              src={bingImage.url}\n              alt=\"background image\"\n              title={bingImage.copyright}\n              aria-hidden\n            />\n          }\n        </div>\n        <Fade in={!bingImage.complete}>\n          <LinearProgress\n            className={classes.progress}\n            classes={{\n              colorPrimary: classes.colorPrimary,\n              barColorPrimary: classes.barColorPrimary,\n            }}\n          />\n        </Fade>\n\n        {profile.loginname &&\n          <div className=\"user wrapper\">\n            <Avatar id=\"avatar\" aria-label=\"Recipe\">\n              <img src={profile.avatar_url} alt={profile.loginname} />\n            </Avatar>\n            <div className=\"items\">\n              <Hidden xsDown>\n                <div>\n                  <div className=\"item name\">\n                    <PersonIcon />\n                    {profile.loginname}\n                  </div>\n                  <div className=\"item create\">\n                    <AccessTimeIcon />\n                    <Moment format=\"YYYY-MM-DD HH:mm:ss\">\n                      {profile.create_at}\n                    </Moment>\n                  </div>\n                </div>\n                <div>\n                  {profile.githubUsername &&\n                    <div className=\"item github\">\n                      {GithubIcon}\n                      <a\n                        target=\"_blank\"\n                        href={`https://github.com/${profile.githubUsername}`}\n                      >\n                        {profile.githubUsername}\n                      </a>\n                    </div>\n                  }\n                  <div className=\"item score\">\n                    <SchoolIcon />\n                    {profile.score}\n                  </div>\n                </div>\n              </Hidden>\n              <Hidden smUp>\n                <div>\n                  {profile.githubUsername &&\n                    <div className=\"item github\">\n                      {GithubIcon}\n                      <a\n                        target=\"_blank\"\n                        href={`https://github.com/${profile.githubUsername}`}\n                      >\n                        {profile.githubUsername}\n                      </a>\n                    </div>\n                  }\n                </div>\n                <div>\n                  <div className=\"item create\">\n                    <AccessTimeIcon />\n                    <Moment format=\"YYYY-MM-DD HH:mm:ss\">\n                      {profile.create_at}\n                    </Moment>\n                  </div>\n                </div>\n              </Hidden>\n            </div>\n          </div>\n        }\n      </div>\n\n      <div className={clsx('tab-list', classes.spacings)}>\n        <div className=\"wrapper\">\n          <Tabs\n            classes={{\n              indicator: classes.indicator,\n            }}\n            value={index}\n            onChange={handleChange}\n            centered\n            {\n              ...!isWidthUp('md', width)\n              ? { variant: 'fullWidth' }\n              : {}\n            }\n          >\n            {Object.keys(state).map(key => (\n              <Tab\n                classes={{\n                  root: classes.tab,\n                  selected: classes.selected,\n                }}\n                label={state[key].name}\n                key={state[key].name}\n                disabled={status !== 'success'}\n              />\n            ))}\n          </Tabs>\n        </div>\n      </div>\n\n      <Fade in={Boolean(message)}>\n        <div className={clsx('tips error', {\n          [classes.tips]: Boolean(message),\n        })}>\n          {message}\n        </div>\n      </Fade>\n\n      <div className=\"recent wrapper\">\n        <SwipeableViews\n          index={index}\n          onChangeIndex={handleChangeIndex}\n          enableMouseEvents\n          animateHeight\n          slideStyle={{ overflow: 'hidden' }}\n          ref={swipeableViewsRef}\n        >\n          {Object.keys(state).map(key => (\n            <div className={`r-${key}`} key={key}>\n              <SwipeableViewsTab\n                data={state[key].data}\n                show={state[key].show}\n                ref={swipeableViewsRef}\n              />\n            </div>\n          ))}\n        </SwipeableViews>\n      </div>\n\n      <div className=\"status wrapper\">\n        <Progress className=\"mini\" status={status} />\n      </div>\n    </AppWrapper>\n  );\n};\n\nUser.propTypes = {\n  width: PropTypes.string.isRequired,\n};\n\nexport default withWidth()(User);\n\nconst SwipeableViewsTab = React.forwardRef((props, ref) => {\n  const { data, show } = props;\n  const timer = React.useRef();\n\n  React.useEffect(() => {\n    if (!show) {\n      return;\n    }\n\n    clearTimeout(timer.current);\n\n    timer.current = setTimeout(() => {\n      ref\n        .current\n        .getChildContext()\n        .swipeableViews\n        .slideUpdateHeight();\n    }, 0 * 1e3);\n\n    return () => clearTimeout(timer.current);\n  }, [ref, show, data]);\n\n  return (show && data.map(item => (\n    <TopiCard className=\"profile\" item={item} simple key={item.id} />\n  )));\n});\n\nSwipeableViewsTab.propTypes = {\n  data: PropTypes.array.isRequired,\n  show: PropTypes.bool.isRequired,\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => React.createElement(\"svg\", _extends({\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 1440 810\",\n  preserveAspectRatio: \"xMinYMin slice\",\n  \"aria-hidden\": \"true\"\n}, props), React.createElement(\"path\", {\n  id: \"cell-4\",\n  fill: \"#efefee\",\n  d: \"M592.66 0c-15 64.092-30.7 125.285-46.598 183.777C634.056 325.56 748.348 550.932 819.642 809.5h419.672C1184.518 593.727 1083.124 290.064 902.637 0H592.66z\"\n}), React.createElement(\"path\", {\n  id: \"cell-5\",\n  fill: \"#f6f6f6\",\n  d: \"M545.962 183.777c-53.796 196.576-111.592 361.156-163.49 490.74 11.7 44.494 22.8 89.49 33.1 134.883h404.07c-71.294-258.468-185.586-483.84-273.68-625.623z\"\n}), React.createElement(\"path\", {\n  id: \"cell-6\",\n  fill: \"#f7f7f7\",\n  d: \"M153.89 0c74.094 180.678 161.088 417.448 228.483 674.517C449.67 506.337 527.063 279.465 592.56 0H153.89z\"\n}), React.createElement(\"path\", {\n  id: \"cell-7\",\n  fill: \"#fbfbfc\",\n  d: \"M153.89 0H0v809.5h415.57C345.477 500.938 240.884 211.874 153.89 0z\"\n}), React.createElement(\"path\", {\n  id: \"cell-3\",\n  fill: \"#ebebec\",\n  d: \"M1144.22 501.538c52.596-134.583 101.492-290.964 134.09-463.343 1.2-6.1 2.3-12.298 3.4-18.497 0-.2.1-.4.1-.6 1.1-6.3 2.3-12.7 3.4-19.098H902.536c105.293 169.28 183.688 343.158 241.684 501.638v-.1z\"\n}), React.createElement(\"path\", {\n  id: \"cell-1\",\n  fill: \"#e1e1e1\",\n  d: \"M1285.31 0a2161.05 2161.05 0 01-6.9 38.195C1321.507 86.39 1379.603 158.98 1440 257.168V0h-154.69z\"\n}), React.createElement(\"path\", {\n  id: \"cell-2\",\n  fill: \"#e7e7e7\",\n  d: \"M1278.31 38.196c-32.5 171.678-81.09 327.36-133.49 461.642v3.8c41 112.286 71.59 216.573 94.29 305.962l200.59.4V256.768c-60.3-97.988-118.29-170.48-161.39-218.573v.001z\"\n})));","import React from 'react';\nimport clsx from 'clsx';\nimport { useHistory } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { validateUUID } from '../../common';\nimport { post } from '../../fetch';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Avatar from '@material-ui/core/Avatar';\nimport Collapse from '@material-ui/core/Collapse';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\n\nimport { AppWrapper } from '../../Layout';\nimport Notification from '../../Components/Notification';\nimport SigninSvg from '../../static/google_signin.svg';\nimport LogoSvg from '../../static/cnodejs/cnodejs.svg';\nimport './signin.styl';\n\nconst useStyles = makeStyles(theme => ({\n  svg: theme.palette.type === 'light' ? {} : {\n    '& #cell-1': { fill: '#0d0d0c' },\n    '& #cell-2': { fill: '#141413' },\n    '& #cell-3': { fill: '#181817' },\n    '& #cell-4': { fill: '#1c1d1c' },\n    '& #cell-5': { fill: '#222322' },\n    '& #cell-6': { fill: '#232423' },\n    '& #cell-7': { fill: '#272727' },\n  },\n  root: {\n    '&.success': {\n      '& label': {\n        color: '#508028',\n      },\n      '& .MuiInput-underline': {\n        '&:hover:before': {\n          borderBottomColor: theme.palette.type === 'light' ? 'rgba(128,189,1,.87)' : 'rgba(108,168,3,.87)',\n        },\n        '&:before': {\n          borderBottomColor: theme.palette.type === 'light' ? '#56b700' : '#519217',\n        },\n        '&:after': {\n          borderBottomColor: theme.palette.type === 'light' ? '#80bd01' : '#519217',\n        },\n      },\n    },\n    '&.error': {\n      '& label': {\n        color: theme.palette.type === 'light' ? '#f44336' : '#b92c22',\n      },\n      '& .MuiInput-underline': {\n        '&:after': {\n          borderBottomColor: theme.palette.type === 'light' ? '#f44336' : '#b92c22',\n        },\n      },\n    },\n    '&.focus': {\n      '& label': {\n        color: '#46483e',\n      },\n      '& .MuiInput-underline': {\n        '&:after': {\n          borderBottomColor: '#46483e',\n        },\n      },\n    },\n    '& .MuiInput-underline': {\n      '&:hover:before': {\n        borderBottomWidth: 1,\n        borderBottomColor: 'rgba(70,72,69,.8)',\n      },\n      '&:after': {\n        borderBottomColor: 'rgba(70,72,69,.8)',\n      },\n    },\n  },\n}));\n\nconst Signin = () => {\n  const classes = useStyles();\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const isCancel = React.useRef();\n  const { isAuthed, ...authRest } = useSelector(state => state.auth);\n\n  const [state, setState] = React.useState({\n    status: isAuthed ? 'success' : 'idle',\n    focus: isAuthed === false,\n    isUUID: isAuthed === true,\n    diff: isAuthed === false,\n    ...authRest,\n    isAuthed,\n  });\n\n  const handleChange = name => event => {\n    const value = event.target.value.trim();\n    const { accesstoken } = authRest;\n    const condition = value === accesstoken;\n\n    setState(prevState => ({\n      ...prevState,\n      status: condition ? 'success' : 'idle',\n      [name]: value,\n      isUUID: validateUUID(value),\n      diff: condition === false,\n    }));\n  };\n\n  const handleOnFocus = () => {\n    setState(prevState => ({ ...prevState, focus: true }));\n  };\n\n  const handleOnBlur = () => {\n    setState(prevState => ({ ...prevState, focus: false }));\n  };\n\n  const handleClick = () => {\n    if (history.length > 1) {\n      history.goBack();\n    } else {\n      history.push('/');\n    }\n  };\n\n  const validateUser = async () => {\n    const { accesstoken } = state;\n    const params = {\n      url: '/accesstoken',\n      params: { accesstoken },\n    };\n\n    const { success, data, err_msg } = await post(params);\n\n    if (isCancel.current) {\n      return;\n    }\n\n    if (success) {\n      const auth = {\n        isAuthed: true,\n        accesstoken,\n        avatar: data.avatar_url,\n        uname: data.loginname,\n        uid: data.id,\n      };\n\n      dispatch({ type: 'UPDATE_AUTH', data: auth });\n\n      setState(prevState => ({\n        ...prevState,\n        status: 'success',\n        diff: false,\n        ...auth,\n      }));\n    } else {\n      setState(prevState => ({ ...prevState, status: 'error' }));\n\n      if (err_msg) {\n        dispatch({\n          type: 'OPEN_NOTIFICATION',\n          data: {\n            message: err_msg,\n            status: 'error',\n          },\n        });\n      }\n    }\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    const { isUUID, diff } = state;\n\n    if (isUUID && diff) {\n      isCancel.current = false;\n\n      validateUser();\n    }\n  };\n\n  React.useEffect(() => {\n    return () => isCancel.current = true;\n  }, []);\n\n  return (\n    <AppWrapper\n      title=\"登录\"\n      withHeader={false}\n      htmlAttributes={{ id: 'signin' }}\n    >\n      <div className=\"container flex\">\n        <SigninSvg className={`${classes.svg} bg`} />\n\n        <div className=\"flex area top\" />\n        <div className=\"flex area mid\">\n          <div className=\"logo\">\n            <LogoSvg />\n          </div>\n\n          <Collapse in={state.isAuthed}>\n            {state.isAuthed &&\n              <div className={clsx('auth-user', {\n                'show': state.isAuthed,\n                'diff': state.diff,\n              })}>\n                <div className=\"avatar\">\n                  <Avatar className=\"item\" alt={state.uname} src={state.avatar} />\n                </div>\n                <Typography className=\"name\">\n                  <span className=\"item\">{state.uname}</span>\n                </Typography>\n              </div>\n            }\n          </Collapse>\n\n          <form\n            noValidate\n            autoComplete=\"off\"\n            onSubmit={handleSubmit}\n          >\n            <TextField\n              fullWidth\n              id=\"accesstoken\"\n              label=\"Access Token\"\n              margin=\"normal\"\n              spellCheck=\"false\"\n              autoFocus={!state.isAuthed}\n              error={state.status === 'error'}\n              className={clsx(classes.root, state.status, {\n                'focus': state.focus,\n              })}\n              onChange={handleChange('accesstoken')}\n              value={state.accesstoken || ''}\n              onFocus={handleOnFocus}\n              onBlur={handleOnBlur}\n            />\n            <div className=\"btn\">\n              <Button\n                variant=\"outlined\"\n                {\n                  ...\n                  state.diff\n                  ? {\n                    type: 'submit',\n                    disabled: !state.isUUID,\n                  } : {\n                    onClick: handleClick,\n                    autoFocus: state.isAuthed,\n                  }\n                }\n              >\n                {state.diff ? '授权' : '完成'}\n              </Button>\n            </div>\n          </form>\n        </div>\n        <div className=\"flex area bot\" />\n      </div>\n\n      <Notification />\n    </AppWrapper>\n  );\n};\n\nexport default Signin;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { post } from '../../fetch';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport ExpansionPanelActions from '@material-ui/core/ExpansionPanelActions';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport Divider from '@material-ui/core/Divider';\n\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport AtIcon from '@material-ui/icons/AlternateEmail';\nimport ReplyIcon from '@material-ui/icons/Reply';\nimport NewTabIcon from '@material-ui/icons/OpenInNew';\n\nimport Avatar from '../../Components/Avatar';\nimport Moment from '../../Components/Moment';\nimport { MarkdownRender } from '../../Components/Markdown';\n\nconst useStyles = makeStyles(theme => ({\n  unRead: {\n    boxShadow: '0 1px 2px 0 rgba(245,0,87,.16),0 1px 1px 0 rgba(245,0,87,.12),0 2px 1px -1px rgba(245,0,87,.1)',\n    '&:before': {\n      backgroundColor: 'rgba(245,0,87,.12)',\n    },\n  },\n  summary: {\n    '@media (max-width: 768px)': {\n      paddingLeft: 20,\n      paddingRight: 20,\n    },\n    '@media (max-width: 600px)': {\n      paddingLeft: 16,\n      paddingRight: 16,\n    },\n    '@media (max-width: 420px)': {\n      paddingLeft: 14,\n      paddingRight: 14,\n    },\n  },\n  content: {\n    maxWidth: '100%',\n    minWidth: 0,\n  },\n  moreUnRead: {\n    color: 'rgba(245,0,87,.7)',\n  },\n  avatar: {\n    marginRight: 10,\n  },\n  title: {\n    fontSize: 16,\n    lineHeight: '1.5em',\n  },\n  uname: {\n    display: 'block',\n    fontWeight: 700,\n  },\n  time: {\n    paddingLeft: 10,\n    '& time': {\n      marginLeft: 3,\n    },\n    '& div': {\n      display: 'flex',\n      alignItems: 'center',\n    },\n  },\n  sizeAt: {\n    fontSize: 18,\n    transform: 'translateY(-1px)',\n  },\n  sizeReply: {\n    fontSize: 20,\n    transform: 'translateY(-1.5px)',\n  },\n  gray: {\n    color: theme.palette.type === 'light' ? 'rgba(0,0,0,.5)' : 'rgba(130,130,130,.5)',\n  },\n  actions: {\n    paddingLeft: 14,\n    paddingRight: 14,\n    '@media (max-width: 600px)': {\n      paddingTop: 12,\n      paddingBottom: 12,\n    },\n    '@media (max-width: 420px)': {\n      paddingLeft: 12,\n      paddingRight: 12,\n    },\n  },\n  btn: {\n    padding: '6px 10px',\n  },\n  icon: {\n    marginLeft: 2,\n    fontSize: 14,\n  },\n}));\n\nconst MessageCard = (props) => {\n  const [state, setState] = React.useState({ ...props.item });\n  const { accesstoken } = useSelector(({ auth }) => auth);\n  const disptach = useDispatch();\n  const isCancel = React.useRef(false);\n\n  React.useEffect(() => {\n    return () => isCancel.current = true;\n  }, []);\n\n  const markMessage = async () => {\n    const params = {\n      url: `/message/mark_one/${state.id}`,\n      params: { accesstoken },\n    };\n\n    const { success } = await post(params);\n\n    if (!isCancel.current && success) {\n      disptach({ type: 'READ_MESSAGE' });\n      setState(prevState => ({ ...prevState, has_read: true }));\n    }\n  };\n\n  const handleChange = (event, expanded) => {\n    if (!state.has_read) {\n      markMessage();\n    }\n  };\n\n  const classes = useStyles();\n  const { hasRead } = props;\n\n  return (\n    <ExpansionPanel\n      className={clsx({\n        [classes.unRead]: !state.has_read && !hasRead,\n      })}\n      onChange={handleChange}\n    >\n      <ExpansionPanelSummary\n        classes={{\n          root: classes.summary,\n          content: classes.content,\n          expandIcon: clsx({\n            [classes.moreUnRead]: !state.has_read && !hasRead,\n          }),\n        }}\n        expandIcon={<ExpandMoreIcon />}\n      >\n        <Grid container wrap=\"nowrap\" alignItems=\"center\">\n          <Grid item className={classes.avatar}>\n            <Avatar\n              name={state.author.loginname}\n              image={state.author.avatar_url}\n            />\n          </Grid>\n          <Grid container item zeroMinWidth wrap=\"wrap\" alignItems=\"center\">\n            <Grid container item zeroMinWidth wrap=\"wrap\" alignItems=\"center\">\n              <Typography noWrap component=\"h4\" className={classes.title}>\n                {state.topic.title}\n              </Typography>\n            </Grid>\n            <Grid container item zeroMinWidth wrap=\"nowrap\" alignItems=\"center\">\n              <Grid item zeroMinWidth>\n                <Typography noWrap component=\"span\" className={clsx(classes.uname, classes.gray)}>\n                  {state.author.loginname}\n                </Typography>\n              </Grid>\n              <Grid item className={classes.time}>\n                <Typography noWrap component=\"div\" className={classes.gray}>\n                  {state.type === 'reply' ? (\n                    <ReplyIcon className={classes.sizeReply} />\n                  ) : (\n                    <AtIcon className={classes.sizeAt} />\n                  )}\n                  <Moment fromNow>{state.reply.create_at}</Moment>\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </ExpansionPanelSummary>\n      <ExpansionPanelDetails>\n        <MarkdownRender markdownString={state.reply.content} />\n      </ExpansionPanelDetails>\n      <Divider />\n      <ExpansionPanelActions className={classes.actions}>\n        <Button\n          component={Link}\n          className={classes.btn}\n          to={`/user/${state.author.loginname}`}\n          target=\"_blank\"\n          size=\"medium\"\n        >\n          浏览用户\n          <NewTabIcon className={classes.icon} />\n        </Button>\n        <Button\n          component={Link}\n          className={classes.btn}\n          to={`/topic/${state.topic.id}#${state.reply.id}`}\n          target=\"_blank\"\n          size=\"medium\"\n          color=\"primary\"\n        >\n          前往查看\n          <NewTabIcon className={classes.icon} />\n        </Button>\n      </ExpansionPanelActions>\n    </ExpansionPanel>\n  );\n};\n\nMessageCard.propTypes = {\n  item: PropTypes.object.isRequired,\n  hasRead: PropTypes.bool.isRequired,\n};\n\nexport default MessageCard;\n","import React from 'react';\nimport clsx from 'clsx';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport {\n  get as getData,\n  post,\n} from '../../fetch';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Fade from '@material-ui/core/Fade';\nimport Grid from '@material-ui/core/Grid';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport IconButton from '@material-ui/core/IconButton';\nimport MarkAllIcon from '@material-ui/icons/DoneAll';\n\nimport { AppWrapper } from '../../Layout';\nimport MessageCard from './MessageCard';\nimport Progress from '../../Components/Progress';\n\nconst useStyles = makeStyles(theme => ({\n  spacings: {\n    marginTop: 40,\n    marginBottom: 10,\n    padding: '0 7px',\n    '@media (max-width: 768px)': {\n      marginTop: 30,\n      marginBottom: 8,\n    },\n    '@media (max-width: 600px)': {\n      marginTop: 20,\n      marginBottom: 4,\n    },\n  },\n  text: {\n    position: 'relative',\n    flex: 1,\n    marginRight: 8,\n    fontSize: 14,\n    color: theme.palette.type === 'light' ? 'rgba(0,0,0,.6)' : 'rgba(190,190,190,.6)',\n    pointerEvents: 'none',\n    transition: 'opacity .15s cubic-bezier(.4,0,.2,1)',\n    '@media (max-width: 600px)': {\n      marginRight: 4,\n    },\n    '& span': {\n      position: 'absolute',\n      top: -9,\n      right: 0,\n      whiteSpace: 'nowrap',\n    },\n  },\n  opacity: {\n    opacity: .6,\n  },\n  error: {\n    color: theme.palette.secondary.main,\n  },\n}));\n\nconst Message = () => {\n  const [items, setItems] = React.useState([]);\n  const [state, setState] = React.useState({\n    status: 'loading',\n    err_msg: '发生错误',\n  });\n  const { isAuthed, accesstoken, message } = useSelector(s => ({\n    ...s.auth,\n    message: { ...s.message },\n  }));\n  const isCancel = React.useRef(false);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const classes = useStyles();\n\n  const markAllMessage = () => {\n    items.map(item => item.has_read = true);\n    setItems(items);\n  };\n\n  const handleMarkAllMessage = async () => {\n    isCancel.current = false;\n\n    const params = {\n      url: '/message/mark_all',\n      params: { accesstoken },\n    };\n\n    const { success } = await post(params);\n\n    if (!isCancel.current && success) {\n      markAllMessage();\n      dispatch({ type: 'READ_ALL_MESSAGE' });\n    }\n  };\n\n  React.useEffect(() => {\n    if (!Boolean(accesstoken)) {\n      return;\n    }\n\n    (async () => {\n      const params = {\n        url: '/messages',\n        params: {\n          accesstoken,\n          mdrender: false,\n        },\n      };\n\n      const {\n        success,\n        data: {\n          hasnot_read_messages: unRead = [],\n          has_read_messages: hasRead = [],\n        },\n        err_msg,\n      } = await getData(params);\n\n      if (isCancel.current) {\n        return;\n      }\n\n      if (success) {\n        dispatch({ type: 'UPDATE_MESSAGE', data: unRead.length });\n\n        setState({ status: 'success' });\n        setItems([ ...unRead, ...hasRead ]);\n      } else {\n        setState(prevState => ({\n          status: 'error',\n          err_msg: err_msg ? err_msg : prevState.err_msg,\n        }));\n      }\n    })();\n\n    return () => isCancel.current = true;\n  }, [accesstoken, dispatch]);\n\n  React.useEffect(() => {\n    if (!isAuthed) {\n      history.push('/');\n    }\n  }, [isAuthed, history]);\n\n  return (\n    <AppWrapper title=\"消息\">\n      <div className=\"wrapper\">\n        <Grid container alignItems=\"center\" justify=\"flex-end\" className={classes.spacings}>\n          <Grid item className={clsx(classes.text, {\n            [classes.opacity]: state.status !== 'success' || message.count === 0,\n            [classes.error]: state.status === 'error',\n          })}>\n            <Fade unmountOnExit in={state.status === 'loading'}>\n              <span>获取消息中……</span>\n            </Fade>\n            <Fade unmountOnExit in={state.status === 'error'}>\n              <span>{state.err_msg}</span>\n            </Fade>\n            <Fade unmountOnExit in={state.status === 'success' && !Boolean(items.length)}>\n              <span>没有消息哦</span>\n            </Fade>\n            <Fade unmountOnExit in={state.status === 'success' && Boolean(items.length) && !Boolean(message.count)}>\n              <span>已读全部消息</span>\n            </Fade>\n            <Fade unmountOnExit in={state.status === 'success' && Boolean(message.count)}>\n              <span>{message.count} 条未读消息</span>\n            </Fade>\n          </Grid>\n          <Tooltip\n            title=\"全部标为已读\"\n            enterDelay={500}\n            placement=\"left-start\"\n            disableTouchListener\n          >\n            <span>\n            <IconButton\n              onClick={handleMarkAllMessage}\n              disabled={state.status !== 'success' || message.count === 0}\n              disableRipple\n            >\n              <MarkAllIcon />\n            </IconButton>\n            </span>\n          </Tooltip>\n        </Grid>\n\n        {items.map(item => (\n          <MessageCard key={item.id} item={item} hasRead={item.has_read} />\n        ))}\n      </div>\n\n      <div className=\"status wrapper\">\n        <Progress status={state.status} />\n      </div>\n    </AppWrapper>\n  );\n};\n\nexport default Message;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport { useTheme, makeStyles } from '@material-ui/core/styles';\nimport withWidth, { isWidthDown } from '@material-ui/core/withWidth';\n\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport Button from '@material-ui/core/Button';\nimport Switch from '@material-ui/core/Switch';\nimport Paper from '@material-ui/core/Paper';\nimport Slider from '@material-ui/core/Slider';\n\nimport Brightness4Icon from '@material-ui/icons/Brightness4';\nimport Brightness7Icon from '@material-ui/icons/Brightness7';\n\nimport { AppWrapper } from '../../Layout';\nimport './settings.styl';\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    marginTop: 30,\n    marginBottom: 14,\n    paddingLeft: 1,\n    paddingRight: 1,\n    fontSize: 15,\n  },\n  mark: {\n    backgroundColor: 'transparent',\n  },\n}));\n\nconst Settings = (props) => {\n  const theme = useTheme();\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const {\n    auth: { isAuthed },\n    settings,\n  } = useSelector(state => state);\n\n  const handleToggleThemeMode = () => {\n    const themeMode = theme.palette.type === 'light' ? 'dark' : 'light';\n    dispatch({\n      type: 'UPDATE_SETTINGS',\n      data: { ...settings, themeMode },\n    });\n  };\n\n  const handleChangeAutoFollow = () => {\n    const autoFollow = !settings.autoFollow;\n    dispatch({\n      type: 'UPDATE_SETTINGS',\n      data: { ...settings, autoFollow },\n    });\n  };\n\n  const handleCardPreview = () => {\n    dispatch({\n      type: 'UPDATE_SETTINGS',\n      data: {\n        ...settings,\n        cardPreview: !settings.cardPreview,\n      },\n    });\n  };\n\n  const handleChangeTime = (event, value) => {\n    dispatch({\n      type: 'UPDATE_SETTINGS',\n      data: {\n        ...settings,\n        time: value * 60,\n      },\n    });\n  };\n\n  const handleRestoreSettings = () => {\n    dispatch({ type: 'RESTORE_SETTINGS' });\n  };\n\n  return (\n    <AppWrapper title=\"设置\">\n      <div id=\"settings\" className=\"wrapper\">\n        <Typography className={classes.title}>外观</Typography>\n        <Paper>\n          <div className=\"setting\">\n            <div className=\"setting-label\">主题模式</div>\n            <IconButton\n              color=\"inherit\"\n              onClick={handleToggleThemeMode}\n              disabled={settings.autoFollow}\n            >\n              {settings.themeMode === 'light' ? <Brightness4Icon /> : <Brightness7Icon />}\n            </IconButton>\n          </div>\n          <div className=\"setting\">\n            <div className=\"setting-label\">跟随系统</div>\n            <Switch\n              className=\"switch\"\n              checked={settings.autoFollow}\n              onChange={handleChangeAutoFollow}\n              color=\"primary\"\n            />\n          </div>\n        </Paper>\n\n        <Typography className={classes.title}>卡片</Typography>\n        <Paper>\n          <div className=\"setting\">\n            <div className=\"setting-label\">摘要预览</div>\n            <Switch\n              className=\"switch\"\n              checked={settings.cardPreview}\n              onChange={handleCardPreview}\n              color=\"primary\"\n            />\n          </div>\n        </Paper>\n\n        <Typography className={classes.title}>消息</Typography>\n        <Paper>\n          <div\n            className={clsx('setting', {\n              'nano': isWidthDown('xs', props.width),\n            })}\n          >\n            <div className=\"setting-label\">提醒间隔（分钟）</div>\n            <div className=\"setting-wrapper\">\n              <Slider\n                disabled={!isAuthed}\n                min={0}\n                max={10}\n                step={null}\n                value={settings.time / 60}\n                marks={[\n                  { value: 0, label: '关' },\n                  { value: 1, label: '1' },\n                  { value: 3, label: '3' },\n                  { value: 5, label: '5' },\n                  { value: 10, label: '10' },\n                ]}\n                onChange={handleChangeTime}\n                classes={{\n                  mark: classes.mark,\n                  markActive: classes.mark,\n                }}\n              />\n            </div>\n          </div>\n        </Paper>\n\n        <Typography className={classes.title}>重置</Typography>\n        <Paper>\n          <div className=\"setting\">\n            <div className=\"setting-label\">将所有设置还原为原始默认设置</div>\n            <Button\n              onClick={handleRestoreSettings}\n              variant=\"outlined\"\n            >\n              重置\n            </Button>\n          </div>\n        </Paper>\n      </div>\n    </AppWrapper>\n  );\n};\n\nSettings.propTypes = {\n  width: PropTypes.string.isRequired,\n};\n\nexport default withWidth()(Settings);\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => React.createElement(\"svg\", _extends({\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 512 512\"\n}, props), React.createElement(\"path\", {\n  d: \"M369.5 32H142.4C81.5 32 32 82.6 32 144.6v222.8c0 62 49.5 112.6 110.4 112.6h227.2c60.9 0 110.5-50.6 110.5-112.6V144.6C480 82.6 430.5 32 369.5 32zM175 251v.7c0 10.9-9.1 20.4-19.9 20.4h-23.3c-10.8 0-19.9-9.5-19.9-20.4V148.1c1-10.8 9.2-20.2 19.9-20.2h23.3c10.9 0 19.9 9.8 19.9 20.8V251zm122 147.4c0 11.4-8.9 17.6-20.1 17.6h-41.8c-11.2 0-20.1-8.1-20.1-19.6v-29.3c0-23.3 18.1-42.3 41-42.3s41 19 41 42.3v31.3zM400 251v.7c0 10.9-9.1 20.4-19.9 20.4h-24.3c-10.8 0-19.9-9.5-19.9-20.4V148.1c1-10.8 9.2-20.2 19.9-20.2h24.3c10.8 0 19.9 9.8 19.9 20.8V251z\"\n})));","import React from 'react';\nimport clsx from 'clsx';\nimport { useHistory } from 'react-router-dom';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\n\nimport { AppWrapper } from '../../Layout';\nimport MdOutletIcon from '../../static/ionicons_md_outlet.svg';\n\nconst useStyles = makeStyles(theme => ({\n  main: {\n    paddingTop: 120,\n    flexDirection: 'column',\n    [theme.breakpoints.down('sm')]: {\n      position: 'fixed',\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0,\n      padding: 0,\n      overflow: 'hidden',\n    },\n  },\n  center: {\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  wrapper: {\n    flexDirection: 'row',\n    marginBottom: 40,\n    [theme.breakpoints.down('sm')]: {\n      flexDirection: 'column',\n      marginBottom: 62,\n      marginTop: -32,\n    },\n  },\n  h1: {\n    marginRight: 45,\n    paddingRight: 45,\n    fontSize: 80,\n    borderRight: '3px solid #7b7b7b',\n    [theme.breakpoints.down('sm')]: {\n      marginRight: 0,\n      marginBottom: 32,\n      paddingRight: 0,\n      border: 'none',\n    },\n  },\n  p: {\n    fontSize: 20,\n    textAlign: 'left',\n    flexDirection: 'column',\n  },\n  icon: {\n    width: '1em',\n    height: '1em',\n    fontSize: 60,\n    fill: theme.palette.text.primary,\n  },\n  button: {\n    paddingTop: 10,\n    paddingBottom: 10,\n    [theme.breakpoints.down('sm')]: {\n      marginBottom: 32,\n    },\n  },\n}));\n\nconst NotFound = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const handleBackToHome = () => {\n    history.push('/');\n  };\n\n  return (\n    <AppWrapper title=\"404\" withHeader={false}>\n      <div className={clsx(\n        'flex',\n        classes.main,\n        classes.center,\n      )}>\n        <div className={clsx(\n          'flex',\n          classes.wrapper,\n          classes.center,\n        )}>\n          <h1 className={classes.h1}>404</h1>\n          <p className={clsx(\n            'flex',\n            classes.p,\n            classes.center,\n          )}>\n            <MdOutletIcon className={classes.icon} />\n            <span>Page not Found</span>\n          </p>\n        </div>\n        <Button\n          className={classes.button}\n          variant=\"outlined\"\n          onClick={handleBackToHome}\n        >\n          Back to Home\n        </Button>\n      </div>\n    </AppWrapper>\n  );\n};\n\nexport default NotFound;\n","import React from 'react';\nimport {\n  BrowserRouter,\n  Route,\n  Switch,\n  Redirect,\n} from 'react-router-dom';\n\nimport { Provider, useSelector } from 'react-redux';\nimport store from './store';\n\nimport ThemeProvider from './Components/Theme';\nimport ScrollToTop from './Components/ScrollToTop';\nimport Loadding from './Components/Loadding';\n\nimport { AppFrame } from './Layout';\nimport Home from './Views/Home';\nimport Topic from './Views/Topic';\nimport User from './Views/User';\nimport Signin from './Views/Signin';\nimport Message from './Views/Message';\nimport Settings from './Views/Settings';\nimport NotFound from './Views/404';\n\nlet Test = NotFound;\n\nif (process.env.NODE_ENV === 'development') {\n  Test = React.lazy(() => import('./Views/Test'));\n}\n\nconst PrivateRoute = ({ component: Component, ...rest }) => {\n  const { isAuthed } = useSelector(({ auth }) => auth);\n\n  return (\n    <Route\n      {...rest}\n      render={props => (\n        isAuthed ? (\n          <Component {...props} />\n        ) : (\n          <Redirect to=\"/\" />\n        )\n      )}\n    />\n  );\n};\n\nconst App = () => {\n  return (\n    <Provider store={store}>\n      <ThemeProvider>\n        <BrowserRouter basename={process.env.PUBLIC_URL}>\n          <AppFrame>\n            <ScrollToTop />\n            <React.Suspense fallback={<Loadding />}>\n              <Switch>\n                <Route exact path=\"/\" component={Home} />\n                <Route exact path=\"/topic/:topic_id\" component={Topic} />\n                <Route exact path=\"/user/:uname\" component={User} />\n                <Route exact path=\"/signin/\" component={Signin} />\n                <PrivateRoute exact path=\"/message/\" component={Message} />\n                <Route exact path=\"/settings/\" component={Settings} />\n                <Route exact path=\"/test/\" component={Test} />\n                <Route path=\"*\" component={NotFound} />\n              </Switch>\n            </React.Suspense>\n          </AppFrame>\n        </BrowserRouter>\n      </ThemeProvider>\n    </Provider>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}