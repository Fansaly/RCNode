{"version":3,"sources":["static/images/houses_beautiful_beach_photo_wallpaper.jpg","Views/Test/_@_single.md","Views/Test/_@_single_prev_space.md","Views/Test/_@_single_next_space.md","Views/Test/_@_mail.md","Views/Test/_url.md","theme.js","common/validateUUID.js","common/randomNumber.js","routers.js","common/navTabs.js","common/navIsActive.js","common/topicTypes.js","common/matchTab.js","common/removeHtmlTags.js","common/URI.js","store/reducers/auth.js","store/reducers/message.js","store/reducers/editor.js","store/reducers/share.js","store/reducers/zoom.js","store/reducers/notification.js","store/reducers/settings.js","store/reducers/colors.js","store/reducers/index.js","store/index.js","fetch/getBingImage.js","fetch/index.js","Layout/Notice/index.jsx","store/actions/index.js","Components/Icons/Github.jsx","Components/Icons/SignOut.jsx","Components/Icons/index.jsx","static/avatar.svg","Components/Me/index.jsx","Layout/Nav/NormalNav.jsx","Components/TopicTypeIcon/index.jsx","static/cnodejs/cnodejs.svg","Layout/Nav/DrawerNav.jsx","static/cnodejs/cnodejs_light.svg","Layout/Header/index.jsx","Layout/index.jsx","Components/Avatar/index.jsx","Components/Moment/index.jsx","Components/TopiCard/index.jsx","Components/TopicList/index.jsx","Components/Progress/index.jsx","Components/ActionDial/index.jsx","Components/Notification/index.jsx","Components/Markdown/MarkdownEditor.jsx","Components/Markdown/extensions.js","Components/Markdown/markdown-it.js","Components/Markdown/MarkdownRender.jsx","Components/Editor/EditorHeader.jsx","Components/Editor/Preview.jsx","Components/Editor/index.jsx","Views/Home/index.jsx","common/getNewData.js","Views/Topic/TopicReply.jsx","Components/ImageZoom/index.jsx","Components/ShareDialog/index.jsx","Views/Topic/index.jsx","Views/User/index.jsx","static/google_signin.svg","Views/Signin/index.jsx","Views/Message/MessageCard.jsx","Views/Message/index.jsx","Views/Settings/index.jsx","static/ionicons_md_outlet.svg","Views/404/index.jsx","Views/Test/index.jsx","App.jsx","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","theme","createMuiTheme","palette","primary","light","main","dark","contrastText","validateUUID","uuid","validate","randomNumber","_ref","_ref$min","min","_ref$max","max","Math","ceil","floor","random","routers","tab","all","path","name","isTopicType","good","share","ask","job","dev","topic","user","navTabsArray","navTabsObject","tabs","push","Object","objectSpread","defineProperty","navIsActive","location","arguments","length","undefined","pathname","search","concat","topicTypes","matchTab","match","removeHtmlTags","str","replace","formatArr","arr","Array","map","value","join","orgURIRexStr","_orgURIRexStr","key","keys","transformOrgURL","string","restr","regex","RegExp","$0","$1","$2","$3","$4","baseURL","window","protocol","host","process","defaultState","accesstoken","avatar","uname","uid","isAuthed","initialState","JSON","parse","localStorage","getItem","auth","state","type","data","other","objectWithoutProperties","setItem","stringify","removeItem","count","message","open","editor","action","url","post","zoom","status","notification","time","cardPreview","Boolean","settings","colors","rootReducer","combineReducers","store","createStore","applyMiddleware","apply","toConsumableArray","getBingImage","defaultData","copyright","image","Promise","resolve","reject","axios","get","then","err","console","warn","defaults","_ref$params","params","_ref2","success","_ref3","config","request","response","result","err_msg","error_msg","_ref4","_ref4$params","_ref5","_ref6","sleep","delay","setTimeout","messages","getMessages","_callee2","regenerator_default","a","wrap","_context2","prev","next","fetch","sent","json","t0","stop","Notice","mounted","handleMessage","lastSeen","seen","parseInt","getLastSeenNotice","unseenMessages","filter","id","_this","setState","handleClose","this","test","navigator","userAgent","_this$state","react_default","createElement","Snackbar","anchorOrigin","vertical","horizontal","ContentProps","aria-describedby","dangerouslySetInnerHTML","__html","text","Button","size","color","onClick","autoHideDuration","onClose","onExited","React","Component","updateMessage","openEditor","openShare","openNotification","Github","trim","GithubIcon","SvgIcon","viewBox","githubSvg","d","SignOutIcon","signOutSvgPath","_extends","assign","target","i","source","prototype","hasOwnProperty","call","static_avatar","styles","props","xmlns","fill","cx","cy","r","Me","classCallCheck","possibleConstructorReturn","getPrototypeOf","timerMessage","timerSignout","handleToggle","event","anchorEl","contains","fetchUnreadCount","asyncToGenerator","mark","_callee","_this$props","_context","abrupt","getData","handleInfo","_this$props2","history","handleSettings","handleSignin","handleSignout","clearTimeout","deleteAuth","cleanMessage","nextProps","_this2","nextTime","_this3","_this$props3","classes","Grid","item","className","container","alignContent","alignItems","justify","IconButton","buttonRef","node","aria-owns","aria-haspopup","classNames","has-message","Avatar","src","alt","Popper","transition","disablePortal","TransitionProps","placement","Grow","style","transformOrigin","Paper","ClickAwayListener","onClickAway","MenuList","MenuItem","ListItemIcon","Person_default","ListItemText","Badge","badgeContent","hidden","Notifications_default","SettingsRounded_default","ExitToApp_default","compose","withStyles","& span","visibility","withRouter","connect","dispatch","NormalNav","navTabs","react_router_dom","to","activeClassName","isActive","disableFocusRipple","TopicTypeIcon","top","typeIcon","HelpOutline_default","Notes_default","Publish_default","ThumbUp_default","Chat_default","Share_default","Work_default","Build_default","cnodejs","fillRule","clipRule","DrawerNav","handleClick","SwipeableDrawer","variant","onOpen","paper","drawerPaper","ModalProps","keepMounted","toolbar","logo","Divider","List","ListItem","button","component","selected","spacing","Components_TopicTypeIcon","_logo","width","backgroundColor","display","justifyContent","mixins","paddingLeft","breakpoints","up","height","marginBottom","marginRight","cnodejs_light","Header","isMobile","navHidden","drawerOpen","handleScrollToTop","currentTarget","animateScroll","scrollTo","duration","smooth","toggleNav","handleNavToggle","isWidthUp","_this$state2","Fragment","navPlaceholder","AppBar","position","Toolbar","Menu_default","Hidden","xsDown","Components_Me","smDown","implementation","Nav_NormalNav","mdUp","Nav_DrawerNav","@media (max-width: 768px)","withWidth","Layout","Layout_Notice","Layout_Header","children","CustomAvatar","aria-label","& a","& img","objectFit","fontSize","lineHeight","textIndent","Moment","globalLocale","TopiCard","substrContent","content","len","substr","handleExpandClick","expanded","simple","Card","Components_Avatar","author","loginname","avatar_url","Typography","title","CardActions","expand","expandOpen","aria-expanded","ExpandMore_default","zeroMinWidth","Create_default","fromNow","create_at","Comment_default","last_reply_at","reply_count","Visibility_default","visit_count","Collapse","in","timeout","unmountOnExit","CardContent","margin","transform","transitions","create","shortest","TopicList","items","index","Components_TopiCard","Progress","handleExited","CSSTransition","enter","exit","CircularProgress","svg","ActionDial","handleOpen","visible","handleUpdate","handleShare","shareURL","handleFavorite","favorite","topic_id","topicData","handleReply","reply_id","handleOpenEditor","_this$props$topicData","handleCreate","_window$location","origin","is_collect","_classNames","single","notificationOpen","signedUname","appbar","wrapper","Zoom","Fab","Edit_default","SpeedDial","ariaLabel","fabMoveUp","fabMoveDown","onMouseEnter","onMouseLeave","icon","SpeedDialIcon","openIcon","SpeedDialAction","ModeComment_default","tooltipTitle","Favorite_default","FavoriteBorder_default","bottom","boxShadow","right","enteringScreen","easing","easeOut","leavingScreen","sharp","variantIcon","CheckCircleIcon","warning","WarningIcon","error","ErrorIcon","info","InfoIcon","Notification","handlePreClose","closeNotification","Icon","Date","getTime","SnackbarContent","iconVariant","close","Close_default","opacity","MarkdownEditor","handleUpdateContent","onUpdateContent","disabled","autoFocus","TextField","flex","multiline","rows","fullWidth","placeholder","onChange","& *","minHeight","padding","& textarea","left","extensions","h","rb","py","sh","yml","golang","dockerfile","tex","bat","ps1","psm1","md","MarkdownIt","html","linkify","typographer","quotes","highlight","code","lang","toLocaleLowerCase","Prism","languages","includes","use","checkbox","emoji","sub","sup","footnote","atToHtml","_ref$prevSpaces","prevSpaces","_ref$nextSpaces","nextSpaces","href","renderer","rules","tokens","idx","options","env","self","link_open","attrPush","hrefIdx","attrIndex","hrefSrc","attrs","_tokens$i","level","renderToken","MarkdownRender","getAttribute","openZoom","from","querySelectorAll","img","addEventListener","markdownString","markupHTML","mdRender","render","ref","Editor","getPublishTab","handleChange","publishTab","handleCloseSelect","handleOpenSelect","selectOpen","handlePublishTab","onPublishTab","handleCloseMore","moreOpen","handleOpenMore","handlePreview","onPreview","handleFullScreen","onFullScreen","fullScreen","ArrowRight_default","MoreVert_default","Popover","anchorReference","anchorPosition","LocalLibrary_default","FullscreenExit_default","Fullscreen_default","Dialog","maxWidth","onEntering","handleEntering","DialogTitle","back","ArrowBack_default","DialogContent","RadioGroup","radioGroupRef","FormControlLabel","label","control","Radio","paddingRight","paddingTop","paddingBottom","& h6","marginLeft","Preview","isWidthDown","Markdown_MarkdownRender","_title","borderBottom","Transition","forwardRef","Slide","direction","handleOpenPreview","preview","handleClosePreview","_this$setState","check","checkTab","checkTitle","checkContent","isOK","handleSubmit","closeEditor","changed","_nextProps$location","nextPathname","nextSearch","_this$props$location","prevPathname","prevSearch","PaperProps","TransitionComponent","EditorHeader","rowsMax","Markdown_MarkdownEditor","DialogActions","actions","cancel","doit","Editor_Preview","& #editor .editor-header","minWidth","Home","page","limit","mdrender","fetchTopics","fetchData","handleScroll","windowHeight","innerHeight","document","body","offsetHeight","documentElement","scrollTop","removeEventListener","nextTab","newDataCreate","dtime","author_id","getNewDataCreate","src_Layout","Helmet","Components_TopicList","Components_Progress","Components_ActionDial","Components_Editor","Components_Notification","TopicReply","handleUp","isUped","ups","POST","_this$state3","URL","_props$item","_props$item$author","is_uped","_this$props2$location","hash","_this$state4","hilite","owned","Reply_default","ThumbUpAlt_default","ThumbUpAltOutlined_default","Sort_default","x","y","sX","sY","mX","mY","scale","scaleLevel","scaleLevels","spacings","dragSpacings","disabledUp","disabledDown","disabledReset","dragEnabled","dragActive","ready","ImageZoom","box","zoomTarget","closeZoom","resetState","getDragThreshold","initialWidth","initialHeight","wrapWidth","wrapHeight","maxHeight","currentWidth","currentHeight","tX","tY","getTransform","_this$getDragThreshol","updateTransform","_this$getTransform","resetTransform","updateDragStatus","getEventPosition","isTouch","touches","pageX","clientX","pageY","clientY","dragStart","preventDefault","_this$getEventPositio","_this$getEventPositio2","dragEnd","_this$getTransform2","bindEvents","eStart","eMove","eEnd","eCancel","setViewport","viewport","head","querySelector","resetViewport","initState","_this$zoomTarget","naturalWidth","naturalHeight","clientWidth","clientHeight","zoomInit","complete","zoomExit","handleZoom","_this$state5","maxScaleLevel","_this$state6","_this$state6$initialH","onEnter","BackdropProps","backdrop","onKeyUp","role","tabIndex","Fade","loading","drag-enabled","drag-active","btn","Remove_default","Search_default","Add_default","zIndex","userSelect","outline","borderRadius","overflow","marginTop","&.ready","transitionDuration","transitionDelay","cursor","&.drag-enabled","&.drag-active","flexWrap","ShareDialog","closeShare","handleCopy","copy","finish","getLabel","inputProps","readOnly","Topic","timer","scroller","offset","newDataReply","getNewDataReply","replies","newDataUpdate","getNewDataUpdate","bodyAttributes","class","error-tips","zero-spacings","LocalOffer_default","Topic_TopicReply","Components_ImageZoom","Components_ShareDialog","User","initialData","topicsTab","keyname","tabname","show","completed","handleChangeIndex","bingImageLoaded","handleBingImage","fetchBingImage","bingImage","fetchUserInfoTopics","_callee3","_context3","fetchCollectedTopics","_callee4","_context4","recent_collections","aria-hidden","LinearProgress","progress","colorPrimary","barColorPrimary","AccessTime_default","format","githubUsername","School_default","score","smUp","Tabs","centered","_ref8","Tab","tips","lib_default","onChangeIndex","enableMouseEvents","animateHeight","slideStyle","_ref9","User_SwipeableViewsTab","SwipeableViewsTab","context","swipeableViews","slideUpdateHeight","contextTypes","PropTypes","object","isRequired","down","google_signin","preserveAspectRatio","Signin","condition","handleOnFocus","focus","handleOnBlur","goBack","validateUser","updateAuth","diff","isUUID","htmlAttributes","noValidate","autoComplete","onSubmit","spellCheck","onFocus","onBlur","MessageCard","markMessage","readMessage","has_read","hasRead","reply","ExpansionPanel","unRead","ExpansionPanelSummary","root","summary","expandIcon","moreUnRead","noWrap","gray","sizeReply","AlternateEmail_default","sizeAt","ExpansionPanelDetails","ExpansionPanelActions","Link","OpenInNew_default","&:before","@media (max-width: 600px)","@media (max-width: 420px)","fontWeight","& time","& div","Message","handleMarkAllMessage","updateState","readAllMessage","fetchMessages","_ref4$data","_ref4$data$hasnot_rea","_ref4$data$has_read_m","hasnot_read_messages","has_read_messages","Tooltip","enterDelay","disableTouchListener","disableRipple","DoneAll_default","Message_MessageCard","pointerEvents","whiteSpace","secondary","Settings","handleCardPreview","updateSettings","handleChangeTime","_this$props$settings","Switch","checked","nano","Slider","step","marks","markActive","markLabel","markLabelActive","restoreSettings","ionicons_md_outlet","NotFound","handleBackToHome","center","h1","flexDirection","borderRight","border","textAlign","mdFile","f1_0","f1_1","f1_2","f2_0","f3_0","Test","fetchMD","forEach","file","res","_x","PrivateRoute","rest","getState","react_router","App","ThemeProvider","es","basename","exact","App_PrivateRoute","isLocalhost","hostname","registerValidSW","swUrl","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","log","onUpdate","onSuccess","catch","ReactDOM","src_App","getElementById","contentType","headers","indexOf","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.212f70ec.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/houses_beautiful_beach_photo_wallpaper.b764c878.jpg\";","module.exports = __webpack_public_path__ + \"static/media/_@_single.1faf9264.md\";","module.exports = __webpack_public_path__ + \"static/media/_@_single_prev_space.afc04e0c.md\";","module.exports = __webpack_public_path__ + \"static/media/_@_single_next_space.3a2baf4a.md\";","module.exports = __webpack_public_path__ + \"static/media/_@_mail.731d1dd0.md\";","module.exports = __webpack_public_path__ + \"static/media/_url.f311cd89.md\";","import { createMuiTheme } from '@material-ui/core/styles';\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      light: '#2092ec',\n      main: '#0082ea',\n      dark: '#0376d2',\n      contrastText: '#fff',\n    },\n  },\n});\n\nexport default theme;\n","import validate from 'uuid-validate';\n\n/**\n * repo. https://github.com/cnodejs/nodeclub\n * file: nodeclub/proxy/user.js\n * line: 106\n * uuid.v4()\n */\nconst uuidVersion = 4;\n\nexport default (uuid) => {\n  return validate(uuid, uuidVersion);\n};\n","export const randomNumber = ({ min = 0, max = 1 }) => {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n};\n","const routers = {\n  tab: {\n    all: {\n      path: '/',\n      name: '全部',\n      isTopicType: false,\n    },\n    good: {\n      path: '/?tab=good',\n      name: '精华',\n      isTopicType: false,\n    },\n    share: {\n      path: '/?tab=share',\n      name: '分享',\n      isTopicType: true,\n    },\n    ask: {\n      path: '/?tab=ask',\n      name: '问答',\n      isTopicType: true,\n    },\n    job: {\n      path: '/?tab=job',\n      name: '招聘',\n      isTopicType: true,\n    },\n    dev: {\n      path: '/?tab=dev',\n      name: '测试',\n      isTopicType: true,\n    },\n  },\n  topic: {\n    path: '/topic',\n    name: '主题',\n  },\n  user: {\n    path: '/user',\n    name: '用户',\n  },\n};\n\nexport default routers;\n","import routers from '../routers';\n\nlet navTabsArray = [];\nlet navTabsObject = {};\nconst tabs = routers.tab;\n\nfor (let tab in tabs) {\n  if (typeof tabs !== 'object') {\n    continue;\n  }\n\n  navTabsArray.push({\n    ...tabs[tab],\n    tab,\n  });\n\n  navTabsObject = {\n    ...navTabsObject,\n    [tab]: tabs[tab],\n  };\n}\n\nexport { navTabsArray, navTabsObject };\n","export const navIsActive = (path, location = {}) => {\n  const { pathname, search } = location;\n  return !!path && path === `${pathname}${search}`;\n};\n","import routers from '../routers';\n\nlet topicTypes = [];\nconst tabs = routers.tab;\n\nfor (let tab in tabs) {\n  if (tabs[tab].isTopicType) {\n    topicTypes.push(tab);\n  }\n}\n\nexport { topicTypes };\n","export default (location = { search: '' }) => {\n  const rex = /\\?tab=(\\w+)/;\n  const tab = location.search.match(rex);\n  const { pathname } = location;\n\n  return (\n    tab\n      ? tab[1]\n      : pathname === '/'\n        ? 'all'\n        : null\n  );\n};\n","export default (str) => {\n  return str.replace(/<[^>]+>/g, '');\n};\n","import routers from '../routers';\n\nconst cnodeURL = 'cnodejs.org';\n\nconst formatArr = arr => {\n  if (arr instanceof Array) {\n    return arr.map(value => {\n      return `(${value})`;\n    }).join('|');\n  }\n};\n\nconst orgURIRexStr = (() => {\n  let _orgURIRexStr = [ '/?' ];\n\n  for (let key in routers) {\n    if (key === 'tab') {\n      _orgURIRexStr.push(`/\\\\?tab=(${formatArr(Object.keys(routers[key]))})`);\n    } else {\n      _orgURIRexStr.push(`/${key}/\\\\w+`);\n    }\n  }\n\n  return formatArr(_orgURIRexStr);\n})();\n\nconst transformOrgURL = string => {\n  const restr = `^(http(s)?://)?(www.)?${cnodeURL}(${orgURIRexStr})$`;\n  const regex = new RegExp(restr, 'i');\n\n  return string.replace(regex, ($0, $1, $2, $3, $4) => {\n    let baseURL = cnodeURL;\n\n    if (typeof window !== 'undefined') {\n      $1 = $1 && `${window.location.protocol}//`;\n      baseURL = window.location.host;\n    }\n\n    $1 = $1 || '';\n\n    return `${$1}${baseURL}${process.env.PUBLIC_URL}${$4}`;\n  });\n};\n\nexport { transformOrgURL };\nexport default orgURIRexStr;\n","import { validateUUID } from '../../common';\n\nconst defaultState = {\n  accesstoken: undefined,\n  avatar: undefined,\n  uname: undefined,\n  uid: undefined,\n  isAuthed: false,\n};\n\nlet initialState = JSON.parse(localStorage.getItem('AUTH'));\n\nif (initialState !== null && validateUUID(initialState.accesstoken)) {\n  initialState = {\n    ...initialState,\n    isAuthed: true,\n  };\n} else {\n  initialState = defaultState;\n}\n\nconst auth = (state = initialState, { type, data }) => {\n  switch (type) {\n    case 'UPDATE_AUTH':\n      const { isAuthed, ...other } = data;\n      localStorage.setItem('AUTH', JSON.stringify({\n        ...other,\n      }));\n      return { ...data };\n    case 'DELETE_AUTH':\n      localStorage.removeItem('AUTH');\n      return defaultState;\n    default:\n      return state;\n  }\n};\n\nexport default auth;\n","const initialState = {\n  count: 0,\n};\n\nconst message = (state = initialState, { type, data }) => {\n  switch (type) {\n    case 'READ_MESSAGE':\n      let { count } = state;\n      count = Math.max(--count, 0);\n      return { count };\n    case 'READ_ALL_MESSAGE':\n      return initialState;\n    case 'UPDATE_MESSAGE':\n      return { count: data };\n    case 'CLEAN_MESSAGE':\n      return initialState;\n    default:\n      return state;\n  }\n};\n\nexport default message;\n","const initialState = {\n  open: false,\n};\n\nconst editor = (state = initialState, { type, data }) => {\n  switch (type) {\n    case 'OPEN_EDITOR':\n      const { action, ...other } = data;\n      return {\n        open: true,\n        action: action || 'create',\n        ...other,\n      };\n    case 'CLOSE_EDITOR':\n      return {\n        ...data,\n        open: false,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default editor;\n","const initialState = {\n  url: '',\n  open: false,\n};\n\nconst share = (state = initialState, { type, data }) => {\n  switch (type) {\n    case 'OPEN_SHARE':\n      if (typeof data === 'string') {\n        data = {\n          url: data,\n          post: null,\n        };\n      }\n      return {\n        ...data,\n        open: true,\n      };\n    case 'CLOSE_SHARE':\n      return {\n        ...state,\n        open: false,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default share;\n","const initialState = {\n  open: false,\n};\n\nconst zoom = (state = initialState, { type, data }) => {\n  switch (type) {\n    case 'OPEN_ZOOM':\n      return {\n        ...data,\n        open: true,\n      };\n    case 'CLOSE_ZOOM':\n      return {\n        ...state,\n        open: false,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default zoom;\n","const initialState = {\n  message: '',\n  status: 'success',\n  open: false,\n};\n\nconst notification = (state = initialState, { type, data }) => {\n  switch (type) {\n    case 'OPEN_NOTIFICATION':\n      if (typeof data === 'string') {\n        data = {\n          message: data,\n          status: 'success',\n        };\n      }\n      return {\n        ...data,\n        open: true,\n      };\n    case 'CLOSE_NOTIFICATION':\n      return {\n        ...state,\n        open: false,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default notification;\n","const defaultState = {\n  time: 0,\n  cardPreview: false,\n};\n\nlet initialState = JSON.parse(localStorage.getItem('SETTINGS'));\ninitialState = Boolean(initialState) ? initialState : defaultState;\n\nconst settings = (state = initialState, { type, data }) => {\n  switch (type) {\n    case 'UPDATE_SETTINGS':\n      localStorage.setItem('SETTINGS', JSON.stringify({\n        ...data,\n      }));\n      return { ...data };\n    case 'RESTORE_SETTINGS':\n      localStorage.setItem('SETTINGS', JSON.stringify({\n        ...defaultState,\n      }));\n      return defaultState;\n    default:\n      return state;\n  }\n};\n\nexport default settings;\n","const initialState = JSON.parse(localStorage.getItem('THEME'));\n\nconst colors = (state = initialState, action) => {\n  switch (action.type) {\n    case 'UPDATE_COLORS':\n      return {\n        ...action.data,\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default colors;\n","import { combineReducers } from 'redux';\nimport auth from './auth';\nimport message from './message';\nimport editor from './editor';\nimport share from './share';\nimport zoom from './zoom';\nimport notification from './notification';\nimport settings from './settings';\nimport colors from './colors';\n\nconst rootReducer = combineReducers({\n  auth,\n  message,\n  editor,\n  share,\n  zoom,\n  notification,\n  settings,\n  colors,\n});\n\nexport default rootReducer;\n","import { applyMiddleware, createStore } from 'redux';\nimport rootReducer from './reducers';\n\nlet middlewares = [];\n\nif (process.env.NODE_ENV === 'development') {\n  const { createLogger } = require('redux-logger');\n\n  middlewares = [ ...middlewares, createLogger() ];\n}\n\nconst store = createStore(\n  rootReducer,\n  applyMiddleware(...middlewares),\n);\n\nexport default store;\n","import axios from 'axios';\nimport image from '../static/images/houses_beautiful_beach_photo_wallpaper.jpg';\n\n/**\n * fetch Bing Image\n * @param {string} url proxy address\n */\nconst getBingImage = url => {\n  url = url ||\n        process.env.NODE_ENV === 'production'\n          ? 'https://bing.fansaly.com'\n          : 'http://localhost:3003';\n\n  const defaultData = {\n    copyright: '默认背景',\n    url: image,\n  };\n\n  return new Promise((resolve, reject) => {\n    axios\n      .get(url)\n      .then(({ data }) => {\n        resolve(data);\n      }, (err) => {\n        // eslint-disable-next-line\n        console.warn('Get Bing\\'s image failed.');\n\n        resolve(defaultData);\n      });\n  });\n};\n\nexport { getBingImage };\n","import axios from 'axios';\nimport { getBingImage } from './getBingImage';\n\naxios.defaults.baseURL = 'https://cnodejs.org/api/v1';\n\n/**\n * @param {string} url\n * @param {object} params\n */\nconst get = ({ url, params = {} }) => {\n  return new Promise((resolve, reject) => {\n    axios\n      .get(url, { params })\n      .then(({ data }) => {\n        resolve({\n          success: true,\n          ...data,\n        });\n      }, ({ config, request, response }) => {\n        const { status, data } = response;\n        const result = {\n          success: false,\n          err_msg: status === 404\n                   ? data.error_msg\n                   : process.env.NODE_ENV === 'development'\n                     ? `${status}. URL ${url}`\n                     : '',\n        };\n        resolve(result);\n      });\n  });\n};\n\n/**\n * @param {string} url\n * @param {object} params\n */\nconst post = ({ url, params = {} }) => {\n  return new Promise((resolve, reject) => {\n    axios\n      .post(url, { ...params })\n      .then(({ data }) => {\n        resolve({\n          success: true,\n          data,\n        });\n      }, ({ config, request, response }) => {\n        const { status, data } = response;\n        const result = {\n          success: false,\n          err_msg: status === 401 || status === 403\n                   ? data.error_msg\n                   : process.env.NODE_ENV === 'development'\n                     ? `${status}. URL ${url}`\n                     : '',\n        };\n        resolve(result);\n      });\n  });\n};\n\nexport {\n  get,\n  post,\n  getBingImage,\n};\n","import React from 'react';\n\nimport Button from '@material-ui/core/Button';\nimport Snackbar from '@material-ui/core/Snackbar';\n\nfunction sleep(delay = 0) {\n  return new Promise(resolve => {\n    setTimeout(resolve, delay);\n  });\n}\n\nfunction getLastSeenNotice() {\n  const seen = localStorage.getItem('lastSeenNotice');\n  return !Boolean(seen) ? 0 : parseInt(seen, 10);\n}\n\nlet messages = null;\n\nasync function getMessages() {\n  try {\n    if (!messages) {\n      await sleep(1500); // Soften the pressure on the main thread.\n      const result = await fetch(\n        'https://raw.githubusercontent.com/Fansaly/RCNode/master/messages.json',\n      );\n      messages = await result.json();\n    }\n  } catch (err) {\n    // Swallow the exceptions.\n  }\n\n  messages = messages || [];\n}\n\nclass Notice extends React.Component {\n  mounted = false;\n\n  state = {\n    open: false,\n    message: {},\n  };\n\n  async componentDidMount() {\n    this.mounted = true;\n\n    // Prevent search engines from indexing the notification.\n    if (/glebot/.test(navigator.userAgent)) {\n      return;\n    }\n\n    await getMessages();\n    this.handleMessage();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleMessage = () => {\n    const lastSeen = getLastSeenNotice();\n    const unseenMessages = messages.filter(message => {\n      if (message.id <= lastSeen) {\n        return false;\n      }\n\n      return true;\n    });\n\n    if (unseenMessages.length > 0 && this.mounted) {\n      this.setState({ message: unseenMessages[0], open: true });\n    }\n  };\n\n  handleClose = () => {\n    this.setState({ open: false });\n    localStorage.setItem('lastSeenNotice', this.state.message.id);\n  };\n\n  render() {\n    const { message, open } = this.state;\n\n    return (\n      <Snackbar\n        key={message.id}\n        anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n        ContentProps={{ 'aria-describedby': 'notification-message' }}\n        message={\n          // eslint-disable-next-line\n          <span id=\"notification-message\" dangerouslySetInnerHTML={{ __html: message.text }} />\n        }\n        action={\n          <Button size=\"small\" color=\"secondary\" onClick={this.handleClose}>\n            关闭\n          </Button>\n        }\n        open={open}\n        autoHideDuration={20e3}\n        onClose={this.handleClose}\n        onExited={this.handleMessage}\n      />\n    );\n  }\n}\n\nexport default Notice;\n","/*\n * auth\n * ------------\n * UPDATE_AUTH\n * DELETE_AUTH\n */\nexport const updateAuth = data => ({\n  type: 'UPDATE_AUTH',\n  data,\n});\n\nexport const deleteAuth = () => ({\n  type: 'DELETE_AUTH',\n});\n\n\n/*\n * message\n * ------------\n * READ_MESSAGE\n * READ_ALL_MESSAGE\n * UPDATE_MESSAGE\n * CLEAN_MESSAGE\n */\nexport const readMessage = () => ({\n  type: 'READ_MESSAGE',\n});\n\nexport const readAllMessage = () => ({\n  type: 'READ_ALL_MESSAGE',\n});\n\nexport const updateMessage = data => ({\n  type: 'UPDATE_MESSAGE',\n  data,\n});\n\nexport const cleanMessage = () => ({\n  type: 'CLEAN_MESSAGE',\n});\n\n\n/*\n * message\n * ------------\n * OPEN_EDITOR\n * CLOSE_EDITOR\n */\nexport const openEditor = data => ({\n  type: 'OPEN_EDITOR',\n  data,\n});\n\nexport const closeEditor = data => ({\n  type: 'CLOSE_EDITOR',\n  data,\n});\n\n\n/*\n * share\n * -----------\n * OPEN_SHARE\n * CLOSE_SHARE\n */\nexport const openShare = data => ({\n  type: 'OPEN_SHARE',\n  data,\n});\n\nexport const closeShare = () => ({\n  type: 'CLOSE_SHARE',\n});\n\n\n/*\n * zoom\n * ----------\n * OPEN_ZOOM\n * CLOSE_ZOOM\n */\nexport const openZoom = data => ({\n  type: 'OPEN_ZOOM',\n  data,\n});\n\nexport const closeZoom = () => ({\n  type: 'CLOSE_ZOOM',\n});\n\n\n/*\n * notification\n * ------------------\n * OPEN_NOTIFICATION\n * CLOSE_NOTIFICATION\n */\nexport const openNotification = data => ({\n  type: 'OPEN_NOTIFICATION',\n  data,\n});\n\nexport const closeNotification = () => ({\n  type: 'CLOSE_NOTIFICATION',\n});\n\n\n/*\n * settings\n * ----------------\n * UPDATE_SETTINGS\n * RESTORE_SETTINGS\n */\nexport const updateSettings = data => ({\n  type: 'UPDATE_SETTINGS',\n  data,\n});\n\nexport const restoreSettings = data => ({\n  type: 'RESTORE_SETTINGS',\n  data,\n});\n","export default {\n  viewBox: '-2 -2 20 20', // 0 0 16 16\n  path: 'M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z',\n};\n"," const path = `\n  M 19 3\n  c 1.1 0 2 0.9 2 2\n  v 4\n  h -2\n  V 5\n  H 5\n  v 14\n  h 14\n  v -4\n  h 2\n  v 4\n  c 0 1.11 -0.9 2 -2 2\n  H 5\n  c -1.11 0 -2 -0.9 -2 -2\n  V 5\n  c 0 -1.1 0.89 -2 2 -2\n  Z\n\n  M 13.09 15.59\n  L 14.5 17\n  l 5 -5\n  l -5 -5\n  l -1.41 1.41\n  L 15.67 11\n  h -9.67\n  v 2\n  h 9.67\n  l -2.58 2.59\n  Z\n`.replace(/\\s{2,}/g, ' ').trim();\n\nexport default path;\n","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\nimport githubSvg from './Github';\nimport signOutSvgPath from './SignOut';\n\nconst GithubIcon = (\n  <SvgIcon viewBox={githubSvg.viewBox}>\n    <path d={githubSvg.path} />\n  </SvgIcon>\n);\n\nconst SignOutIcon = (\n  <SvgIcon>\n    <path d={signOutSvgPath} />\n  </SvgIcon>\n);\n\nexport { GithubIcon, SignOutIcon };\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => React.createElement(\"svg\", _extends({\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\"\n}, props), React.createElement(\"path\", {\n  fill: \"#4AC6C6\",\n  d: \"M12 24C5.4 24 0 18.6 0 12S5.4 0 12 0s12 5.4 12 12-5.4 12-12 12z\"\n}), React.createElement(\"path\", {\n  fill: \"#FFF\",\n  d: \"M11.9 4.5c-4.1.1-7.3 3.6-7.3 7.7v5.5c0 1 1.1 1.6 1.9 1.1.5-.3.9-.6 1.8-.6 1.9 0 1.9 1.3 3.7 1.3s1.9-1.3 3.7-1.3c.9 0 1.3.3 1.8.6.8.5 1.9-.1 1.9-1.1V12c.1-4.2-3.3-7.6-7.5-7.5z\"\n}), React.createElement(\"circle\", {\n  fill: \"#2A5083\",\n  cx: \"9.5\",\n  cy: \"10.1\",\n  r: \".6\"\n}), React.createElement(\"circle\", {\n  fill: \"#2A5083\",\n  cx: \"14.5\",\n  cy: \"10.1\",\n  r: \".6\"\n}), React.createElement(\"path\", {\n  fill: \"#2A5083\",\n  d: \"M12 15.3c1.2 0 2.3-.8 2.6-1.9.1-.5-.2-.9-.7-.9H10c-.5 0-.8.5-.7.9.4 1.1 1.5 1.9 2.7 1.9z\"\n}), React.createElement(\"path\", {\n  fill: \"#FF4E4A\",\n  d: \"M12 13.9c-.7 0-1.2.4-1.6.9.4.3 1 .5 1.6.5.6 0 1.1-.2 1.5-.5-.3-.5-.8-.9-1.5-.9z\"\n}), React.createElement(\"path\", {\n  fill: \"#DBF4F4\",\n  d: \"M6.5 18.8c.4-.3.8-.6 1.7-.6v-.6c0-2.5-1.5-4.6-3.6-5.5v5.7c-.1.9 1 1.5 1.9 1zM16.3 18.3c.6.1.9.3 1.3.6.8.5 1.9-.1 1.9-1.1v-3.5c-1.6.9-2.7 2.3-3.2 4z\"\n})));","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport {\n  deleteAuth,\n  updateMessage,\n  cleanMessage,\n} from '../../store/actions';\nimport { get as getData } from '../../fetch';\n\nimport { withStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Badge from '@material-ui/core/Badge';\nimport Avatar from '@material-ui/core/Avatar';\nimport IconButton from '@material-ui/core/IconButton';\n\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport Grow from '@material-ui/core/Grow';\nimport Paper from '@material-ui/core/Paper';\nimport Popper from '@material-ui/core/Popper';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport MenuList from '@material-ui/core/MenuList';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nimport PersonIcon from '@material-ui/icons/Person';\nimport NotificationsIcon from '@material-ui/icons/Notifications';\nimport SettingsIcon from '@material-ui/icons/SettingsRounded';\nimport SignInIcon from '@material-ui/icons/ExitToApp';\nimport { SignOutIcon } from '../../Components/Icons';\n\nimport AvatarSvg from '../../static/avatar.svg';\nimport './me.styl';\n\nconst styles = theme => ({\n  hidden: {\n    '& span': {\n      visibility: 'hidden',\n    },\n  },\n});\n\nclass Me extends React.Component {\n  constructor(props) {\n    super(props);\n\n    const { time } = this.props;\n\n    this.state = {\n      open: false,\n      time,\n    };\n  }\n\n  timerMessage = null;\n  timerSignout = null;\n\n  handleToggle = () => {\n    this.setState(state => ({\n      open: !state.open,\n    }));\n  };\n\n  handleClose = event => {\n    if (this.anchorEl.contains(event.target)) {\n      return;\n    }\n\n    this.setState({ open: false });\n  };\n\n  fetchUnreadCount = async () => {\n    const { isAuthed, accesstoken } = this.props;\n    const { time } = this.state;\n\n    if (!isAuthed) { return; }\n\n    const params = {\n      url: '/message/count',\n      params: { accesstoken },\n    };\n\n    const { success, data: count } = await getData(params);\n\n    success && this.props.updateMessage(count);\n\n    if (time > 0) {\n      this.timerMessage = setTimeout(() => {\n        this.fetchUnreadCount();\n      }, time * 1e3);\n    }\n  };\n\n  handleInfo = event => {\n    const { history, uname } = this.props;\n\n    this.handleClose(event);\n\n    history.push(`/user/${uname}`);\n  };\n\n  handleMessage = event => {\n    const messagePath = '/message';\n    const { history } = this.props;\n    const { pathname } = history.location;\n\n    this.handleClose(event);\n\n    if (pathname === messagePath) {\n      history.replace(messagePath);\n    } else {\n      history.push(messagePath);\n    }\n  };\n\n  handleSettings = event => {\n    const { history } = this.props;\n\n    this.handleClose(event);\n\n    history.push('/settings');\n  };\n\n  handleSignin = event => {\n    const { history } = this.props;\n\n    this.handleClose(event);\n\n    history.push('/signin');\n  };\n\n  handleSignout = event => {\n    this.handleClose(event);\n\n    clearTimeout(this.timerSignout);\n\n    this.timerSignout = setTimeout(() => {\n      this.props.deleteAuth();\n      this.props.cleanMessage();\n    }, 330);\n  };\n\n  componentDidMount() {\n    this.fetchUnreadCount();\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const nextTime = nextProps.time;\n    const prevTime = this.state.time;\n\n    if (nextTime !== prevTime) {\n      clearTimeout(this.timerMessage);\n\n      if (nextTime > 0) {\n        this.setState({\n          time: nextTime,\n        }, () => {\n          this.fetchUnreadCount();\n        });\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    clearTimeout(this.timerMessage);\n    clearTimeout(this.timerSignout);\n  }\n\n  render() {\n    const {\n      classes,\n      isAuthed,\n      message,\n      avatar,\n    } = this.props;\n    const { open } = this.state;\n\n    return (\n      <Grid item className=\"flex\">\n        <Grid\n          container\n          alignContent=\"center\"\n          alignItems=\"center\"\n          justify=\"center\"\n          className={isAuthed ? 'info' : 'signin'}\n        >\n          <IconButton\n            buttonRef={node => {\n              this.anchorEl = node;\n            }}\n            aria-owns={open ? 'menu-list-grow' : null}\n            aria-haspopup=\"true\"\n            onClick={this.handleToggle}\n            className={classNames('me', {\n              'has-message': Boolean(message.count),\n            })}\n          >\n            <Avatar className=\"flex avatar\">\n              {isAuthed ? (\n                <img src={avatar} alt=\"U\" />\n              ) : (\n                <AvatarSvg />\n              )}\n            </Avatar>\n          </IconButton>\n          <Popper open={open} anchorEl={this.anchorEl} transition disablePortal>\n            {({ TransitionProps, placement }) => (\n              <Grow\n                {...TransitionProps}\n                id=\"menu-list-grow\"\n                style={{ transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom' }}\n              >\n                <Paper>\n                  <ClickAwayListener onClickAway={this.handleClose}>\n                    <MenuList>\n                      {isAuthed &&\n                        <MenuItem onClick={this.handleInfo}>\n                          <ListItemIcon>\n                            <PersonIcon />\n                          </ListItemIcon>\n                          <ListItemText primary=\"资料\" />\n                        </MenuItem>\n                      }\n                      {isAuthed &&\n                        <MenuItem onClick={this.handleMessage}>\n                          <ListItemIcon>\n                            <Badge\n                              badgeContent={message.count}\n                              className={classNames('badge', {\n                                [classes.hidden]: message.count <= 0,\n                              })}\n                            >\n                              <NotificationsIcon />\n                            </Badge>\n                          </ListItemIcon>\n                          <ListItemText primary=\"消息\" />\n                        </MenuItem>\n                      }\n                      <MenuItem onClick={this.handleSettings}>\n                        <ListItemIcon>\n                          <SettingsIcon />\n                        </ListItemIcon>\n                        <ListItemText primary=\"设置\" />\n                      </MenuItem>\n                      {isAuthed ? (\n                        <MenuItem onClick={this.handleSignout}>\n                          <ListItemIcon>\n                            {SignOutIcon}\n                          </ListItemIcon>\n                          <ListItemText primary=\"退出\" />\n                        </MenuItem>\n                      ) : (\n                        <MenuItem onClick={this.handleSignin}>\n                          <ListItemIcon>\n                            <SignInIcon />\n                          </ListItemIcon>\n                          <ListItemText primary=\"登录\" />\n                        </MenuItem>\n                      )}\n                    </MenuList>\n                  </ClickAwayListener>\n                </Paper>\n              </Grow>\n            )}\n          </Popper>\n        </Grid>\n      </Grid>\n    );\n  }\n}\n\nMe.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = ({ auth, message, settings }) => ({\n  ...auth,\n  message,\n  time: settings.time,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  deleteAuth: () => {\n    dispatch(deleteAuth());\n  },\n  updateMessage: count => {\n    dispatch(updateMessage(count));\n  },\n  cleanMessage: () => {\n    dispatch(cleanMessage());\n  },\n});\n\nexport default compose(\n  withStyles(styles),\n  withRouter,\n  connect(\n    mapStateToProps,\n    mapDispatchToProps,\n  ),\n)(Me);\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport {\n  navTabsArray as navTabs,\n  navIsActive,\n} from '../../common';\n\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\n\nimport './normal-nav.styl';\n\nclass NormalNav extends React.Component {\n  navIsActive = path => (match, location) => {\n    return navIsActive(path, location);\n  };\n\n  render() {\n    return (\n      <Grid\n        container\n        justify=\"center\"\n        alignItems=\"center\"\n        className=\"type-content\"\n      >\n        {navTabs.map(({ path, name }) => (\n          <NavLink\n            to={path}\n            key={path}\n            activeClassName=\"current\"\n            isActive={this.navIsActive(path)}\n          >\n            <Button disableFocusRipple className=\"type\">\n              {name}\n            </Button>\n          </NavLink>\n        ))}\n      </Grid>\n    );\n  }\n}\n\nexport default NormalNav;\n","import React from 'react';\nimport NotesIcon from '@material-ui/icons/Notes';\nimport TopIcon from '@material-ui/icons/Publish';\nimport GoodIcon from '@material-ui/icons/ThumbUp';\nimport QAIcon from '@material-ui/icons/Chat';\nimport ShareIcon from '@material-ui/icons/Share';\nimport JobIcon from '@material-ui/icons/Work';\nimport DevIcon from '@material-ui/icons/Build';\nimport UnknownIcon from '@material-ui/icons/HelpOutline';\n\nclass TopicTypeIcon extends React.Component {\n  render() {\n    const {\n      all,\n      good,\n      top,\n      tab,\n      ...other\n    } = this.props;\n\n    let typeIcon = <UnknownIcon {...other} />;\n\n    if (all) {\n      typeIcon = <NotesIcon {...other} />;\n    } else if (top) {\n      typeIcon = <TopIcon {...other} />;\n    } else if (good) {\n      typeIcon = <GoodIcon {...other} />;\n    } else {\n      switch (tab) {\n        case 'ask':\n          typeIcon = <QAIcon {...other} />;\n          break;\n        case 'share':\n          typeIcon = <ShareIcon {...other} />;\n          break;\n        case 'job':\n          typeIcon = <JobIcon {...other} />;\n          break;\n        case 'dev':\n          typeIcon = <DevIcon {...other} />;\n          break;\n        default:\n          break;\n      }\n    }\n\n    return typeIcon;\n  }\n}\n\nexport default TopicTypeIcon;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => React.createElement(\"svg\", _extends({\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 427.3 100.4\"\n}, props), React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  fill: \"#46483E\",\n  d: \"M127.987 52.994c0-1.084-.57-2.08-1.506-2.617l-24.937-14.352a2.934 2.934 0 0 0-1.373-.396h-.258a2.973 2.973 0 0 0-1.377.396L73.598 50.377a3.023 3.023 0 0 0-1.508 2.617l.055 38.644c0 .538.279 1.038.752 1.301a1.446 1.446 0 0 0 1.496 0l14.821-8.485a3.036 3.036 0 0 0 1.507-2.613V63.784a3 3 0 0 1 1.504-2.606l6.311-3.636a3 3 0 0 1 3.008 0l6.308 3.636a3 3 0 0 1 1.506 2.606V81.84c0 1.074.578 2.062 1.51 2.613l14.816 8.485a1.464 1.464 0 0 0 1.506 0c.459-.263.748-.763.748-1.301l.049-38.643zM261.147-.129a1.508 1.508 0 0 0-2.241 1.315v38.271c0 .376-.201.724-.525.913a1.06 1.06 0 0 1-1.056 0l-6.246-3.599a3.013 3.013 0 0 0-3.01.001L223.122 51.17a3.007 3.007 0 0 0-1.506 2.607v28.801c0 1.076.573 2.07 1.505 2.609l24.946 14.408a3.011 3.011 0 0 0 3.014 0l24.95-14.408a3.012 3.012 0 0 0 1.506-2.609V10.786a3.013 3.013 0 0 0-1.545-2.631L261.147-.129zm-2.314 73.244c0 .27-.145.519-.378.651l-8.564 4.938a.749.749 0 0 1-.752 0l-8.566-4.938a.752.752 0 0 1-.377-.651v-9.891c0-.269.145-.517.376-.651l8.566-4.947a.752.752 0 0 1 .754 0l8.564 4.947a.756.756 0 0 1 .377.651v9.891zM350.4 62.966a3.011 3.011 0 0 0 1.499-2.604v-6.979a3.012 3.012 0 0 0-1.5-2.605l-24.787-14.392a3.015 3.015 0 0 0-3.02-.004l-24.938 14.397a3.012 3.012 0 0 0-1.506 2.609v28.793c0 1.083.58 2.081 1.521 2.616l24.783 14.122a3.015 3.015 0 0 0 2.954.018l14.989-8.332c.477-.266.772-.765.774-1.308a1.503 1.503 0 0 0-.755-1.315L315.32 73.576a1.503 1.503 0 0 1-.758-1.306v-9.024c0-.538.287-1.036.755-1.304l7.811-4.504a1.505 1.505 0 0 1 1.503 0l7.815 4.504c.467.268.754.766.754 1.304v7.101a1.507 1.507 0 0 0 2.263 1.303l14.937-8.684z\"\n}), React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  fill: \"#80bd01\",\n  d: \"M173.35 36.23a3.012 3.012 0 0 1 3.012 0l24.943 14.395a3.008 3.008 0 0 1 1.508 2.609v28.811a3.014 3.014 0 0 1-1.506 2.61L176.363 99.06a3.016 3.016 0 0 1-3.014 0l-24.938-14.405a3.014 3.014 0 0 1-1.506-2.61V53.233c0-1.076.574-2.071 1.507-2.608L173.35 36.23z\"\n}), React.createElement(\"path\", {\n  fill: \"#80bd01\",\n  d: \"M398.833 99.472a4.941 4.941 0 0 1-2.468-.66l-7.853-4.646c-1.172-.656-.601-.888-.213-1.023 1.563-.543 1.881-.668 3.551-1.614.173-.099.404-.062.584.045l6.033 3.582a.775.775 0 0 0 .728 0l23.522-13.577a.739.739 0 0 0 .358-.636V53.796a.757.757 0 0 0-.364-.647l-23.513-13.565a.736.736 0 0 0-.724 0L374.97 53.152a.754.754 0 0 0-.373.644v27.146c0 .26.144.506.371.629l6.442 3.722c3.496 1.748 5.638-.31 5.638-2.379v-26.8c0-.379.305-.678.683-.678h2.983a.68.68 0 0 1 .682.678v26.8c0 4.666-2.541 7.342-6.965 7.342-1.36 0-2.43 0-5.418-1.472l-6.168-3.551a4.97 4.97 0 0 1-2.467-4.291V53.796c0-1.763.942-3.41 2.467-4.287l23.521-13.592c1.489-.841 3.468-.841 4.944 0l23.519 13.592a4.967 4.967 0 0 1 2.472 4.287v27.146a4.979 4.979 0 0 1-2.472 4.291L401.31 98.812a4.944 4.944 0 0 1-2.477.66\"\n}), React.createElement(\"path\", {\n  fill: \"#80bd01\",\n  d: \"M406.099 80.771c-10.294 0-12.449-4.725-12.449-8.687 0-.377.303-.678.68-.678h3.041a.68.68 0 0 1 .675.575c.459 3.097 1.828 4.658 8.054 4.658 4.954 0 7.064-1.121 7.064-3.75 0-1.515-.598-2.64-8.299-3.394-6.437-.638-10.416-2.06-10.416-7.208 0-4.745 4-7.576 10.707-7.576 7.535 0 11.263 2.615 11.736 8.227a.688.688 0 0 1-.181.523.692.692 0 0 1-.498.217h-3.052a.679.679 0 0 1-.661-.531c-.731-3.258-2.513-4.299-7.345-4.299-5.41 0-6.039 1.885-6.039 3.297 0 1.711.742 2.209 8.047 3.176 7.229.955 10.662 2.309 10.662 7.39 0 5.125-4.274 8.06-11.726 8.06\"\n}), React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  fill: \"#80bd01\",\n  d: \"M323.735 61.618a.573.573 0 0 1 .577 0l4.787 2.762c.18.103.289.294.289.5v5.527a.577.577 0 0 1-.289.501l-4.787 2.763a.577.577 0 0 1-.577 0l-4.783-2.763a.577.577 0 0 1-.289-.501V64.88c0-.206.109-.397.289-.5l4.783-2.762z\"\n}), React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  fill: \"#46483E\",\n  d: \"M36.28 61.87c1.098.65 1.358.255 1.742.035.385-.221 14.695-8.411 15.606-8.857.912-.446 1.315-1.915.114-2.61-1.201-.697-25.41-14.721-24.241-14.12 1.259.646-1.202-.829-2.626-.175-1.425.654-23.231 13.192-24.777 14.075-1.545.883-2.032 1.731-2.027 2.907.004 1.176-.078 27.253 0 28.801.078 1.548.69 2.052 1.506 2.609.816.558 22.901 13.505 24.572 14.41 1.671.907 2.768.597 3.853-.04 1.085-.639 22.727-13.003 23.593-13.554.866-.551 1.653-1.969-.157-2.992-1.811-1.022-14.779-8.693-15.279-8.943s-.796-.255-1.52.151c-.724.408-7.222 4.062-8.013 4.524s-.904.254-1.283.033c-.378-.222-7.085-4.135-7.859-4.571s-.866-.656-.868-1.25c-.001-.593-.018-8.121.023-8.998.04-.877.165-1.074.962-1.548.797-.474 6.695-3.978 7.166-4.293.47-.315 1.459-.345 2.231.108.772.452 6.184 3.647 7.282 4.298\"\n})));","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { compose } from 'redux';\nimport { withRouter } from 'react-router-dom';\nimport {\n  navTabsArray as navTabs,\n  navIsActive,\n} from '../../common';\n\nimport { withStyles } from '@material-ui/core/styles';\n\nimport SwipeableDrawer from '@material-ui/core/SwipeableDrawer';\nimport Divider from '@material-ui/core/Divider';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nimport TopicTypeIcon from '../../Components/TopicTypeIcon';\nimport LogoSvg from '../../static/cnodejs/cnodejs.svg';\n\nconst styles = theme => ({\n  drawerPaper: {\n    width: 214,\n    backgroundColor: 'rgba(255, 255, 255, 0.96)',\n  },\n  toolbar: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    ...theme.mixins.toolbar,\n  },\n  logo: {\n    paddingLeft: 16,\n    [theme.breakpoints.up('sm')]: {\n      paddingLeft: 24,\n    },\n    '& svg': {\n      height: 32,\n      marginBottom: 2,\n    },\n  },\n  spacing: {\n    marginRight: 6,\n  },\n});\n\nclass DrawerNav extends React.Component {\n  navIsActive = path => {\n    return navIsActive(path, this.props.location);\n  };\n\n  handleClose = () => {\n    this.props.onClose();\n  };\n\n  handleClick = path => {\n    const { history } = this.props;\n\n    history.push(path);\n    this.handleClose();\n  };\n\n  render() {\n    const { classes, open } = this.props;\n\n    return (\n      <SwipeableDrawer\n        open={open}\n        variant=\"temporary\"\n        onClose={this.handleClose}\n        onOpen={()=>{}}\n        classes={{\n          paper: classes.drawerPaper,\n        }}\n        ModalProps={{\n          keepMounted: true,\n        }}\n      >\n        <div className={classNames(classes.toolbar, classes.logo)}>\n          <LogoSvg />\n        </div>\n\n        <Divider />\n\n        <List>\n          {navTabs.map(({ tab, path, name }) => (\n            <ListItem\n              button\n              key={tab}\n              component=\"a\"\n              selected={this.navIsActive(path)}\n              onClick={event => this.handleClick(path)}\n            >\n              <ListItemIcon className={classes.spacing}>\n                <TopicTypeIcon\n                  color=\"inherit\"\n                  all={tab === 'all'}\n                  good={tab === 'good'}\n                  tab={tab}\n                />\n              </ListItemIcon>\n              <ListItemText primary={name} />\n            </ListItem>\n          ))}\n        </List>\n\n        <Divider />\n\n      </SwipeableDrawer>\n    );\n  }\n}\n\nDrawerNav.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default compose(\n  withStyles(styles),\n  withRouter,\n)(DrawerNav);\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => React.createElement(\"svg\", _extends({\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 427.3 100.4\"\n}, props), React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  fill: \"#fff\",\n  d: \"M127.987 52.994c0-1.084-.57-2.08-1.506-2.617l-24.937-14.352a2.934 2.934 0 0 0-1.373-.396h-.258a2.973 2.973 0 0 0-1.377.396L73.598 50.377a3.023 3.023 0 0 0-1.508 2.617l.055 38.644c0 .538.279 1.038.752 1.301a1.446 1.446 0 0 0 1.496 0l14.821-8.485a3.036 3.036 0 0 0 1.507-2.613V63.784a3 3 0 0 1 1.504-2.606l6.311-3.636a3 3 0 0 1 3.008 0l6.308 3.636a3 3 0 0 1 1.506 2.606V81.84c0 1.074.578 2.062 1.51 2.613l14.816 8.485a1.464 1.464 0 0 0 1.506 0c.459-.263.748-.763.748-1.301l.049-38.643zM261.147-.129a1.508 1.508 0 0 0-2.241 1.315v38.271c0 .376-.201.724-.525.913a1.06 1.06 0 0 1-1.056 0l-6.246-3.599a3.013 3.013 0 0 0-3.01.001L223.122 51.17a3.007 3.007 0 0 0-1.506 2.607v28.801c0 1.076.573 2.07 1.505 2.609l24.946 14.408a3.011 3.011 0 0 0 3.014 0l24.95-14.408a3.012 3.012 0 0 0 1.506-2.609V10.786a3.013 3.013 0 0 0-1.545-2.631L261.147-.129zm-2.314 73.244c0 .27-.145.519-.378.651l-8.564 4.938a.749.749 0 0 1-.752 0l-8.566-4.938a.752.752 0 0 1-.377-.651v-9.891c0-.269.145-.517.376-.651l8.566-4.947a.752.752 0 0 1 .754 0l8.564 4.947a.756.756 0 0 1 .377.651v9.891zM350.4 62.966a3.011 3.011 0 0 0 1.499-2.604v-6.979a3.012 3.012 0 0 0-1.5-2.605l-24.787-14.392a3.015 3.015 0 0 0-3.02-.004l-24.938 14.397a3.012 3.012 0 0 0-1.506 2.609v28.793c0 1.083.58 2.081 1.521 2.616l24.783 14.122a3.015 3.015 0 0 0 2.954.018l14.989-8.332c.477-.266.772-.765.774-1.308a1.503 1.503 0 0 0-.755-1.315L315.32 73.576a1.503 1.503 0 0 1-.758-1.306v-9.024c0-.538.287-1.036.755-1.304l7.811-4.504a1.505 1.505 0 0 1 1.503 0l7.815 4.504c.467.268.754.766.754 1.304v7.101a1.507 1.507 0 0 0 2.263 1.303l14.937-8.684z\"\n}), React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  fill: \"#80bd01\",\n  d: \"M173.35 36.23a3.012 3.012 0 0 1 3.012 0l24.943 14.395a3.008 3.008 0 0 1 1.508 2.609v28.811a3.014 3.014 0 0 1-1.506 2.61L176.363 99.06a3.016 3.016 0 0 1-3.014 0l-24.938-14.405a3.014 3.014 0 0 1-1.506-2.61V53.233c0-1.076.574-2.071 1.507-2.608L173.35 36.23z\"\n}), React.createElement(\"path\", {\n  fill: \"#80bd01\",\n  d: \"M398.833 99.472a4.941 4.941 0 0 1-2.468-.66l-7.853-4.646c-1.172-.656-.601-.888-.213-1.023 1.563-.543 1.881-.668 3.551-1.614.173-.099.404-.062.584.045l6.033 3.582a.775.775 0 0 0 .728 0l23.522-13.577a.739.739 0 0 0 .358-.636V53.796a.757.757 0 0 0-.364-.647l-23.513-13.565a.736.736 0 0 0-.724 0L374.97 53.152a.754.754 0 0 0-.373.644v27.146c0 .26.144.506.371.629l6.442 3.722c3.496 1.748 5.638-.31 5.638-2.379v-26.8c0-.379.305-.678.683-.678h2.983a.68.68 0 0 1 .682.678v26.8c0 4.666-2.541 7.342-6.965 7.342-1.36 0-2.43 0-5.418-1.472l-6.168-3.551a4.97 4.97 0 0 1-2.467-4.291V53.796c0-1.763.942-3.41 2.467-4.287l23.521-13.592c1.489-.841 3.468-.841 4.944 0l23.519 13.592a4.967 4.967 0 0 1 2.472 4.287v27.146a4.979 4.979 0 0 1-2.472 4.291L401.31 98.812a4.944 4.944 0 0 1-2.477.66\"\n}), React.createElement(\"path\", {\n  fill: \"#80bd01\",\n  d: \"M406.099 80.771c-10.294 0-12.449-4.725-12.449-8.687 0-.377.303-.678.68-.678h3.041a.68.68 0 0 1 .675.575c.459 3.097 1.828 4.658 8.054 4.658 4.954 0 7.064-1.121 7.064-3.75 0-1.515-.598-2.64-8.299-3.394-6.437-.638-10.416-2.06-10.416-7.208 0-4.745 4-7.576 10.707-7.576 7.535 0 11.263 2.615 11.736 8.227a.688.688 0 0 1-.181.523.692.692 0 0 1-.498.217h-3.052a.679.679 0 0 1-.661-.531c-.731-3.258-2.513-4.299-7.345-4.299-5.41 0-6.039 1.885-6.039 3.297 0 1.711.742 2.209 8.047 3.176 7.229.955 10.662 2.309 10.662 7.39 0 5.125-4.274 8.06-11.726 8.06\"\n}), React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  fill: \"#80bd01\",\n  d: \"M323.735 61.618a.573.573 0 0 1 .577 0l4.787 2.762c.18.103.289.294.289.5v5.527a.577.577 0 0 1-.289.501l-4.787 2.763a.577.577 0 0 1-.577 0l-4.783-2.763a.577.577 0 0 1-.289-.501V64.88c0-.206.109-.397.289-.5l4.783-2.762z\"\n}), React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  fill: \"#fff\",\n  d: \"M36.28 61.87c1.098.65 1.358.255 1.742.035.385-.221 14.695-8.411 15.606-8.857.912-.446 1.315-1.915.114-2.61-1.201-.697-25.41-14.721-24.241-14.12 1.259.646-1.202-.829-2.626-.175-1.425.654-23.231 13.192-24.777 14.075-1.545.883-2.032 1.731-2.027 2.907.004 1.176-.078 27.253 0 28.801.078 1.548.69 2.052 1.506 2.609.816.558 22.901 13.505 24.572 14.41 1.671.907 2.768.597 3.853-.04 1.085-.639 22.727-13.003 23.593-13.554.866-.551 1.653-1.969-.157-2.992-1.811-1.022-14.779-8.693-15.279-8.943s-.796-.255-1.52.151c-.724.408-7.222 4.062-8.013 4.524s-.904.254-1.283.033c-.378-.222-7.085-4.135-7.859-4.571s-.866-.656-.868-1.25c-.001-.593-.018-8.121.023-8.998.04-.877.165-1.074.962-1.548.797-.474 6.695-3.978 7.166-4.293.47-.315 1.459-.345 2.231.108.772.452 6.184 3.647 7.282 4.298\"\n})));","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { compose } from 'redux';\nimport { withRouter, Link } from 'react-router-dom';\n\nimport { withStyles } from '@material-ui/core/styles';\nimport withWidth, { isWidthUp } from '@material-ui/core/withWidth';\n\nimport Hidden from '@material-ui/core/Hidden';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\n\nimport Me from '../../Components/Me';\nimport NormalNav from '../Nav/NormalNav';\nimport DrawerNav from '../Nav/DrawerNav';\n\nimport { animateScroll } from 'react-scroll';\nimport LogoSvg from '../../static/cnodejs/cnodejs_light.svg';\nimport './header.styl';\n\nconst styles = theme => ({\n  toolbar: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    ...theme.mixins.toolbar,\n  },\n  navPlaceholder: {\n    height: 48,\n    '@media (max-width: 768px)': {\n      height: 38,\n    },\n  },\n  navHidden: {\n    height: 0,\n  },\n});\n\nclass Header extends React.Component {\n  state = {\n    isMobile: false,\n    navHidden: false,\n    drawerOpen: false,\n  };\n\n  handleScrollToTop = event => {\n    if (event.target === event.currentTarget) {\n      animateScroll.scrollTo(0, {\n        duration: 500,\n        smooth: 'easeInOutQuart',\n      });\n    }\n  };\n\n  toggleNav = () => {\n    const { pathname } = this.props.location;\n    const navHidden = pathname !== '/';\n\n    this.setState({ navHidden });\n  };\n\n  handleNavToggle = () => {\n    let { navHidden, drawerOpen } = this.state;\n\n    if (isWidthUp('md', this.props.width)) {\n      navHidden = !navHidden;\n      drawerOpen = false;\n    } else {\n      drawerOpen = !drawerOpen;\n    }\n\n    this.setState({\n      navHidden,\n      drawerOpen,\n    });\n  };\n\n  componentWillMount() {\n    this.toggleNav();\n  }\n\n  render() {\n    const { navHidden, drawerOpen } = this.state;\n    const { classes, width } = this.props;\n\n    return (\n      <React.Fragment>\n        <div className={classes.toolbar} />\n        <div className={classNames(classes.navPlaceholder, {\n          [classes.navHidden]: !isWidthUp('md', width) || navHidden || drawerOpen,\n        })} />\n        <AppBar id=\"header\" position=\"fixed\">\n          <Toolbar onClick={this.handleScrollToTop}>\n            <IconButton\n              color=\"inherit\"\n              onClick={this.handleNavToggle}\n            >\n              <MenuIcon />\n            </IconButton>\n            <div id=\"logo\">\n              <Hidden xsDown>\n                <Link to=\"/\">\n                  <LogoSvg className=\"logo\" />\n                </Link>\n              </Hidden>\n            </div>\n\n            <Me />\n          </Toolbar>\n          <Hidden smDown implementation=\"css\">\n            {!navHidden && <NormalNav />}\n          </Hidden>\n        </AppBar>\n\n        <Hidden mdUp>\n          <DrawerNav\n            open={drawerOpen}\n            onClose={this.handleNavToggle}\n          />\n        </Hidden>\n      </React.Fragment>\n    );\n  }\n}\n\nHeader.propTypes = {\n  classes: PropTypes.object.isRequired,\n  width: PropTypes.string.isRequired,\n};\n\nexport default compose(\n  withStyles(styles),\n  withWidth(),\n  withRouter,\n)(Header);\n","import React from 'react';\nimport Notice from './Notice';\nimport Header from './Header';\nimport './layout.styl';\n\nclass Layout extends React.Component {\n  render() {\n    return (\n      <React.Fragment>\n        <Notice />\n        <Header />\n        {this.props.children}\n      </React.Fragment>\n    );\n  }\n}\n\nexport default Layout;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { withStyles } from '@material-ui/core/styles';\nimport Avatar from '@material-ui/core/Avatar';\n\nconst styles = theme => ({\n  avatar: {\n    '& a': {\n      display: 'flex',\n    },\n    '& img': {\n      display: 'inline-flex',\n      width: '100%',\n      height: '100%',\n      objectFit: 'contain',\n      color: 'rgba(255, 255, 255, 0.9)',\n      fontSize: 12,\n      lineHeight: 0,\n      textIndent: 20,\n    },\n  },\n});\n\nclass CustomAvatar extends React.Component {\n  render() {\n    const {\n      classes,\n      className,\n      name,\n      image,\n      url,\n    } = this.props;\n\n    return (\n      <Avatar\n        aria-label=\"Recipe\"\n        className={classNames(\n          classes.avatar,\n          className,\n        )}\n      >\n        {url ? (\n          <Link to={name ? url : '/'}>\n            {image &&\n              <img src={image} alt={name || '用户已注销'} />\n            }\n          </Link>\n        ) : (\n          <a>\n            {image &&\n              <img src={image} alt={name || '用户已注销'} />\n            }\n          </a>\n        )}\n      </Avatar>\n    );\n  }\n}\n\nCustomAvatar.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(CustomAvatar);\n","import Moment from 'react-moment';\nimport 'moment/locale/zh-cn';\n\nMoment.globalLocale = 'zh-cn';\n\nexport default Moment;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport {\n  randomNumber,\n  removeHtmlTags,\n} from '../../common';\n\nimport { withStyles } from '@material-ui/core/styles';\nimport withWidth, { isWidthUp } from '@material-ui/core/withWidth';\n\nimport Grid from '@material-ui/core/Grid';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardActions from '@material-ui/core/CardActions';\nimport Typography from '@material-ui/core/Typography';\nimport Collapse from '@material-ui/core/Collapse';\n\nimport IconButton from '@material-ui/core/IconButton';\nimport CreateIcon from '@material-ui/icons/Create';\nimport ViewIcon from '@material-ui/icons/Visibility';\nimport ReplyIcon from '@material-ui/icons/Comment';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nimport TopicTypeIcon from '../../Components/TopicTypeIcon';\nimport Avatar from '../../Components/Avatar';\nimport Moment from '../../Components/Moment';\nimport './topicard.styl';\n\nconst styles = theme => ({\n  expand: {\n    margin: 0,\n    transform: 'rotate(0deg)',\n    transition: theme.transitions.create('transform', {\n      duration: theme.transitions.duration.shortest,\n    }),\n  },\n  expandOpen: {\n    transform: 'rotate(180deg)',\n  },\n});\n\nclass TopiCard extends React.Component {\n  constructor(props) {\n    super(props);\n\n    const { cardPreview } = props;\n\n    this.state = {\n      expanded: cardPreview,\n    };\n  }\n\n  substrContent = content => {\n    const len = randomNumber({ min: 200, max: 400 });\n    return removeHtmlTags(content).substr(0, len);\n  };\n\n  handleExpandClick = () => {\n    this.setState(state => ({\n      expanded: !state.expanded,\n    }));\n  };\n\n  render() {\n    const {\n      className,\n      classes,\n      simple,\n      item,\n      width,\n    } = this.props;\n\n    const { expanded } = this.state;\n\n    return (\n      <Card className={classNames('topicard', className, {\n        'expanded': !simple && expanded,\n      })}>\n        <Grid\n          container\n          alignItems=\"center\"\n          className=\"topicard-header-wrapper\"\n        >\n          <Grid\n            container\n            alignItems=\"center\"\n            justify=\"flex-start\"\n            className=\"topicard-header\"\n          >\n            <Avatar\n              className=\"avatar\"\n              name={item.author.loginname}\n              image={item.author.avatar_url}\n              url={`/user/${item.author.loginname}`}\n            />\n            <Grid\n              container\n              alignItems=\"center\"\n              justify=\"flex-start\"\n              className=\"topicard-title\"\n            >\n              <Grid item className=\"title\">\n                {!simple &&\n                  <Grid item className=\"type\">\n                    <IconButton>\n                      <TopicTypeIcon\n                        tab={item.tab}\n                        good={item.good}\n                        top={item.top}\n                      />\n                    </IconButton>\n                  </Grid>\n                }\n                <Typography variant=\"h5\">\n                  <Link to={`/topic/${item.id}`}>{item.title}</Link>\n                </Typography>\n                {!simple &&\n                  <CardActions className=\"action\">\n                    <IconButton\n                      className={classNames(classes.expand, {\n                        [classes.expandOpen]: expanded,\n                      })}\n                      onClick={this.handleExpandClick}\n                      aria-expanded={expanded}\n                      aria-label=\"Show more\"\n                    >\n                      <ExpandMoreIcon />\n                    </IconButton>\n                  </CardActions>\n                }\n              </Grid>\n            </Grid>\n          </Grid>\n          <Grid container wrap=\"nowrap\" alignItems=\"center\" className=\"state-wrapper\">\n            <Grid container wrap=\"nowrap\" alignItems=\"center\" className=\"state\">\n              <Grid container item zeroMinWidth wrap=\"nowrap\" alignItems=\"center\">\n                <Grid item zeroMinWidth className=\"author\">\n                  <Link to={`/user/${item.author.loginname}`}>\n                    {item.author.loginname}\n                  </Link>\n                </Grid>\n                {!simple &&\n                  <Grid item className=\"create\">\n                    <IconButton><CreateIcon /></IconButton>\n                    <Moment fromNow>{item.create_at}</Moment>\n                  </Grid>\n                }\n              </Grid>\n              <Grid item className=\"count\">\n                <Grid item className=\"reply\">\n                  <IconButton><ReplyIcon /></IconButton>\n                  {!simple ? (\n                    <span>{item.reply_count}</span>\n                  ) : (\n                    <Moment fromNow>{item.last_reply_at}</Moment>\n                  )}\n                </Grid>\n                {!simple &&\n                  <Grid item className=\"visit\">\n                    <IconButton><ViewIcon /></IconButton>\n                    <span>{item.visit_count}</span>\n                  </Grid>\n                }\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n        {!simple &&\n          <Collapse\n            className=\"collapse\"\n            in={expanded}\n            timeout=\"auto\"\n            unmountOnExit={isWidthUp('sm', width)}\n          >\n            <CardContent className=\"context\">\n              <Typography>\n                {this.substrContent(item.content)}\n              </Typography>\n            </CardContent>\n          </Collapse>\n        }\n      </Card>\n    );\n  }\n}\n\nTopiCard.propTypes = {\n  classes: PropTypes.object.isRequired,\n  width: PropTypes.string.isRequired,\n};\n\nconst mapStateToProps = ({ settings }) => ({\n  cardPreview: settings.cardPreview,\n});\n\nexport default compose(\n  withStyles(styles),\n  withWidth(),\n  connect(\n    mapStateToProps,\n  ),\n)(TopiCard);\n","import React from 'react';\nimport classNames from 'classnames';\nimport TopiCard from '../../Components/TopiCard';\nimport './topiclist.styl';\n\nclass TopicList extends React.Component {\n  render() {\n    const { items, className } = this.props;\n\n    return (\n      <div className={classNames(\n        'topic-list-container',\n        className,\n      )}>\n        {items.map((item, index) => (\n          <div className=\"topic-list\" key={index}>\n            {item.map(data => (\n              <TopiCard item={data} key={data.id} />\n            ))}\n          </div>\n        ))}\n      </div>\n    );\n  }\n}\n\nexport default TopicList;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport Grid from '@material-ui/core/Grid';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { CSSTransition } from 'react-transition-group';\n\nimport './progress.styl';\n\nclass Progress extends React.Component {\n  handleExited = () => {\n    const { onExited } = this.props;\n    Boolean(onExited) && onExited();\n  };\n\n  render() {\n    const { className, status } = this.props;\n\n    return (\n      <Grid item id=\"progress\" className={classNames(className)}>\n        <CSSTransition\n          className=\"progress loading\"\n          classNames=\"fade\"\n          in={status === 'loading'}\n          timeout={{ enter: 100, exit: 550 }}\n          onExited={this.handleExited}\n          unmountOnExit\n        >\n          <CircularProgress classes={{ svg: 'loop-color' }} />\n        </CSSTransition>\n      </Grid>\n    );\n  }\n}\n\nProgress.propTypes = {\n  status: PropTypes.oneOf(['idle', 'loading', 'success', 'error']).isRequired,\n  onExited: PropTypes.func,\n};\n\nexport default Progress;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport {\n  openShare,\n  openEditor,\n  openNotification,\n} from '../../store/actions';\nimport { post } from '../../fetch';\n\nimport { withStyles } from '@material-ui/core/styles';\nimport withWidth, { isWidthUp } from '@material-ui/core/withWidth';\n\nimport Fab from '@material-ui/core/Fab';\nimport Zoom from '@material-ui/core/Zoom';\nimport AppBar from '@material-ui/core/AppBar';\nimport EditIcon from '@material-ui/icons/Edit';\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport ReplyIcon from '@material-ui/icons/ModeComment';\nimport ShareIcon from '@material-ui/icons/Share';\n\nimport SpeedDial from '@material-ui/lab/SpeedDial';\nimport SpeedDialIcon from '@material-ui/lab/SpeedDialIcon';\nimport SpeedDialAction from '@material-ui/lab/SpeedDialAction';\n\nconst styles = theme => ({\n  appbar: {\n    top: 'auto',\n    bottom: 0,\n    boxShadow: 'none',\n  },\n  wrapper: {\n    position: 'relative',\n  },\n  action: {\n    position: 'absolute',\n    right: theme.spacing(3.5),\n    bottom: theme.spacing(4),\n  },\n  fabMoveUp: {\n    transform: 'translate3d(0, -56px, 0)',\n    transition: theme.transitions.create('transform', {\n      duration: theme.transitions.duration.enteringScreen,\n      easing: theme.transitions.easing.easeOut,\n    }),\n  },\n  fabMoveDown: {\n    transform: 'translate3d(0, 0, 0)',\n    transition: theme.transitions.create('transform', {\n      duration: theme.transitions.duration.leavingScreen,\n      easing: theme.transitions.easing.sharp,\n    }),\n  },\n});\n\nclass ActionDial extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      favorite: undefined,\n      expanded: false,\n      shareURL: null,\n    };\n  }\n\n  handleOpen = () => {\n    if (this.props.visible) {\n      this.setState({ expanded: true });\n    }\n  };\n\n  handleClose = () => {\n    this.setState({ expanded: false });\n  };\n\n  handleClick = () => {\n    const { expanded } = this.state;\n    expanded && this.handleUpdate();\n    this.setState({\n      expanded: !expanded,\n    });\n  };\n\n  handleShare = () => {\n    const { shareURL } = this.state;\n    this.handleClose();\n    this.props.openShare(shareURL);\n  };\n\n  handleFavorite = async () => {\n    const { favorite } = this.state;\n\n    const {\n      accesstoken,\n      topicData: { topic_id },\n    } = this.props;\n\n    const params = {\n      url: favorite\n            ? '/topic_collect/de_collect'\n            : '/topic_collect/collect',\n      params: { accesstoken, topic_id },\n    };\n\n    this.handleClose();\n\n    const { success, err_msg } = await post(params);\n    const message = success\n                    ? favorite ? '取消收藏' : '已收藏'\n                    : {\n                      message: err_msg || '操作失败',\n                      status: 'error',\n                    };\n\n    success && this.setState({\n      favorite: !favorite,\n    });\n\n    this.props.openNotification(message);\n  };\n\n  handleReply = () => {\n    const { topic_id } = this.props.match.params;\n    const config = {\n      action: 'reply',\n      url: `/topic/${topic_id}/replies`,\n      reply_id: topic_id,\n    };\n\n    this.handleClose();\n    this.handleOpenEditor(config);\n  };\n\n  handleUpdate = () => {\n    const {\n      uname,\n      tab,\n      title,\n      content,\n      topic_id,\n    } = this.props.topicData;\n    const { uname: signedUname } = this.props;\n\n    if (uname !== signedUname) { return; }\n\n    const config = {\n      action: 'update',\n      url: '/topics/update',\n      tab,\n      title,\n      content,\n      topic_id,\n    };\n\n    this.handleOpenEditor(config);\n  };\n\n  handleCreate = () => {\n    const config = {\n      action: 'create',\n      url: '/topics',\n    };\n\n    this.handleOpenEditor(config);\n  };\n\n  handleOpenEditor = config => {\n    this.props.openEditor(config);\n  };\n\n  componentDidMount() {\n    if (typeof window !== 'undefined') {\n      const { origin, pathname } = window.location;\n\n      this.setState({\n        shareURL: `${origin}${pathname}`,\n      });\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const { topicData } = nextProps;\n    const { favorite } = this.state;\n\n    this.setState(state => ({\n      favorite: typeof favorite === 'boolean'\n                ? state.favorite\n                : topicData\n                  ? topicData.is_collect\n                  : undefined,\n    }));\n  }\n\n  render() {\n    const {\n      classes,\n      width,\n      isAuthed,\n      single,\n      visible,\n      topicData,\n      notificationOpen,\n      uname: signedUname,\n    } = this.props;\n\n    const {\n      favorite,\n      expanded,\n    } = this.state;\n\n    return (isAuthed &&\n      <AppBar\n        color=\"default\"\n        component=\"div\"\n        className={classes.appbar}\n      >\n        <div className={classes.wrapper}>\n          {single ? (\n            <Zoom in={visible} unmountOnExit>\n              <Fab\n                color=\"secondary\"\n                aria-label=\"Edit\"\n                className={classes.action}\n                onClick={this.handleCreate}\n              >\n                <EditIcon />\n              </Fab>\n            </Zoom>\n          ) : (typeof topicData === 'object' &&\n            <SpeedDial\n              ariaLabel=\"SpeedDial\"\n              className={classNames(classes.action, {\n                [classes.fabMoveUp]: !isWidthUp('md', width) && notificationOpen,\n                [classes.fabMoveDown]: !isWidthUp('md', width) && !notificationOpen,\n              })}\n              color=\"secondary\"\n              hidden={!visible}\n              open={expanded}\n              onClick={this.handleClick}\n              onClose={this.handleClose}\n              onMouseEnter={this.handleOpen}\n              onMouseLeave={this.handleClose}\n              icon={signedUname === topicData.uname ? (\n                <SpeedDialIcon openIcon={<EditIcon />} />\n              ) : (\n                <SpeedDialIcon />\n              )}\n            >\n              <SpeedDialAction\n                icon={<ReplyIcon />}\n                tooltipTitle=\"\"\n                onClick={this.handleReply}\n              />\n              <SpeedDialAction\n                icon={favorite ? <FavoriteIcon /> : <FavoriteBorderIcon />}\n                tooltipTitle=\"\"\n                onClick={this.handleFavorite}\n              />\n              <SpeedDialAction\n                icon={<ShareIcon />}\n                tooltipTitle=\"\"\n                onClick={this.handleShare}\n              />\n            </SpeedDial>\n          )}\n        </div>\n      </AppBar>\n    );\n  }\n}\n\nActionDial.propTypes = {\n  classes: PropTypes.object.isRequired,\n  width: PropTypes.string.isRequired,\n};\n\nconst mapStateToProps = ({ auth, editor, notification }) => ({\n  ...auth,\n  visible: !editor.open,\n  notificationOpen: notification.open,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  openShare: url => {\n    dispatch(openShare(url));\n  },\n  openEditor: config => {\n    dispatch(openEditor(config));\n  },\n  openNotification: message => {\n    dispatch(openNotification(message));\n  },\n});\n\nexport default compose(\n  withStyles(styles),\n  withWidth(),\n  withRouter,\n  connect(\n    mapStateToProps,\n    mapDispatchToProps,\n  ),\n)(ActionDial);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { closeNotification } from '../../store/actions';\n\nimport { withStyles } from '@material-ui/core/styles';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\nimport IconButton from '@material-ui/core/IconButton';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport WarningIcon from '@material-ui/icons/Warning';\nimport ErrorIcon from '@material-ui/icons/Error';\nimport InfoIcon from '@material-ui/icons/Info';\nimport CloseIcon from '@material-ui/icons/Close';\n\nconst styles = theme => ({\n  success: {\n    backgroundColor: '#43a047',\n  },\n  error: {\n    backgroundColor: '#d32f2f',\n  },\n  info: {\n    backgroundColor: '#1976d2',\n  },\n  warning: {\n    backgroundColor: '#ffa000',\n  },\n  icon: {\n    fontSize: 20,\n  },\n  iconVariant: {\n    opacity: 0.9,\n    marginRight: theme.spacing(1),\n  },\n  message: {\n    display: 'flex',\n    alignItems: 'center',\n  },\n});\n\nconst variantIcon = {\n  success: CheckCircleIcon,\n  warning: WarningIcon,\n  error: ErrorIcon,\n  info: InfoIcon,\n};\n\nclass Notification extends React.Component {\n  handlePreClose = () => {\n    const { open } = this.props;\n    open && this.handleClose();\n  };\n\n  handleClose = () => {\n    this.props.closeNotification();\n  };\n\n  componentWillUnmount() {\n    this.handlePreClose();\n  }\n\n  render() {\n    const { classes, message, status, open } = this.props;\n    const Icon = variantIcon[status];\n    const key = new Date().getTime();\n\n    return (\n      <Snackbar\n        key={key}\n        open={open}\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'left',\n        }}\n        autoHideDuration={3000}\n        onClose={this.handleClose}\n      >\n        <SnackbarContent\n          className={classes[status]}\n          aria-describedby=\"snackbar-message-id\"\n          message={\n            <span id=\"snackbar-message-id\" className={classes.message}>\n              <Icon className={`${classes.icon} ${classes.iconVariant}`} />\n              {message}\n            </span>\n          }\n          action={\n            <IconButton\n              color=\"inherit\"\n              className={classes.close}\n              onClick={this.handleClose}\n            >\n              <CloseIcon className={classes.icon} />\n            </IconButton>\n          }\n        />\n      </Snackbar>\n    );\n  }\n}\n\nNotification.propTypes = {\n  classes: PropTypes.object.isRequired,\n  status: PropTypes.oneOf(['success', 'warning', 'error', 'info']).isRequired,\n};\n\nconst mapStateToProps = ({ notification }) => ({\n  ...notification,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  closeNotification: () => {\n    dispatch(closeNotification());\n  },\n});\n\nexport default compose(\n  withStyles(styles),\n  connect(\n    mapStateToProps,\n    mapDispatchToProps,\n  ),\n)(Notification);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { withStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\n\nconst styles = theme => ({\n  flex: {\n    margin: 0,\n    '& *': {\n      flex: '1 1 auto',\n      minHeight: 210,\n      padding: 0,\n    },\n    '& textarea': {\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      width: '100%',\n      height: '100%',\n      lineHeight: 1.3125,\n    },\n  },\n});\n\nclass MarkdownEditor extends React.Component {\n  handleUpdateContent = event => {\n    this.props.onUpdateContent(event);\n  };\n\n  render() {\n    const {\n      classes,\n      disabled,\n      autoFocus,\n      content,\n    } = this.props;\n\n    return (\n      <React.Fragment>\n        <TextField\n          className={classNames(classes.flex)}\n          margin=\"normal\"\n          multiline\n          rows=\"3\"\n          autoFocus={autoFocus}\n          fullWidth\n          id=\"textarea\"\n          placeholder=\"写些什么呢？\"\n          value={content}\n          disabled={disabled}\n          onChange={this.handleUpdateContent}\n        />\n      </React.Fragment>\n    );\n  }\n}\n\nMarkdownEditor.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(MarkdownEditor);\n","export default {\n  'h': 'c',\n  'rb': 'ruby',\n  'py': 'python',\n  'sh': 'bash',\n  'yml': 'yaml',\n  'golang': 'go',\n  'dockerfile': 'docker',\n  'tex': 'latex',\n  'bat': 'batch',\n  'ps1': 'powershell',\n  'psm1': 'powershell',\n};\n","import MarkdownIt from 'markdown-it';\nimport checkbox from 'markdown-it-task-checkbox';\nimport emoji from 'markdown-it-emoji';\nimport sub from 'markdown-it-sub';\nimport sup from 'markdown-it-sup';\nimport footnote from 'markdown-it-footnote';\nimport container from 'markdown-it-container';\nimport Prism from 'prismjs';\nimport extensions from './extensions';\nimport { transformOrgURL } from '../../common';\n\nconst md = new MarkdownIt({\n  html: true,\n  linkify: true,\n  typographer: true,\n  quotes: '“”‘’',\n  highlight: (code, lang) => {\n    lang = typeof lang === 'string' && lang.toLocaleLowerCase();\n    lang = extensions[lang] || lang;\n\n    if (!Object.keys(Prism.languages).includes(lang)) {\n      if (Boolean(lang) && process.env.NODE_ENV === 'development') {\n        // eslint-disable-next-line\n        console.warn(`\\`${lang}' code is highlighted with \\`markup'.`);\n      }\n\n      lang = 'markup';\n    }\n\n    return Prism.highlight(code, Prism.languages[lang]);\n  },\n})\n.use(checkbox)\n.use(emoji)\n.use(sub)\n.use(sup)\n.use(footnote)\n.use(container);\n\nconst atToHtml = ({url, text, prevSpaces = '', nextSpaces = ''}) => {\n  const href = `${process.env.PUBLIC_URL}/user/${url}`;\n  return `${prevSpaces}<a target=\"_blank\" href=\"${href}\">${text}</a>${nextSpaces}`;\n};\n\nmd.renderer.rules.text = (tokens, idx, options, env, self) => {\n  let content = tokens[idx].content;\n\n  if (Boolean(content)) {\n    content = content\n      .replace(/^(@([\\w\\-_]+))$/, atToHtml({url: '$2', text: '$1'}))\n      .replace(/(\\s+)(@([\\w\\-_]+))/g, atToHtml({url: '$3', text: '$2', prevSpaces: '$1'}))\n      .replace(/(@([\\w\\-_]+))(\\s+)/g, atToHtml({url: '$2', text: '$1', nextSpaces: '$3'}));\n  }\n\n  return content;\n};\n\nmd.renderer.rules.link_open = (tokens, idx, options, env, self) => {\n  tokens[idx].attrPush(['target', '_blank']);\n\n  const hrefIdx = tokens[idx].attrIndex('href');\n  const hrefSrc = transformOrgURL(tokens[idx].attrs[hrefIdx][1]);\n\n  if (/^\\/\\w+.*$/.test(hrefSrc)) {\n    tokens[idx].attrs[hrefIdx][1] = `${process.env.PUBLIC_URL}${hrefSrc}`;\n  } else {\n    tokens[idx].attrs[hrefIdx][1] = hrefSrc;\n  }\n\n  for (var i = tokens.length - 1; i >= 0; i--) {\n    const { type, level, content } = tokens[i];\n\n    if (type === 'text' && level !== 0) {\n      tokens[i].content = transformOrgURL(content);\n    }\n  }\n\n  return self.renderToken(tokens, idx, options);\n};\n\nexport default md;\n","import React from 'react';\nimport classNames from 'classnames';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { openZoom } from '../../store/actions';\n\nimport 'github-markdown-css/github-markdown.css';\nimport mdRender from './markdown-it';\nimport './markdown-render.styl';\n\nclass MarkdownRender extends React.Component {\n  handleClick = event => {\n    const src = event.target.getAttribute('src');\n    this.props.openZoom({ src });\n  };\n\n  componentDidMount() {\n    const imgs = Array.from(this.md.querySelectorAll('img'));\n    imgs.map(img => img.addEventListener('click', this.handleClick));\n  }\n\n  render() {\n    const { className, markdownString } = this.props;\n\n    const markupHTML = {\n      __html: mdRender.render(markdownString),\n    };\n\n    return (\n      <div\n        ref={ref => this.md = ref}\n        className={classNames('markdown-body', className)}\n        // eslint-disable-next-line\n        dangerouslySetInnerHTML={markupHTML}\n      />\n    );\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  openZoom: data => {\n    dispatch(openZoom(data));\n  },\n});\n\nexport default compose(\n  withRouter,\n  connect(\n    null,\n    mapDispatchToProps,\n  ),\n)(MarkdownRender);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport {\n  navTabsObject as navTabs,\n  topicTypes,\n  matchTab,\n} from '../../common';\n\nimport { withStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport Hidden from '@material-ui/core/Hidden';\n\nimport Popover from '@material-ui/core/Popover';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport ArrowRightIcon from '@material-ui/icons/ArrowRight';\nimport FullscreenIcon from '@material-ui/icons/Fullscreen';\nimport FullscreenExitIcon from '@material-ui/icons/FullscreenExit';\nimport PreviewIcon from '@material-ui/icons/LocalLibrary';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\n\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport Dialog from '@material-ui/core/Dialog';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport Radio from '@material-ui/core/Radio';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\n\nimport Avatar from '../../Components/Avatar';\nimport TopicTypeIcon from '../../Components/TopicTypeIcon';\nimport './editor-header.styl';\n\nconst styles = theme => ({\n  text: {\n    padding: 0,\n    paddingRight: 2,\n  },\n  title: {\n    paddingTop: 20,\n    paddingBottom: 0,\n    '& h6': {\n      fontSize: '1.125rem',\n    },\n  },\n  back: {\n    marginLeft: -14,\n  },\n  content: {\n    paddingBottom: 20,\n  },\n});\n\nclass Editor extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      moreOpen: false,\n      selectOpen: false,\n      publishTab: null,\n    };\n  }\n\n  getPublishTab = () => {\n    const tab = matchTab(this.props.location);\n\n    return (\n      tab === null\n        ? null\n        : topicTypes.includes(tab)\n          ? tab\n          : ''\n    );\n  };\n\n  handleChange = (event, value) => {\n    this.setState({\n      publishTab: value,\n    }, () => {\n      this.handleCloseSelect(value);\n    });\n  };\n\n  handleOpenSelect = () => {\n    const { disabled } = this.props;\n    this.setState({\n      selectOpen: !disabled,\n    });\n  };\n\n  handleCloseSelect = () => {\n    this.handlePublishTab();\n    this.setState({\n      selectOpen: false,\n    });\n  };\n\n  handlePublishTab = () => {\n    const { publishTab } = this.state;\n    this.props.onPublishTab(publishTab);\n  };\n\n  handleCloseMore = () => {\n    this.setState({\n      moreOpen: false,\n    });\n  };\n\n  handleOpenMore = () => {\n    this.setState({\n      moreOpen: true,\n    });\n  };\n\n  handlePreview = () => {\n    this.handleCloseMore();\n    this.props.onPreview();\n  };\n\n  handleFullScreen = () => {\n    this.handleCloseMore();\n    this.props.onFullScreen();\n  };\n\n  componentWillMount() {\n    const { tab } = this.props;\n    const publishTab = tab || this.getPublishTab();\n\n    this.setState({\n      publishTab,\n    }, () => {\n      this.handlePublishTab();\n    });\n  }\n\n  render() {\n    const {\n      classes,\n      disabled,\n      uname,\n      avatar,\n      action,\n      isAuthed,\n      fullScreen,\n    } = this.props;\n\n    const {\n      moreOpen,\n      selectOpen,\n      publishTab,\n    } = this.state;\n\n    return (isAuthed &&\n      <React.Fragment>\n        <div className=\"flex editor-header\">\n          <Avatar\n            name={uname}\n            image={avatar}\n            className=\"avatar\"\n          />\n          <div className=\"flex box\">\n            <Typography className=\"flex editor-uname\">\n              {uname}\n              <ArrowRightIcon color=\"inherit\" />\n            </Typography>\n            {/(create)|(update)/.test(action) &&\n              <Typography className=\"flex editor-tpoic-type\">\n                <Typography\n                  className={classNames('flex', {\n                    'disabled': disabled,\n                  })}\n                  onClick={this.handleOpenSelect}\n                  component=\"span\"\n                >\n                  {publishTab ? navTabs[publishTab].name : '请选择分类'}\n                  <TopicTypeIcon tab={publishTab} color=\"inherit\" />\n                </Typography>\n              </Typography>\n            }\n          </div>\n          <div className=\"editor-header-actions\">\n            <IconButton\n              buttonRef={node => {\n                this.anchorEl = node;\n              }}\n              variant=\"contained\"\n              onClick={this.handleOpenMore}\n            >\n              <MoreVertIcon />\n            </IconButton>\n          </div>\n        </div>\n\n        <Popover\n          open={moreOpen}\n          anchorEl={this.anchorEl}\n          anchorReference=\"anchorEl\"\n          anchorPosition={{ top: 200, left: 400 }}\n          onClose={this.handleCloseMore}\n          anchorOrigin={{\n            vertical: 'top',\n            horizontal: 'right',\n          }}\n          transformOrigin={{\n            vertical: 'top',\n            horizontal: 'right',\n          }}\n        >\n          <List component=\"nav\">\n            <ListItem button onClick={this.handlePreview}>\n              <ListItemIcon>\n                <PreviewIcon color=\"inherit\" />\n              </ListItemIcon>\n              <ListItemText\n                className={classes.text}\n                primary=\"预览\"\n              />\n            </ListItem>\n            <Hidden xsDown>\n              <ListItem button onClick={this.handleFullScreen}>\n                <ListItemIcon>\n                  {fullScreen ? (\n                    <FullscreenExitIcon color=\"inherit\" />\n                  ) : (\n                    <FullscreenIcon color=\"inherit\" />\n                  )}\n                </ListItemIcon>\n                <ListItemText\n                  className={classes.text}\n                  primary=\"全屏\"\n                />\n              </ListItem>\n            </Hidden>\n          </List>\n        </Popover>\n\n        <Dialog\n          open={selectOpen}\n          maxWidth=\"xs\"\n          onEntering={this.handleEntering}\n          onClose={this.handleCloseSelect}\n        >\n          <DialogTitle className={classes.title}>\n            <IconButton\n              className={classes.back}\n              onClick={this.handleCloseSelect}\n            >\n              <ArrowBackIcon />\n            </IconButton>\n            请选择一个分类\n          </DialogTitle>\n          <DialogContent className={classes.content}>\n            <RadioGroup\n              ref={ref => {\n                this.radioGroupRef = ref;\n              }}\n              aria-label=\"topicType\"\n              name=\"topicType\"\n              value={publishTab}\n              onChange={this.handleChange}\n            >\n              {topicTypes.map(tab => (\n                <FormControlLabel\n                  key={tab}\n                  value={tab}\n                  label={navTabs[tab].name}\n                  control={<Radio />}\n                />\n              ))}\n            </RadioGroup>\n          </DialogContent>\n        </Dialog>\n      </React.Fragment>\n    );\n  }\n}\n\nEditor.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = ({ auth, editor }) => ({\n  ...auth,\n  ...editor,\n});\n\nexport default compose(\n  withStyles(styles),\n  withRouter,\n  connect(\n    mapStateToProps,\n  ),\n)(Editor);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { compose } from 'redux';\n\nimport { withStyles } from '@material-ui/core/styles';\nimport withWidth, { isWidthDown } from '@material-ui/core/withWidth';\n\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport { MarkdownRender } from '../../Components/Markdown';\n\nconst styles = theme => ({\n  title: {\n    [theme.breakpoints.up('sm')]: {\n      paddingLeft: 36,\n      paddingRight: 36,\n    },\n    '& h6': {\n      position: 'relative',\n      padding: '15px 0',\n      borderBottom: '1px dashed rgba(0, 0, 0, 0.08)',\n    },\n  },\n  close: {\n    position: 'absolute',\n    top: '50%',\n    right: -10,\n    transform: 'translateY(-50%)',\n  },\n  content: {\n    paddingBottom: 36,\n    [theme.breakpoints.up('sm')]: {\n      paddingLeft: 36,\n      paddingRight: 36,\n    },\n  },\n});\n\nclass Preview extends React.Component {\n  handleClose = () => {\n    this.props.onClose();\n  };\n\n  render() {\n    const {\n      classes,\n      width,\n      open,\n      content,\n    } = this.props;\n\n    return (\n      <Dialog\n        open={open}\n        fullWidth\n        maxWidth=\"md\"\n        fullScreen={isWidthDown('xs', width)}\n        onClose={this.handleClose}\n      >\n        <DialogTitle className={classes.title}>\n          预览\n          <IconButton\n            className={classes.close}\n            onClick={this.handleClose}\n          >\n            <CloseIcon />\n          </IconButton>\n        </DialogTitle>\n        <DialogContent className={classes.content}>\n          <MarkdownRender markdownString={content} />\n        </DialogContent>\n      </Dialog>\n    );\n  }\n}\n\nPreview.propTypes = {\n  classes: PropTypes.object.isRequired,\n  width: PropTypes.string.isRequired,\n};\n\nexport default compose(\n  withStyles(styles),\n  withWidth(),\n)(Preview);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport {\n  closeEditor,\n  openNotification,\n} from '../../store/actions';\nimport { topicTypes, matchTab } from '../../common';\nimport { post } from '../../fetch';\n\nimport { withStyles } from '@material-ui/core/styles';\nimport withWidth, { isWidthUp } from '@material-ui/core/withWidth';\n\nimport Slide from '@material-ui/core/Slide';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\n\nimport { MarkdownEditor } from '../../Components/Markdown';\nimport EditorHeader from './EditorHeader';\nimport Preview from './Preview';\n\nconst styles = theme => ({\n  editor: {\n    '& #editor .editor-header': {\n      padding: '24px 0 14px 24px',\n    },\n  },\n  title: {\n    margin: 0,\n    padding: '0 24px 18px',\n  },\n  content: {\n    paddingTop: 0,\n    paddingBottom: 0,\n  },\n  actions: {\n    margin: 0,\n    padding: '10px 24px',\n  },\n  button: {\n    margin: 0,\n    minWidth: 110,\n  },\n  doit: {\n    marginLeft: 16,\n  },\n  cancel: {\n    marginLeft: 0,\n  },\n});\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nclass Editor extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      /**\n       * status\n       * 1 idle\n       * 2 working\n       * 3 success\n       * 4 error\n       */\n      status: 'idle',\n      changed: false,\n      disabled: false,\n      fullScreen: false,\n      publishTab: null,\n      preview: false,\n      tab: null,\n      isOK: false,\n      title: '',\n      content: '',\n    };\n  }\n\n  handlePublishTab = publishTab => {\n    this.setState({ publishTab });\n  };\n\n  handleOpenPreview = () => {\n    const { content } = this.state;\n\n    if (!Boolean(content) || content.trim().length <= 3) {\n      this.props.openNotification({\n        message: '太短了唷。',\n        status: 'info',\n      });\n    } else {\n      this.setState({\n        preview: true,\n      });\n    }\n  };\n\n  handleClosePreview = () => {\n    this.setState({\n      preview: false,\n    });\n  };\n\n  handleFullScreen = () => {\n    this.setState(state => ({\n      fullScreen: !state.fullScreen,\n    }));\n  };\n\n  handleChange = name => event => {\n    let value = event.target.value;\n\n    if (name === 'title') {\n      value = value.replace(/\\n/g, '');\n    }\n\n    this.setState({\n      [name]: value,\n      changed: true,\n    }, () => {\n      this.check();\n    });\n  };\n\n  checkTab = () => {\n    const { publishTab } = this.state;\n    const { action } = this.props;\n\n    if (/(reply)/.test(action)) {\n      return true;\n    }\n\n    const result = topicTypes.includes(publishTab);\n\n    if (!result) {\n      this.props.openNotification({\n        message: '请选择一个主题分类',\n        status: 'error',\n      });\n    }\n\n    return result;\n  };\n\n  checkTitle = () => {\n    const { title } = this.state;\n    const { action } = this.props;\n\n    return (\n      /(reply)/.test(action)\n        ? true\n        : typeof title === 'string'\n          ? title.length >= 5\n          : false\n    );\n  };\n\n  checkContent = () => {\n    const { content } = this.state;\n    return (\n      typeof content === 'string'\n        ? content.length >= 3\n        : false\n    );\n  };\n\n  check = () => {\n    const isOK = this.checkTitle() && this.checkContent();\n\n    this.setState({ isOK });\n\n    return isOK;\n  };\n\n  handleSubmit = () => {\n    const { isOK } = this.state;\n\n    if (!isOK || !this.checkTab()) {\n      return;\n    }\n\n    const {\n      action,\n      url,\n      reply_id,\n      topic_id,\n      accesstoken,\n    } = this.props;\n\n    const {\n      title,\n      publishTab: tab,\n      content,\n    } = this.state;\n\n    const params = {\n      accesstoken,\n      tab: tab || undefined,\n      title,\n      content,\n      reply_id,\n      topic_id,\n    };\n\n    this.setState({\n      status: 'working',\n      disabled: true,\n    }, async () => {\n      const { success, err_msg, data } = await post({ url, params });\n\n      this.setState({\n        status: success ? 'success' : 'error',\n        disabled: false,\n      }, () => {\n        success && this.handleClose({\n          action,\n          request: { ...params },\n          response: { ...data },\n        });\n      });\n\n      const message = success\n        ? action === 'create'\n          ? '发布成功 ^_^'\n          : action === 'update'\n            ? '更新成功 ^_^'\n            : action === 'reply'\n              ? '回复成功 ^_^'\n              : '无效操作'\n        : {\n          status: 'error',\n          message: err_msg\n            ? err_msg\n            : action === 'create'\n              ? '发布失败 :('\n              : action === 'update'\n                ? '更新失败 :('\n                : action === 'reply'\n                  ? '回复失败 :('\n                  : '无效操作',\n        };\n\n      this.props.openNotification(message);\n    });\n  };\n\n  handlePreClose = () => {\n    const { open } = this.props;\n    open && this.handleClose();\n  };\n\n  handleClose = (result = {}) => {\n    const { disabled } = this.state;\n    const { response } = result;\n\n    this.handleClosePreview();\n    !disabled && this.props.closeEditor(response ? result : {});\n  };\n\n  componentWillMount() {\n    const tab = matchTab(this.props.location);\n\n    this.setState({\n      tab,\n    }, () => {\n      this.check();\n    });\n  }\n\n  componentWillUnmount() {\n    this.handlePreClose();\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const {\n      pathname: nextPathname,\n      search: nextSearch,\n    } = nextProps.location;\n\n    const {\n      pathname: prevPathname,\n      search: prevSearch,\n    } = this.props.location;\n\n    const { title, content } = nextProps;\n\n    if (`${nextPathname}${nextSearch}` === `${prevPathname}${prevSearch}`) {\n      this.setState({\n        title,\n        content,\n      }, () => {\n        this.check();\n      });\n    } else {\n      this.handlePreClose();\n    }\n  }\n\n  render() {\n    const {\n      classes,\n      width,\n      open,\n      action,\n      isAuthed,\n    } = this.props;\n\n    const {\n      disabled,\n      preview,\n      fullScreen,\n      isOK,\n      tab,\n      title,\n      content,\n     } = this.state;\n\n    return (isAuthed &&\n      <React.Fragment>\n        <Dialog\n          className={classes.editor}\n          PaperProps={{id: 'editor'}}\n          open={open}\n          onClose={this.handleClose}\n          TransitionComponent={Transition}\n          maxWidth=\"sm\"\n          fullWidth\n          fullScreen={!isWidthUp('sm', width) || fullScreen}\n          keepMounted={!isWidthUp('sm', width)}\n        >\n          <EditorHeader\n            disabled={disabled}\n            onPublishTab={this.handlePublishTab}\n            onPreview={this.handleOpenPreview}\n            fullScreen={fullScreen}\n            onFullScreen={this.handleFullScreen}\n          />\n          {/(create)|(update)/.test(action) &&\n            <TextField\n              className={classes.title}\n              margin=\"normal\"\n              multiline\n              rows=\"1\"\n              rowsMax=\"3\"\n              autoFocus\n              fullWidth\n              placeholder=\"标题...\"\n              value={title}\n              disabled={disabled}\n              onChange={this.handleChange('title')}\n            />\n          }\n          <DialogContent className={classNames('flex', classes.content)}>\n            <MarkdownEditor\n              disabled={disabled}\n              content={content}\n              autoFocus={tab === null}\n              onUpdateContent={this.handleChange('content')}\n            />\n          </DialogContent>\n          <DialogActions className={classes.actions}>\n            <Button\n              className={classNames(classes.button, classes.cancel)}\n              onClick={this.handleClose}\n              disabled={disabled}\n              color=\"default\"\n              size=\"large\"\n            >\n              取消\n            </Button>\n            <Button\n              className={classNames(classes.button, classes.doit)}\n              variant=\"contained\"\n              onClick={this.handleSubmit}\n              disabled={!isOK || disabled}\n              color=\"primary\"\n              size=\"large\"\n            >\n              {action === 'create' ? (\n                '发布'\n              ) : action === 'update' ? (\n                '更新'\n              ) : (\n                '回复'\n              )}\n            </Button>\n          </DialogActions>\n        </Dialog>\n\n        <Preview\n          open={preview}\n          content={content}\n          onClose={this.handleClosePreview}\n        />\n      </React.Fragment>\n    );\n  }\n}\n\nEditor.propTypes = {\n  classes: PropTypes.object.isRequired,\n  width: PropTypes.string.isRequired,\n  action: PropTypes.oneOf(['create', 'update', 'reply']),\n};\n\nconst mapStateToProps = ({ auth, editor }) => ({\n  ...auth,\n  ...editor,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  closeEditor: data => {\n    dispatch(closeEditor(data));\n  },\n  openNotification: message => {\n    dispatch(openNotification(message));\n  },\n});\n\nexport default compose(\n  withStyles(styles),\n  withWidth(),\n  withRouter,\n  connect(\n    mapStateToProps,\n    mapDispatchToProps,\n  ),\n)(Editor);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Helmet } from 'react-helmet';\nimport {\n  matchTab,\n  getNewDataCreate,\n} from '../../common';\nimport { get as getData } from '../../fetch';\n\nimport Layout from '../../Layout';\nimport TopicList from '../../Components/TopicList';\nimport Progress from '../../Components/Progress';\nimport ActionDial from '../../Components/ActionDial';\nimport Notification from '../../Components/Notification';\nimport Editor from '../../Components/Editor';\n\nclass Home extends React.Component {\n  state = {\n    status: 'idle',\n    tab: 'all',\n    page: 1,\n    limit: 20,\n    mdrender: true,\n    items: [],\n  };\n\n  fetchTopics = async () => {\n    const {\n      tab,\n      page,\n      limit,\n      mdrender,\n    } = this.state;\n\n    const params = {\n      url: '/topics',\n      params: {\n        tab,\n        page,\n        limit,\n        mdrender,\n      },\n    };\n\n    const { success, data } = await getData(params);\n\n    if (success) {\n      this.setState(state => ({\n        status: 'success',\n        page: (state.page + 1),\n        items: [...state.items, data],\n      }), () => {\n        this.setState({ status: 'idle' });\n      });\n    } else {\n      this.setState({ status: 'error' });\n    }\n  };\n\n  fetchData = () => {\n    if (/idle|error/.test(this.state.status)) {\n      this.setState({\n        status: 'loading',\n      }, () => {\n        this.fetchTopics();\n      });\n    }\n  };\n\n  handleScroll = () => {\n    const threshold = 20;\n    const windowHeight = window.innerHeight;\n    const documentHeight = document.body.offsetHeight;\n    const scrollHeight = document.documentElement.scrollTop || document.body.scrollTop;\n\n    if (documentHeight - (windowHeight + scrollHeight) <= threshold) {\n      this.fetchData();\n    }\n  };\n\n  componentWillMount() {\n    const tab = matchTab(this.props.location);\n    this.setState({ tab });\n  }\n\n  componentDidMount() {\n    document.addEventListener('scroll', this.handleScroll);\n    this.fetchData();\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('scroll', this.handleScroll, false);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const nextSearch = nextProps.location.search;\n    const prevSearch = this.props.location.search;\n    const nextTab = matchTab(nextProps.location);\n\n    if (nextSearch !== prevSearch) {\n      this.setState({\n        status: 'idle',\n        tab: nextTab,\n        page: 1,\n        items: [],\n      }, () => {\n        this.fetchData();\n      });\n    }\n\n    const newDataCreate = getNewDataCreate(nextProps);\n\n    if (Boolean(newDataCreate)) {\n      const { tab } = this.state;\n      const { tab: publishTab } = newDataCreate;\n\n      [publishTab, 'all'].includes(tab) && this.setState(state => ({\n        items: [\n          [{\n            ...newDataCreate,\n          }],\n          ...state.items,\n        ],\n      }));\n    }\n  }\n\n  render() {\n    const { items, status } = this.state;\n\n    return (\n      <Layout>\n        <Helmet title=\"RCNode\" />\n\n        <div id=\"container\">\n          <div className=\"wrapper\">\n            <TopicList items={items} />\n          </div>\n\n          <div className=\"status wrapper\">\n            <Progress status={status} />\n          </div>\n        </div>\n\n        <ActionDial single />\n        <Editor />\n        <Notification />\n      </Layout>\n    );\n  }\n}\n\nconst mapStateToProps = ({ auth, editor }) => ({\n  ...auth,\n  ...editor,\n});\n\nexport default connect(\n  mapStateToProps,\n)(Home);\n","const getNewDataCreate = props => {\n  const {\n    open,\n    action,\n    response,\n    request,\n    uid,\n    uname,\n    avatar,\n  } = props;\n\n  if (!open && response && action === 'create') {\n    const { tab, title, content } = request;\n    const { topic_id: id } = response;\n    const dtime = new Date();\n\n    return {\n      author: {\n        loginname: uname,\n        avatar_url: avatar,\n      },\n      author_id: uid,\n      id,\n      tab,\n      title,\n      content,\n      create_at: dtime,\n      last_reply_at: dtime,\n      reply_count: 0,\n      visit_count: 0,\n      good: false,\n      top: false,\n    };\n  }\n};\n\nconst getNewDataUpdate = props => {\n  const {\n    open,\n    action,\n    request,\n    response,\n  } = props;\n\n  if (!open && response && action === 'update') {\n    const { tab, title, content } = request;\n\n    return { tab, title, content };\n  }\n};\n\nconst getNewDataReply = props => {\n  const {\n    open,\n    action,\n    response,\n    request,\n    uname,\n    avatar,\n    ...other\n  } = props;\n\n  if (!open && response && action === 'reply') {\n    const { content, reply_id } = request;\n    const { reply_id: id } = response;\n    const { topic_id } = other.match.params;\n\n    return {\n      author: {\n        loginname: uname,\n        avatar_url: avatar,\n      },\n      id,\n      ups: [],\n      is_uped: false,\n      create_at: new Date(),\n      content,\n      reply_id: reply_id !== topic_id ? reply_id : null,\n    };\n  }\n};\n\nexport {\n  getNewDataCreate,\n  getNewDataUpdate,\n  getNewDataReply,\n};\n","import React from 'react';\nimport classNames from 'classnames';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withRouter, Link } from 'react-router-dom';\nimport {\n  openShare,\n  openEditor,\n  openNotification,\n} from '../../store/actions';\nimport { post as POST } from '../../fetch';\n\nimport Grid from '@material-ui/core/Grid';\nimport Avatar from '@material-ui/core/Avatar';\nimport IconButton from '@material-ui/core/IconButton';\nimport ReplyIcon from '@material-ui/icons/Reply';\nimport ThumbUpIcon from '@material-ui/icons/ThumbUpAlt';\nimport ThumbUpCancelIcon from '@material-ui/icons/ThumbUpAltOutlined';\nimport SortIcon from '@material-ui/icons/Sort';\n\nimport { MarkdownRender } from '../../Components/Markdown';\nimport Moment from '../../Components/Moment';\n\nclass TopicReply extends React.Component {\n  constructor(props) {\n    super(props);\n\n    const { topic_id } = props.match.params;\n    const { author, index } = props;\n    const {\n      author: {\n        loginname: uname,\n        avatar_url: avatar,\n      },\n      is_uped: isUped,\n      ...other\n    } = props.item;\n\n    this.state = {\n      author,\n      topic_id,\n      post: index + 1,\n      uname,\n      avatar,\n      isUped,\n      ...other,\n      ups: other.ups.length,\n      URL: '',\n    };\n  }\n\n  handleReply = () => {\n    const {\n      topic_id,\n      uname,\n      id,\n    } = this.state;\n    const config = {\n      action: 'reply',\n      url: `/topic/${topic_id}/replies`,\n      reply_id: id,\n      content: `@${uname} `,\n    };\n\n    this.props.openEditor(config);\n  };\n\n  handleUp = async () => {\n    if (!this.props.isAuthed) {\n      this.props.openNotification('登录后才能 👍 哟~');\n      return;\n    }\n\n    const {\n      accesstoken,\n      uname: signedUname,\n    } = this.props;\n\n    let {\n      id,\n      uname,\n      isUped,\n      ups,\n    } = this.state;\n\n    const params = {\n      url: `/reply/${id}/ups`,\n      params: { accesstoken },\n    };\n\n    if (uname === signedUname) {\n      this.props.openNotification('不能 👍 自己的哟~');\n    } else {\n      const { success, err_msg } = await POST(params);\n\n      if (success) {\n        this.setState({\n          isUped: !isUped,\n          ups: isUped ? (--ups) : (++ups),\n        });\n      } else if (err_msg) {\n        this.props.openNotification({\n          message: err_msg,\n          status: 'error',\n        });\n      }\n    }\n  };\n\n  handleShare = () => {\n    const { id, post, URL } = this.state;\n\n    this.props.openShare({\n      url: `${URL}#${id}`,\n      post,\n    });\n  };\n\n  componentDidMount() {\n    const { origin, pathname } = window.location;\n\n    this.setState({\n      URL: `${origin}${pathname}`,\n    });\n  }\n\n  render() {\n    const {\n      isAuthed,\n      location: {\n        hash = '',\n      },\n    } = this.props;\n    const {\n      author,\n      id,\n      post,\n      uname,\n      avatar,\n      isUped,\n      ups,\n      create_at,\n      content,\n    } = this.state;\n\n    return (\n      <div className={classNames('topic-reply', {\n        'hilite': hash === `#${id}`,\n        'owned': uname === author,\n      })}>\n        <div className=\"reply-content\">\n          <Grid container wrap=\"nowrap\" className=\"reply-header\">\n            <Avatar aria-label=\"Recipe\" className=\"reply-avatar\">\n              <Link to={uname ? `/user/${uname}` : '/'}>\n                {avatar &&\n                  <img\n                    src={avatar}\n                    alt={uname || '用户已注销'}\n                  />\n                }\n              </Link>\n            </Avatar>\n\n            <Grid container item zeroMinWidth wrap=\"nowrap\" className=\"reply-attrs\">\n              <Grid container wrap=\"nowrap\" className=\"group\">\n                <Grid container item zeroMinWidth wrap=\"nowrap\" className=\"uname-text\">\n                  <Grid item zeroMinWidth>\n                    <Link\n                      className=\"uname\"\n                      to={uname ? `/user/${uname}` : '/'}\n                    >\n                      {uname ? uname : '用户已注销'}\n                    </Link>\n                  </Grid>\n                  {uname === author &&\n                    <Grid item className=\"text\">\n                      [作者]\n                    </Grid>\n                  }\n                </Grid>\n                <Grid item className=\"time\">\n                  <span>回复于</span>\n                  <Moment fromNow>{create_at}</Moment>\n                </Grid>\n              </Grid>\n            </Grid>\n\n            <Grid item className=\"reply-actions\">\n              {isAuthed &&\n                <IconButton\n                  className=\"action reply\"\n                  onClick={this.handleReply}\n                >\n                  <ReplyIcon />\n                </IconButton>\n              }\n              <IconButton\n                className=\"action up\"\n                onClick={this.handleUp}\n              >\n                {isUped ? (\n                  <ThumbUpIcon />\n                ) : (\n                  <ThumbUpCancelIcon />\n                )}\n              </IconButton>\n              {Boolean(ups) &&\n                <span className=\"num\">{ups}</span>\n              }\n              <IconButton\n                className=\"action post\"\n                id={`#${id}`}\n                onClick={this.handleShare}\n              >\n                <SortIcon />\n              </IconButton>\n              <span className=\"num\">{post}</span>\n            </Grid>\n          </Grid>\n\n          <div className=\"markdown-container\">\n            <MarkdownRender markdownString={content} />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = ({ auth }) => ({\n  ...auth,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  openShare: url => {\n    dispatch(openShare(url));\n  },\n  openEditor: config => {\n    dispatch(openEditor(config));\n  },\n  openNotification: message => {\n    dispatch(openNotification(message));\n  },\n});\n\nexport default compose(\n  withRouter,\n  connect(\n    mapStateToProps,\n    mapDispatchToProps,\n  ),\n)(TopicReply);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport {\n  closeZoom,\n  openShare,\n} from '../../store/actions';\n\nimport { withStyles } from '@material-ui/core/styles';\nimport withWidth, { isWidthDown } from '@material-ui/core/withWidth';\n\nimport Grid from '@material-ui/core/Grid';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport Fade from '@material-ui/core/Fade';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport IconButton from '@material-ui/core/IconButton';\nimport Button from '@material-ui/core/Button';\nimport CloseIcon from '@material-ui/icons/Close';\nimport ShareIcon from '@material-ui/icons/Share';\nimport ZoomInIcon from '@material-ui/icons/Add';\nimport ZoomOutIcon from '@material-ui/icons/Remove';\nimport ZoomResetIcon from '@material-ui/icons/Search';\n\nconst styles = theme => ({\n  fill: {\n    flex: 1,\n  },\n  backdrop: {\n    backgroundColor: 'rgba(255,255,255,.85)',\n  },\n  actions: {\n    position: 'fixed',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    zIndex: 1,\n    top: 0,\n    left: 0,\n    right: 0,\n    height: 56,\n    padding: '0 18px',\n    backgroundColor: '#fff',\n    boxShadow: '0 0 1px rgba(0,0,0,.03), 0 0 2px rgba(0,0,0,.08)',\n    [theme.breakpoints.up('sm')]: {\n      height: 64,\n      padding: '0 24px',\n    },\n  },\n  container: {\n    display: 'flex',\n    margin: 0,\n    paddingTop: 56,\n    width: '100%',\n    height: '100%',\n    maxWidth: 'none',\n    maxHeight: 'none',\n    backgroundColor: 'transparent',\n    boxShadow: 'none',\n    userSelect: 'none',\n    outline: 'none',\n    borderRadius: 0,\n    [theme.breakpoints.up('sm')]: {\n      paddingTop: 64,\n    },\n  },\n  content: {\n    display: 'flex',\n    padding: 0,\n  },\n  wrap: {\n    position: 'relative',\n    display: 'flex',\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    overflow: 'hidden',\n    outline: 'none',\n  },\n  loading: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    marginTop: -20,\n    marginLeft: -20,\n  },\n  box: {\n    position: 'relative',\n    opacity: 0,\n    transform: 'scale(.9)',\n    transition: 'transform .15s cubic-bezier(0,0,.2,1), opacity 85ms linear 65ms',\n    '&.ready': {\n      opacity: 1,\n      transform: 'none',\n      transitionDuration: '.18s, 85ms',\n      transitionDelay: '0s, 0s',\n    },\n  },\n  target: {\n    display: 'block',\n    position: 'relative',\n    transition: 'transform .3s cubic-bezier(.4,0,.2,1)',\n    boxShadow: ' 0 2px 6px rgba(0,0,0,.16), 0 1px 4px rgba(0,0,0,.03)',\n    cursor: 'default',\n    '&.drag-enabled': {\n      cursor: 'grab',\n      '&.drag-active': {\n        cursor: 'grabbing',\n        transition: 'none',\n      },\n    },\n  },\n  zoom: {\n    position: 'fixed',\n    display: 'flex',\n    flexWrap: 'nowrap',\n    padding: '0 8px',\n    left: 30,\n    bottom: 32,\n    borderRadius: 22,\n    overflow: 'hidden',\n    backgroundColor: '#fff',\n    boxShadow: '0 0 2px rgba(0,0,0,.1), 0 2px 5px rgba(0,0,0,.16)',\n    zIndex: 1,\n  },\n  btn: {\n    padding: 10,\n    minWidth: 44,\n    borderRadius: 0,\n  },\n});\n\nconst defaultState = {\n  // translate position\n  x: 0,\n  y: 0,\n  // drag start position\n  sX: 0,\n  sY: 0,\n  // drag move position\n  mX: 0,\n  mY: 0,\n  scale: 1,\n  scaleLevel: 1,\n  scaleLevels: [ .68, 1, 1.38, 2, 3.21, 4.96 ],\n  spacings: 16,\n  dragSpacings: 50,\n  disabledUp: false,\n  disabledDown: false,\n  disabledReset: true,\n  dragEnabled: false,\n  dragActive: false,\n  // image loaded\n  ready: false,\n};\n\nclass ImageZoom extends React.Component {\n  state = defaultState;\n\n  handleClick = event => {\n    const { target } = event;\n    const { ready } = this.state;\n\n    if (!ready || target === this.wrap || target === this.box) {\n      this.handleClose();\n    }\n  };\n\n  handleShare = () => {\n    const url = this.zoomTarget.src;\n    this.props.openShare(url);\n  };\n\n  handlePreClose = () => {\n    const { open } = this.props;\n    open && this.handleClose();\n  };\n\n  handleClose = () => {\n    this.props.closeZoom();\n  };\n\n  resetState = () => {\n    this.setState({ ...defaultState });\n  };\n\n  getDragThreshold = () => {\n    const {\n      scale,\n      dragSpacings,\n      initialWidth,\n      initialHeight,\n      wrapWidth,\n      wrapHeight,\n      maxWidth,\n      maxHeight,\n    } = this.state;\n\n    const currentWidth = initialWidth * scale;\n    const currentHeight = initialHeight * scale;\n\n    const tX = currentWidth > maxWidth\n               ? Math.max(0, (currentWidth - wrapWidth) / 2 + dragSpacings)\n               : 0;\n    const tY = currentHeight > maxHeight\n               ? Math.max(0, (currentHeight - wrapHeight) / 2 + dragSpacings)\n               : 0;\n\n    return { tX, tY };\n  };\n\n  getTransform = () => {\n    let {\n      x,\n      y,\n      sX,\n      sY,\n      mX,\n      mY,\n    } = this.state;\n\n    const { tX, tY } = this.getDragThreshold();\n\n    x += mX - sX;\n    y += mY - sY;\n\n    x = Math.min(tX, Math.max(-tX, x));\n    y = Math.min(tY, Math.max(-tY, y));\n\n    return { x, y };\n  };\n\n  updateTransform = () => {\n    const { scale } = this.state;\n    const { x, y } = this.getTransform();\n    const transform = `translate(${x}px, ${y}px) scale(${scale})`;\n    this.zoomTarget.style.transform = transform;\n  };\n\n  resetTransform = () => {\n    const { x, y, scale } = defaultState;\n    const transform = `translate(${x}px, ${y}px) scale(${scale})`;\n    this.zoomTarget.style.transform = transform;\n  };\n\n  updateDragStatus = () => {\n    const {\n      scale,\n      initialWidth,\n      initialHeight,\n      maxWidth,\n      maxHeight,\n    } = this.state;\n\n    const currentWidth = initialWidth * scale;\n    const currentHeight = initialHeight * scale;\n\n    const dragEnabled = currentWidth > maxWidth || currentHeight > maxHeight;\n\n    this.setState({ dragEnabled });\n  };\n\n  getEventPosition = event => {\n    const { isTouch } = this.state;\n    const x = isTouch ? event.touches[0].pageX : event.clientX;\n    const y = isTouch ? event.touches[0].pageY : event.clientY;\n\n    return { x, y };\n  };\n\n  dragStart = event => {\n    event.preventDefault();\n\n    if (!this.state.dragEnabled) { return; }\n\n    const { x, y } = this.getEventPosition(event);\n\n    this.setState({\n      sX: x,\n      sY: y,\n      mX: x,\n      mY: y,\n      dragActive: true,\n    });\n  };\n\n  dragActive = event => {\n    event.preventDefault();\n\n    if (!this.state.dragActive) { return; }\n\n    const { x, y } = this.getEventPosition(event);\n\n    this.setState({\n      mX: x,\n      mY: y,\n    }, () => {\n      this.updateTransform();\n    });\n  };\n\n  dragEnd = event => {\n    event.preventDefault();\n\n    if (!this.state.dragActive) { return; }\n\n    const { x, y } = this.getTransform();\n\n    this.setState({\n      x,\n      y,\n      dragActive: false,\n    });\n  };\n\n  bindEvents = () => {\n    const { isTouch } = this.state;\n\n    const eStart = isTouch ? 'touchstart' : 'mousedown';\n    const eMove = isTouch ? 'touchmove' : 'mousemove';\n    const eEnd = isTouch ? 'touchend' : 'mouseup';\n    const eCancel = isTouch ? 'touchcancel' : 'mouseleave';\n\n    this.zoomTarget.addEventListener(eStart, this.dragStart);\n    this.zoomTarget.addEventListener(eMove, this.dragActive);\n    this.zoomTarget.addEventListener(eEnd, this.dragEnd);\n    this.zoomTarget.addEventListener(eCancel, this.dragEnd);\n  };\n\n  setViewport = () => {\n    const viewport = document.head.querySelector('meta[name=\"viewport\"]');\n    const content = viewport.content;\n    const scalable = 'user-scalable=no';\n\n    viewport.content = `${content}, ${scalable}`;\n\n    this.setState({\n      viewport,\n      content,\n    });\n  };\n\n  resetViewport = () => {\n    const { viewport, content } = this.state;\n    viewport && (viewport.content = content);\n  };\n\n  initState = () => {\n    const isTouch = 'ontouchstart' in window;\n\n    const { spacings } = defaultState;\n    const { naturalWidth, naturalHeight } = this.zoomTarget;\n\n    const wrapWidth = this.wrap.clientWidth;\n    const wrapHeight = this.wrap.clientHeight;\n\n    const maxWidth = wrapWidth - 2 * spacings;\n    const maxHeight = wrapHeight - 2 * spacings;\n\n    let initialHeight = naturalHeight;\n\n    if (naturalWidth > maxWidth) {\n      initialHeight *= maxWidth / naturalWidth;\n    }\n\n    if (initialHeight > maxHeight) {\n      initialHeight = maxHeight;\n    }\n\n    const initialWidth = naturalWidth * initialHeight / naturalHeight;\n\n    this.setState({\n      ...defaultState,\n      initialWidth,\n      initialHeight,\n      naturalWidth,\n      naturalHeight,\n      wrapWidth,\n      wrapHeight,\n      maxWidth,\n      maxHeight,\n      isTouch,\n      ready: true,\n    }, () => {\n      this.setViewport();\n      this.bindEvents();\n    });\n  };\n\n  zoomInit = () => {\n    if (this.zoomTarget.complete) {\n      this.initState();\n    } else {\n      this.zoomTarget.addEventListener('load', this.initState);\n    }\n  };\n\n  zoomExit = () => {\n    this.resetState();\n    this.resetViewport();\n    this.resetTransform();\n  };\n\n  handleZoom = action => event => {\n    let {\n      scale,\n      scaleLevel,\n      scaleLevels,\n      disabledUp,\n      disabledDown,\n      disabledReset,\n    } = this.state;\n\n    const baseScaleLevel = 1;\n    const minScaleLevel = 0;\n    const maxScaleLevel = scaleLevels.length - 1;\n\n    switch (action) {\n      case 'init':\n        this.zoomInit();\n        return;\n      case 'up':\n        scaleLevel++;\n        break;\n      case 'down':\n        scaleLevel--;\n        break;\n      case 'reset':\n        scaleLevel = baseScaleLevel;\n        break;\n      default:\n        this.zoomExit();\n        return;\n    }\n\n    scaleLevel = Math.min(\n      Math.max(scaleLevel, minScaleLevel),\n      maxScaleLevel\n    );\n\n    scale = scaleLevels[scaleLevel];\n    disabledUp = scaleLevel === maxScaleLevel;\n    disabledDown = scaleLevel === minScaleLevel;\n    disabledReset = scaleLevel === baseScaleLevel;\n\n    this.setState(state => ({\n      ...defaultState,\n      scale,\n      scaleLevel,\n      disabledUp,\n      disabledDown,\n      disabledReset,\n      ready: state.ready,\n    }), () => {\n      this.updateDragStatus();\n      this.updateTransform();\n    });\n  };\n\n  componentWillUnmount() {\n    this.handlePreClose();\n  }\n\n  render() {\n    const {\n      classes,\n      width,\n      open,\n      src,\n    } = this.props;\n\n    const {\n      initialHeight = 'auto',\n      disabledUp,\n      disabledDown,\n      disabledReset,\n      dragEnabled,\n      dragActive,\n      ready,\n    } = this.state;\n\n    return (\n      <Dialog\n        open={open}\n        fullWidth\n        maxWidth={false}\n        onClose={this.handleClose}\n        onEnter={this.handleZoom('init')}\n        onExited={this.handleZoom('exit')}\n        BackdropProps={{ className: classes.backdrop }}\n        PaperProps={{ className: classes.container }}\n        keepMounted={isWidthDown('xs', width)}\n      >\n        <Grid className={classes.actions}>\n          <Grid className={classes.fill}>\n            <IconButton\n              className={classes.close}\n              onClick={this.handleClose}\n            >\n              <CloseIcon />\n            </IconButton>\n          </Grid>\n          <IconButton\n            className={classes.share}\n            onClick={this.handleShare}\n            disabled={!ready}\n          >\n            <ShareIcon />\n          </IconButton>\n        </Grid>\n        <DialogContent className={classes.content}>\n          <div\n            ref={ref => this.wrap = ref}\n            className={classes.wrap}\n            onClick={this.handleClick}\n            onKeyUp={() => {}}\n            role=\"grid\"\n            tabIndex=\"-1\"\n          >\n            <Fade\n              in={!ready}\n              className={classes.loading}\n            >\n              <CircularProgress />\n            </Fade>\n            <div\n              ref={ref => this.box = ref}\n              className={classNames(classes.box, {\n                'ready': ready,\n              })}\n            >\n              <img\n                ref={ref => this.zoomTarget = ref}\n                className={classNames(classes.target, {\n                  'drag-enabled': dragEnabled,\n                  'drag-active': dragActive,\n                })}\n                style={{ height: initialHeight }}\n                src={src}\n                alt=\"zoom\"\n              />\n            </div>\n          </div>\n          <Grid className={classes.zoom}>\n            <Button\n              className={classes.btn}\n              disabled={disabledDown || !ready}\n              onClick={this.handleZoom('down')}\n            >\n              <ZoomOutIcon />\n            </Button>\n            <Button\n              className={classes.btn}\n              disabled={disabledReset || !ready}\n              onClick={this.handleZoom('reset')}\n            >\n              <ZoomResetIcon />\n            </Button>\n            <Button\n              className={classes.btn}\n              disabled={disabledUp || !ready}\n              onClick={this.handleZoom('up')}\n            >\n              <ZoomInIcon />\n            </Button>\n          </Grid>\n        </DialogContent>\n      </Dialog>\n    );\n  }\n}\n\nImageZoom.propTypes = {\n  classes: PropTypes.object.isRequired,\n  width: PropTypes.string.isRequired,\n  src: PropTypes.string,\n};\n\nconst mapStateToProps = ({ zoom }) => ({\n  ...zoom,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  closeZoom: () => {\n    dispatch(closeZoom());\n  },\n  openShare: url => {\n    dispatch(openShare(url));\n  },\n});\n\nexport default compose(\n  withStyles(styles),\n  withWidth(),\n  connect(\n    mapStateToProps,\n    mapDispatchToProps,\n  ),\n)(ImageZoom);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { closeShare } from '../../store/actions';\n\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport TextField from '@material-ui/core/TextField';\nimport copy from 'clipboard-copy';\n\nconst styles = theme => ({\n  paper: {\n    margin: 10,\n    width: 'calc(100% - 20px)',\n    maxWidth: process.env.NODE_ENV === 'production' ? 615 : 540,\n  },\n  content: {\n    padding: 24,\n    display: 'flex',\n    flexWrap: 'nowrap',\n    alignItems: 'flex-end',\n  },\n  button: {\n    marginLeft: 16,\n    padding: '4px 10px',\n  },\n});\n\nclass ShareDialog extends React.Component {\n  handlePreClose = () => {\n    const { open } = this.props;\n    open && this.handleClose();\n  };\n\n  handleClose = () => {\n    this.props.closeShare();\n  };\n\n  handleCopy = async () => {\n    try {\n      await copy(this.props.url);\n    } finally {\n      this.handleClose();\n    }\n  };\n\n  getLabel = () => {\n    let { post } = this.props;\n\n    post = Boolean(post)\n            ? ` - #${post}`\n            : '';\n\n    return `分享链接${post}：`;\n  };\n\n  componentWillUnmount() {\n    this.handlePreClose();\n  }\n\n  render() {\n    const { classes, url, open } = this.props;\n\n    return (\n      <Dialog\n        open={open}\n        onClose={this.handleClose}\n        classes={{\n          paper: classes.paper,\n        }}\n      >\n        <DialogContent className={classes.content}>\n          <TextField\n            inputProps={{ readOnly: true }}\n            label={`${this.getLabel()}`}\n            value={url}\n            fullWidth\n          />\n          <Button\n            className={classes.button}\n            onClick={this.handleCopy}\n            variant=\"outlined\"\n            size=\"small\"\n            autoFocus\n          >\n            复制\n          </Button>\n        </DialogContent>\n      </Dialog>\n    );\n  }\n}\n\nShareDialog.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nconst mapStateTopProps = ({ share }) => ({\n  ...share,\n});\n\nconst mapDispatchTopProps = dispatch => ({\n  closeShare: () => {\n    dispatch(closeShare());\n  },\n});\n\nexport default compose(\n  withStyles(styles),\n  connect(\n    mapStateTopProps,\n    mapDispatchTopProps,\n  ),\n)(ShareDialog);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { Helmet } from 'react-helmet';\nimport {\n  navTabsObject as navTabs,\n  getNewDataUpdate,\n  getNewDataReply,\n} from '../../common';\nimport { get as getData } from '../../fetch';\n\nimport withWidth, { isWidthDown } from '@material-ui/core/withWidth';\n\nimport Fade from '@material-ui/core/Fade';\nimport Hidden from '@material-ui/core/Hidden';\nimport Typography from '@material-ui/core/Typography';\nimport CreateIcon from '@material-ui/icons/Create';\nimport ViewIcon from '@material-ui/icons/LocalLibrary';\nimport TagIcon from '@material-ui/icons/LocalOffer';\n\nimport Layout from '../../Layout';\nimport TopicReply from './TopicReply';\nimport { MarkdownRender } from '../../Components/Markdown';\nimport ImageZoom from '../../Components/ImageZoom';\nimport Progress from '../../Components/Progress';\n\nimport Avatar from '../../Components/Avatar';\nimport Editor from '../../Components/Editor';\nimport ActionDial from '../../Components/ActionDial';\nimport ShareDialog from '../../Components/ShareDialog';\nimport Notification from '../../Components/Notification';\nimport Moment from '../../Components/Moment';\nimport { scroller } from 'react-scroll';\nimport './topic.styl';\n\nclass Topic extends React.Component {\n  constructor(props) {\n    super(props);\n\n    const { topic_id } = props.match.params;\n\n    this.state = {\n      status: 'loading',\n      topic_id,\n      mdrender: false,\n      data: undefined,\n      shareURL: undefined,\n      topicData: undefined,\n    };\n  }\n\n  timer = null;\n\n  scrollTo = target => {\n    scroller.scrollTo(target, {\n      duration: 500,\n      smooth: 'easeInOutQuart',\n      offset: -(64 + 10 + 18 / 2 + 1),\n    });\n  };\n\n  fetchData = async () => {\n    const { topic_id, mdrender } = this.state;\n    const { accesstoken } = this.props;\n    const params = {\n      url: `/topic/${topic_id}`,\n      params: { mdrender, accesstoken },\n    };\n\n    const { success, data, err_msg } = await getData(params);\n\n    if (success) {\n      const {\n        author: { loginname: uname },\n        is_collect,\n        tab,\n        title,\n        content,\n      } = data;\n\n      this.setState({\n        status: 'success',\n        data,\n        topicData: {\n          uname,\n          tab,\n          title,\n          content,\n          topic_id,\n          is_collect,\n        },\n      }, () => {\n        const { hash } = this.props.location;\n\n        if (Boolean(hash)) {\n          clearTimeout(this.timer);\n          this.timer = setTimeout(() => {\n            this.scrollTo(hash);\n          }, 300);\n        }\n      });\n    } else {\n      this.setState({\n        status: 'error',\n        err_msg,\n      });\n    }\n  };\n\n  componentDidMount() {\n    this.fetchData();\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const newDataReply = getNewDataReply(nextProps);\n    newDataReply && this.setState(state => ({\n      data: {\n        ...state.data,\n        replies: [\n          ...state.data.replies,\n          newDataReply,\n        ],\n      },\n    }));\n\n    const newDataUpdate = getNewDataUpdate(nextProps);\n    newDataUpdate && this.setState(state => ({\n      data: {\n        ...state.data,\n        ...newDataUpdate,\n      },\n    }));\n  }\n\n  componentWillUnmount() {\n    clearTimeout(this.timer);\n  }\n\n  render() {\n    const {\n      data,\n      status,\n      err_msg,\n      topicData,\n    } = this.state;\n\n    const { width } = this.props;\n\n    return (\n      <Layout>\n        <Helmet\n          title={status === 'success' ? data.title : 'RCNode'}\n          bodyAttributes={{\n            class: classNames('topic-view', {\n              'error-tips': status === 'error',\n              'zero-spacings': isWidthDown('xs', width),\n            }),\n          }}\n        />\n\n        <div id=\"container\">\n          <Fade in={status === 'error'}>\n            <div className=\"wrapper tips error\">\n              {err_msg}\n            </div>\n          </Fade>\n\n          {status === 'success' &&\n            <div id=\"topic\" className=\"wrapper\">\n              <div className=\"topic-main\">\n                <Typography variant=\"h5\" className=\"title\">\n                  {data.title}\n                </Typography>\n                <div className=\"topic-attrs\">\n                  <span className=\"attr-author\">\n                    <Avatar\n                      className=\"avatar\"\n                      image={data.author.avatar_url}\n                      name={data.author.loginname}\n                    />\n                    <Hidden xsDown><em>作者</em></Hidden>\n                    <Link to={`/user/${data.author.loginname}`}>\n                      {data.author.loginname}\n                    </Link>\n                  </span>\n                  <span className=\"attr-create\">\n                    <CreateIcon />\n                    <Hidden xsDown><em>发布于</em></Hidden>\n                    <Moment fromNow>{data.create_at}</Moment>\n                  </span>\n                  <span className=\"attr-visit\">\n                    <ViewIcon />\n                    <em>{data.visit_count}</em>\n                    <Hidden xsDown>次浏览</Hidden>\n                  </span>\n                  {data.tab &&\n                    <span className=\"attr-tab\">\n                      <TagIcon />\n                      <Hidden xsDown><em>来自</em></Hidden>\n                      <span className={data.tab}>\n                        {navTabs[data.tab].name}\n                      </span>\n                    </span>\n                  }\n                </div>\n\n                <div className=\"markdown-container\">\n                  <MarkdownRender markdownString={data.content} />\n                </div>\n              </div>\n\n              {Boolean(data.replies.length) &&\n                <div className=\"topic-replies\">\n                  {data.replies.map((item, index) => (\n                    <TopicReply\n                      author={data.author.loginname}\n                      index={index}\n                      item={item}\n                      key={item.id}\n                    />\n                  ))}\n                </div>\n              }\n            </div>\n          }\n\n          <div className=\"status wrapper\">\n            <Progress className=\"mini\" status={status} />\n          </div>\n        </div>\n\n        <ActionDial topicData={topicData} />\n        <Editor />\n        <ImageZoom />\n        <ShareDialog />\n        <Notification />\n      </Layout>\n    );\n  }\n}\n\nTopic.propTypes = {\n  width: PropTypes.string.isRequired,\n};\n\nconst mapStateToProps = ({ auth, editor }) => ({\n  ...auth,\n  ...editor,\n});\n\nexport default compose(\n  withWidth(),\n  connect(\n    mapStateToProps,\n  ),\n)(Topic);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { Helmet } from 'react-helmet';\nimport { getBingImage, get as getData } from '../../fetch';\n\nimport { withStyles } from '@material-ui/core';\nimport withWidth, { isWidthUp } from '@material-ui/core/withWidth';\n\nimport SwipeableViews from 'react-swipeable-views';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport Fade from '@material-ui/core/Fade';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Hidden from '@material-ui/core/Hidden';\n\nimport Avatar from '@material-ui/core/Avatar';\nimport PersonIcon from '@material-ui/icons/Person';\nimport SchoolIcon from '@material-ui/icons/School';\nimport AccessTimeIcon from '@material-ui/icons/AccessTime';\n\nimport Layout from '../../Layout';\nimport TopiCard from '../../Components/TopiCard';\nimport Progress from '../../Components/Progress';\nimport Moment from '../../Components/Moment';\nimport { GithubIcon } from '../../Components/Icons';\nimport './user.styl';\n\nconst styles = theme => ({\n  progress: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    height: 3,\n  },\n  colorPrimary: {\n    backgroundColor: 'rgba(165, 211, 247, .8)',\n  },\n  barColorPrimary: {\n    backgroundColor: '#2698f3',\n  },\n  spacings: {\n    marginTop: 30,\n    [theme.breakpoints.down('xs')]: {\n      marginTop: 0,\n    },\n  },\n  tips: {\n    marginTop: 40,\n  },\n});\n\nclass User extends React.Component {\n  constructor(props) {\n    super(props);\n\n    const { uname } = props.match.params;\n\n    this.state = {\n      ...this.initialData,\n      uname,\n      image: undefined,\n    };\n  }\n\n  initialData = {\n    status: 'loading',\n    mdrender: false,\n    data: {},\n    index: 0,\n    topicsTab: [{\n      keyname: 'recent_topics',\n      tabname: '最近创建',\n      show: true,\n    }, {\n      keyname: 'recent_replies',\n      tabname: '最近回复',\n      show: false,\n    }, {\n      keyname: 'recent_collections',\n      tabname: '话题收藏',\n      show: false,\n    }],\n    completed: false,\n  };\n\n  handleChange = (event, index) => {\n    this.setState(state => {\n      const { topicsTab } = state;\n      topicsTab[index].show = true;\n\n      return { topicsTab, index };\n    });\n  };\n\n  handleChangeIndex = index => {\n    this.handleChange(null, index);\n  };\n\n  bingImageLoaded = () => {\n    this.setState({\n      completed: true,\n    });\n  };\n\n  handleBingImage = async () => {\n    await this.fetchBingImage();\n\n    if (this.bingImage.complete) {\n      this.bingImageLoaded();\n    } else {\n      this.bingImage.addEventListener('load', this.bingImageLoaded);\n    }\n  };\n\n  fetchBingImage = async () => {\n    const image = await getBingImage();\n    this.setState({ image });\n  };\n\n  fetchUserInfoTopics = async () => {\n    const {\n      uname,\n      mdrender,\n    } = this.state;\n\n    const params = {\n      url: `/user/${uname}`,\n      params: { mdrender },\n    };\n\n    const { success, data, err_msg } = await getData(params);\n\n    if (success) {\n      this.setState(state => ({\n        data: {\n          ...state.data,\n          ...data,\n        },\n        status: 'success',\n      }));\n    } else {\n      this.setState({\n        status: 'error',\n        err_msg,\n      });\n    }\n  };\n\n  fetchCollectedTopics = async () => {\n    const {\n      uname,\n      mdrender,\n    } = this.state;\n\n    const params = {\n      url: `/topic_collect/${uname}`,\n      params: { mdrender },\n    };\n\n    const { success, data } = await getData(params);\n\n    if (success) {\n      this.setState(state => ({\n        data: {\n          ...state.data,\n          recent_collections: data,\n        },\n      }));\n    }\n  };\n\n  componentDidMount() {\n    this.handleBingImage();\n    this.fetchUserInfoTopics();\n    this.fetchCollectedTopics();\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const { uname } = nextProps.match.params;\n\n    this.setState({\n      ...this.initialData,\n      uname,\n    }, () => {\n      this.handleBingImage();\n      this.fetchUserInfoTopics();\n      this.fetchCollectedTopics();\n    });\n  }\n\n  componentWillUnmount() {\n    if (this.bingImage) {\n      this.bingImage.removeEventListener('load', this.bingImageLoaded);\n    }\n  }\n\n  render() {\n    const {\n      classes,\n      width,\n    } = this.props;\n\n    const {\n      status,\n      uname,\n      data,\n      topicsTab,\n      completed,\n      err_msg,\n      image,\n    } = this.state;\n\n    return (\n      <Layout>\n        <Helmet\n          title={uname}\n          bodyAttributes={{ class: 'user-view' }}\n        />\n\n        <div className=\"cover blur\">\n          <div className={classNames('bing-image', {\n            'completed': completed,\n          })}>\n            {image &&\n              <img\n                ref={ref => this.bingImage = ref}\n                src={image.url}\n                alt=\"background image\"\n                title={image.copyright}\n                aria-hidden\n              />\n            }\n          </div>\n          <Fade in={!completed}>\n            <LinearProgress\n              className={classes.progress}\n              classes={{\n                colorPrimary: classes.colorPrimary,\n                barColorPrimary: classes.barColorPrimary,\n              }}\n            />\n          </Fade>\n\n          {status === 'success' &&\n            <div className=\"user wrapper\">\n              <Avatar id=\"avatar\" aria-label=\"Recipe\">\n                <img src={data.avatar_url} alt={data.loginname} />\n              </Avatar>\n              <div className=\"items\">\n                <Hidden xsDown>\n                  <div>\n                    <div className=\"item name\">\n                      <PersonIcon />\n                      {data.loginname}\n                    </div>\n                    <div className=\"item create\">\n                      <AccessTimeIcon />\n                      <Moment format=\"YYYY-MM-DD HH:mm:ss\">\n                        {data.create_at}\n                      </Moment>\n                    </div>\n                  </div>\n                  <div>\n                    {data.githubUsername &&\n                      <div className=\"item github\">\n                        {GithubIcon}\n                        <a\n                          target=\"_blank\"\n                          href={`https://github.com/${data.githubUsername}`}\n                        >\n                          {data.githubUsername}\n                        </a>\n                      </div>\n                    }\n                    <div className=\"item score\">\n                      <SchoolIcon />\n                      {data.score}\n                    </div>\n                  </div>\n                </Hidden>\n                <Hidden smUp>\n                  <div>\n                    {data.githubUsername &&\n                      <div className=\"item github\">\n                        {GithubIcon}\n                        <a\n                          target=\"_blank\"\n                          href={`https://github.com/${data.githubUsername}`}\n                        >\n                          {data.githubUsername}\n                        </a>\n                      </div>\n                    }\n                  </div>\n                  <div>\n                    <div className=\"item create\">\n                      <AccessTimeIcon />\n                      <Moment format=\"YYYY-MM-DD HH:mm:ss\">\n                        {data.create_at}\n                      </Moment>\n                    </div>\n                  </div>\n                </Hidden>\n              </div>\n            </div>\n          }\n        </div>\n\n        <div className={classNames('tab-list', classes.spacings)}>\n          <div className=\"wrapper\">\n            <Tabs\n              className=\"tabs\"\n              value={this.state.index}\n              onChange={this.handleChange}\n              centered\n              {\n                ...!isWidthUp('md', width)\n                ? { variant: 'fullWidth' }\n                : {}\n              }\n            >\n              {topicsTab.map(({ keyname, tabname }) => (\n                <Tab\n                  className=\"tab\"\n                  label={tabname}\n                  key={tabname}\n                  disabled={!Boolean(data[keyname])}\n                />\n              ))}\n            </Tabs>\n          </div>\n        </div>\n\n        <Fade in={status === 'error'}>\n          <div className={classNames('tips error', {\n            [classes.tips]: status === 'error',\n          })}>\n            {err_msg}\n          </div>\n        </Fade>\n\n        {status === 'success' &&\n          <div className=\"recent wrapper\">\n            <SwipeableViews\n              index={this.state.index}\n              onChangeIndex={this.handleChangeIndex}\n              enableMouseEvents\n              animateHeight\n              slideStyle={{ overflow: 'hidden' }}\n            >\n              {topicsTab.map(({ keyname, show }) => (\n                <SwipeableViewsTab\n                  data={data[keyname]}\n                  className={keyname.replace('_', '-')}\n                  show={show}\n                  key={keyname}\n                />\n              ))}\n            </SwipeableViews>\n          </div>\n        }\n\n        <div className=\"status wrapper\">\n          <Progress className=\"mini\" status={status} />\n        </div>\n      </Layout>\n    );\n  }\n}\n\nclass SwipeableViewsTab extends React.Component {\n  componentDidUpdate() {\n    this.context.swipeableViews.slideUpdateHeight();\n  }\n\n  render() {\n    const {\n      data,\n      show,\n      className,\n    } = this.props;\n\n    return (\n      <div className={className}>\n        {data && show && data.map(item => (\n          <TopiCard\n            className=\"profile\"\n            simple\n            item={item}\n            key={item.id}\n          />\n        ))}\n      </div>\n    );\n  }\n}\n\nSwipeableViewsTab.contextTypes = {\n  swipeableViews: PropTypes.object.isRequired,\n};\n\nUser.propTypes = {\n  classes: PropTypes.object.isRequired,\n  width: PropTypes.string.isRequired,\n};\n\nexport default withStyles(styles)(withWidth()(User));\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => React.createElement(\"svg\", _extends({\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 1440 810\",\n  preserveAspectRatio: \"xMinYMin slice\",\n  \"aria-hidden\": \"true\"\n}, props), React.createElement(\"path\", {\n  fill: \"#efefee\",\n  d: \"M592.66 0c-15 64.092-30.7 125.285-46.598 183.777C634.056 325.56 748.348 550.932 819.642 809.5h419.672C1184.518 593.727 1083.124 290.064 902.637 0H592.66z\"\n}), React.createElement(\"path\", {\n  fill: \"#f6f6f6\",\n  d: \"M545.962 183.777c-53.796 196.576-111.592 361.156-163.49 490.74 11.7 44.494 22.8 89.49 33.1 134.883h404.07c-71.294-258.468-185.586-483.84-273.68-625.623z\"\n}), React.createElement(\"path\", {\n  fill: \"#f7f7f7\",\n  d: \"M153.89 0c74.094 180.678 161.088 417.448 228.483 674.517C449.67 506.337 527.063 279.465 592.56 0H153.89z\"\n}), React.createElement(\"path\", {\n  fill: \"#fbfbfc\",\n  d: \"M153.89 0H0v809.5h415.57C345.477 500.938 240.884 211.874 153.89 0z\"\n}), React.createElement(\"path\", {\n  fill: \"#ebebec\",\n  d: \"M1144.22 501.538c52.596-134.583 101.492-290.964 134.09-463.343 1.2-6.1 2.3-12.298 3.4-18.497 0-.2.1-.4.1-.6 1.1-6.3 2.3-12.7 3.4-19.098H902.536c105.293 169.28 183.688 343.158 241.684 501.638v-.1z\"\n}), React.createElement(\"path\", {\n  fill: \"#e1e1e1\",\n  d: \"M1285.31 0a2161.05 2161.05 0 0 1-6.9 38.195C1321.507 86.39 1379.603 158.98 1440 257.168V0h-154.69z\"\n}), React.createElement(\"path\", {\n  fill: \"#e7e7e7\",\n  d: \"M1278.31 38.196c-32.5 171.678-81.09 327.36-133.49 461.642v3.8c41 112.286 71.59 216.573 94.29 305.962l200.59.4V256.768c-60.3-97.988-118.29-170.48-161.39-218.573v.001z\"\n})));","import React from 'react';\nimport classNames from 'classnames';\nimport { connect } from 'react-redux';\nimport { Helmet } from 'react-helmet';\nimport {\n  updateAuth,\n  openNotification,\n} from '../../store/actions';\nimport { validateUUID } from '../../common';\nimport { post as validateUser } from '../../fetch';\n\nimport Avatar from '@material-ui/core/Avatar';\nimport Collapse from '@material-ui/core/Collapse';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\n\nimport Notification from '../../Components/Notification';\nimport SigninSvg from '../../static/google_signin.svg';\nimport LogoSvg from '../../static/cnodejs/cnodejs.svg';\nimport './signin.styl';\n\nclass Signin extends React.Component {\n  constructor(props) {\n    super(props);\n\n    const { isAuthed, ...other } = props;\n\n    this.state = {\n      status: isAuthed ? 'success' : 'idle',\n      focus: isAuthed === false,\n      isUUID: isAuthed === true,\n      diff: isAuthed === false,\n      isAuthed,\n      ...other,\n    };\n  }\n\n  handleChange = name => event => {\n    const value = event.target.value.trim();\n    const { accesstoken } = this.props;\n    const condition = value === accesstoken;\n\n    this.setState({\n      status: condition ? 'success' : 'idle',\n      [name]: value,\n      isUUID: validateUUID(value),\n      diff: condition === false,\n    });\n  };\n\n  handleOnFocus = () => {\n    this.setState({ focus: true });\n  };\n\n  handleOnBlur = () => {\n    this.setState({ focus: false });\n  };\n\n  handleClick = () => {\n    this.props.history.goBack();\n  };\n\n  validateUser = async () => {\n    const { accesstoken } = this.state;\n    const params = {\n      url: '/accesstoken',\n      params: { accesstoken },\n    };\n\n    const { success, data, err_msg } = await validateUser(params);\n\n    if (success) {\n      const {\n        id: uid,\n        loginname: uname,\n        avatar_url: avatar,\n      } = data;\n\n      const auth = {\n        isAuthed: true,\n        accesstoken,\n        avatar,\n        uname,\n        uid,\n      };\n\n      this.props.updateAuth(auth);\n\n      this.setState({\n        status: 'success',\n        diff: false,\n        ...auth,\n      });\n    } else {\n      this.setState({ status: 'error' });\n      err_msg && this.props.openNotification({\n        message: err_msg,\n        status: 'error',\n      });\n    }\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n\n    const { isUUID, diff } = this.state;\n\n    isUUID && diff && this.validateUser();\n  };\n\n  render() {\n    const {\n      status,\n      isUUID,\n      diff,\n      accesstoken,\n      isAuthed,\n      avatar,\n      uname,\n    } = this.state;\n\n    return (\n      <React.Fragment>\n        <Helmet\n          title=\"登录\"\n          htmlAttributes={{ id: 'signin' }}\n        />\n\n        <div className=\"container flex\">\n          <SigninSvg className=\"bg\" />\n\n          <div className=\"flex area top\" />\n          <div className=\"flex area mid\">\n            <div className=\"logo\">\n              <LogoSvg />\n            </div>\n\n            <Collapse in={isAuthed}>\n              {isAuthed &&\n                <div className={classNames('auth-user', {\n                  'show': isAuthed,\n                })}>\n                  <Avatar alt={uname} src={avatar} className=\"avatar\" />\n                  <span className=\"name\">{uname}</span>\n                </div>\n              }\n            </Collapse>\n\n            <form\n              className={classNames({\n                'error': status === 'error',\n              })}\n              noValidate\n              autoComplete=\"off\"\n              onSubmit={this.handleSubmit}\n            >\n              <TextField\n                fullWidth\n                id=\"accesstoken\"\n                label=\"Access Token\"\n                margin=\"normal\"\n                spellCheck=\"false\"\n                autoFocus={!isAuthed}\n                error={status === 'error'}\n                className={classNames(this.state.status, {\n                  'focus': this.state.focus,\n                })}\n                onChange={this.handleChange('accesstoken')}\n                value={accesstoken || ''}\n                onFocus={this.handleOnFocus}\n                onBlur={this.handleOnBlur}\n              />\n              <div className=\"submit\">\n                {diff ? (\n                  <Button\n                    disabled={!isUUID}\n                    variant=\"outlined\"\n                    type=\"submit\"\n                  >\n                    授权\n                  </Button>\n                ) : (\n                  <Button variant=\"outlined\"\n                    onClick={this.handleClick}\n                    autoFocus={isAuthed}\n                  >\n                    完成\n                  </Button>\n                )}\n              </div>\n            </form>\n          </div>\n          <div className=\"flex area bot\" />\n        </div>\n\n        <Notification />\n      </React.Fragment>\n    );\n  }\n}\n\nconst mapStateToProps = ({ auth }) => ({\n  ...auth,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  updateAuth: auth => {\n    dispatch(updateAuth(auth));\n  },\n  openNotification: message => {\n    dispatch(openNotification(message));\n  },\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(Signin);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { readMessage } from '../../store/actions';\nimport { post } from '../../fetch';\n\nimport { withStyles } from '@material-ui/core/styles';\n\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport ExpansionPanelActions from '@material-ui/core/ExpansionPanelActions';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport Divider from '@material-ui/core/Divider';\n\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport AtIcon from '@material-ui/icons/AlternateEmail';\nimport ReplyIcon from '@material-ui/icons/Reply';\nimport NewTabIcon from '@material-ui/icons/OpenInNew';\n\nimport Avatar from '../../Components/Avatar';\nimport Moment from '../../Components/Moment';\nimport { MarkdownRender } from '../../Components/Markdown';\n\nconst styles = theme => ({\n  unRead: {\n    boxShadow: '0 1px 2px 0 rgba(245,0,87,.16),0 1px 1px 0 rgba(245,0,87,.12),0 2px 1px -1px rgba(245,0,87,.1)',\n    '&:before': {\n      backgroundColor: 'rgba(245,0,87,.12)',\n    },\n  },\n  summary: {\n    '@media (max-width: 768px)': {\n      paddingLeft: 20,\n      paddingRight: 20,\n    },\n    '@media (max-width: 600px)': {\n      paddingLeft: 16,\n      paddingRight: 16,\n    },\n    '@media (max-width: 420px)': {\n      paddingLeft: 14,\n      paddingRight: 14,\n    },\n  },\n  content: {\n    maxWidth: '100%',\n    minWidth: 0,\n  },\n  moreUnRead: {\n    color: 'rgba(245,0,87,.7)',\n  },\n  avatar: {\n    marginRight: 10,\n  },\n  title: {\n    fontSize: 16,\n    lineHeight: '1.5em',\n  },\n  uname: {\n    display: 'block',\n    fontWeight: 700,\n  },\n  time: {\n    paddingLeft: 10,\n    '& time': {\n      marginLeft: 3,\n    },\n    '& div': {\n      display: 'flex',\n      alignItems: 'center',\n    },\n  },\n  sizeAt: {\n    fontSize: 18,\n    transform: 'translateY(-1px)',\n  },\n  sizeReply: {\n    fontSize: 20,\n    transform: 'translateY(-1.5px)',\n  },\n  gray: {\n    color: 'rgba(0,0,0,.5)',\n  },\n  actions: {\n    paddingLeft: 14,\n    paddingRight: 14,\n    '@media (max-width: 600px)': {\n      paddingTop: 12,\n      paddingBottom: 12,\n    },\n    '@media (max-width: 420px)': {\n      paddingLeft: 12,\n      paddingRight: 12,\n    },\n  },\n  btn: {\n    padding: '6px 10px',\n  },\n  icon: {\n    marginLeft: 2,\n    fontSize: 14,\n  },\n});\n\nclass MessageCard extends React.Component {\n  constructor(props) {\n    super(props);\n\n    const { item } = this.props;\n\n    this.state = { ...item };\n  }\n\n  markMessage = async () => {\n    const { accesstoken } = this.props;\n    const { id } = this.state;\n\n    const params = {\n      url: `/message/mark_one/${id}`,\n      params: { accesstoken },\n    };\n\n    const { success } = await post(params);\n\n    if (success) {\n      this.props.readMessage();\n      this.setState({ has_read: true });\n    }\n  };\n\n  handleChange = (event, expanded) => {\n    const { has_read } = this.state;\n\n    if (!has_read) {\n      this.markMessage();\n    }\n  };\n\n  render() {\n    const { classes, hasRead } = this.props;\n    const {\n      author,\n      has_read,\n      reply,\n      topic,\n      type,\n    } = this.state;\n\n    return (\n      <ExpansionPanel\n        className={classNames({\n          [classes.unRead]: !has_read && !hasRead,\n        })}\n        onChange={this.handleChange}\n      >\n        <ExpansionPanelSummary\n          classes={{\n            root: classes.summary,\n            content: classes.content,\n            expandIcon: classNames({\n              [classes.moreUnRead]: !has_read && !hasRead,\n            }),\n          }}\n          expandIcon={<ExpandMoreIcon />}\n        >\n          <Grid container wrap=\"nowrap\" alignItems=\"center\">\n            <Grid item className={classes.avatar}>\n              <Avatar\n                name={author.loginname}\n                image={author.avatar_url}\n              />\n            </Grid>\n            <Grid container item zeroMinWidth wrap=\"wrap\" alignItems=\"center\">\n              <Grid container item zeroMinWidth wrap=\"wrap\" alignItems=\"center\">\n                <Typography noWrap component=\"h4\" className={classes.title}>\n                  {topic.title}\n                </Typography>\n              </Grid>\n              <Grid container item zeroMinWidth wrap=\"nowrap\" alignItems=\"center\">\n                <Grid item zeroMinWidth>\n                  <Typography noWrap component=\"span\" className={classNames(classes.uname, classes.gray)}>\n                    {author.loginname}\n                  </Typography>\n                </Grid>\n                <Grid item className={classes.time}>\n                  <Typography noWrap component=\"div\" className={classes.gray}>\n                    {type === 'reply' ? (\n                      <ReplyIcon className={classes.sizeReply} />\n                    ) : (\n                      <AtIcon className={classes.sizeAt} />\n                    )}\n                    <Moment fromNow>{reply.create_at}</Moment>\n                  </Typography>\n                </Grid>\n              </Grid>\n            </Grid>\n          </Grid>\n        </ExpansionPanelSummary>\n        <ExpansionPanelDetails>\n          <MarkdownRender markdownString={reply.content} />\n        </ExpansionPanelDetails>\n        <Divider />\n        <ExpansionPanelActions className={classes.actions}>\n          <Button\n            component={Link}\n            className={classes.btn}\n            to={`/user/${author.loginname}`}\n            target=\"_blank\"\n            size=\"medium\"\n          >\n            浏览用户\n            <NewTabIcon className={classes.icon} />\n          </Button>\n          <Button\n            component={Link}\n            className={classes.btn}\n            to={`/topic/${topic.id}#${reply.id}`}\n            target=\"_blank\"\n            size=\"medium\"\n            color=\"primary\"\n          >\n            前往查看\n            <NewTabIcon className={classes.icon} />\n          </Button>\n        </ExpansionPanelActions>\n      </ExpansionPanel>\n    );\n  }\n}\n\nMessageCard.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = ({ auth }) => ({\n  ...auth,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  readMessage: () => {\n    dispatch(readMessage());\n  },\n});\n\nexport default compose(\n  withStyles(styles),\n  connect(\n    mapStateToProps,\n    mapDispatchToProps,\n  ),\n)(MessageCard);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { Helmet } from 'react-helmet';\nimport {\n  readAllMessage,\n  updateMessage,\n} from '../../store/actions';\nimport {\n  get as getData,\n  post,\n} from '../../fetch';\n\nimport { withStyles } from '@material-ui/core/styles';\n\nimport Fade from '@material-ui/core/Fade';\nimport Grid from '@material-ui/core/Grid';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport IconButton from '@material-ui/core/IconButton';\nimport MarkAllIcon from '@material-ui/icons/DoneAll';\n\nimport Layout from '../../Layout';\nimport MessageCard from './MessageCard';\nimport Progress from '../../Components/Progress';\n\nconst styles = theme => ({\n  spacings: {\n    marginTop: 40,\n    marginBottom: 10,\n    padding: '0 7px',\n    '@media (max-width: 768px)': {\n      marginTop: 30,\n      marginBottom: 8,\n    },\n    '@media (max-width: 600px)': {\n      marginTop: 20,\n      marginBottom: 4,\n    },\n  },\n  text: {\n    position: 'relative',\n    flex: 1,\n    marginRight: 8,\n    fontSize: 14,\n    color: 'rgba(0,0,0,.6)',\n    pointerEvents: 'none',\n    transition: 'opacity .15s cubic-bezier(.4,0,.2,1)',\n    '@media (max-width: 600px)': {\n      marginRight: 4,\n    },\n    '& span': {\n      position: 'absolute',\n      top: -9,\n      right: 0,\n      whiteSpace: 'nowrap',\n    },\n  },\n  opacity: {\n    opacity: .6,\n  },\n  error: {\n    color: theme.palette.secondary.main,\n  },\n});\n\nclass Message extends React.Component {\n  state = {\n    status: 'loading',\n    items: [],\n    err_msg: '发生错误',\n  };\n\n  handleMarkAllMessage = async () => {\n    const { accesstoken } = this.props;\n    const params = {\n      url: '/message/mark_all',\n      params: { accesstoken },\n    };\n\n    const { success } = await post(params);\n\n    if (success) {\n      this.updateState();\n      this.props.readAllMessage();\n    }\n  };\n\n  updateState = () => {\n    let { items } = this.state;\n\n    items.map(item => item.has_read = true);\n\n    this.setState({ items });\n  };\n\n  fetchMessages = async () => {\n    const { accesstoken } = this.props;\n\n    const params = {\n      url: '/messages',\n      params: {\n        accesstoken,\n        mdrender: false,\n      },\n    };\n\n    const {\n      success,\n      data: {\n        hasnot_read_messages: unRead = [],\n        has_read_messages: hasRead = [],\n      },\n      err_msg,\n    } = await getData(params);\n\n    if (success) {\n      this.props.updateMessage(unRead.length);\n\n      this.setState({\n        status: 'success',\n        items: [ ...unRead, ...hasRead ],\n      });\n    } else {\n      this.setState(state => ({\n        status: 'error',\n        err_msg: err_msg ? err_msg : state.err_msg,\n      }));\n    }\n  };\n\n  componentDidMount() {\n    this.fetchMessages();\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const { isAuthed, history } = nextProps;\n\n    if (!isAuthed) {\n      history.push('/');\n    }\n  }\n\n  render() {\n    const { classes, message } = this.props;\n    const { status, items, err_msg } = this.state;\n\n    return (\n      <Layout>\n        <Helmet title=\"消息\" />\n\n        <div className=\"wrapper\">\n          <Grid container alignItems=\"center\" justify=\"flex-end\" className={classes.spacings}>\n            <Grid item className={classNames(classes.text, {\n              [classes.opacity]: status !== 'success' || message.count === 0,\n              [classes.error]: status === 'error',\n            })}>\n              <Fade unmountOnExit in={status === 'loading'}>\n                <span>获取消息中……</span>\n              </Fade>\n              <Fade unmountOnExit in={status === 'error'}>\n                <span>{err_msg}</span>\n              </Fade>\n              <Fade unmountOnExit in={status === 'success' && !Boolean(items.length)}>\n                <span>没有消息哦</span>\n              </Fade>\n              <Fade unmountOnExit in={status === 'success' && Boolean(items.length) && !Boolean(message.count)}>\n                <span>已读全部消息</span>\n              </Fade>\n              <Fade unmountOnExit in={status === 'success' && Boolean(message.count)}>\n                <span>{message.count} 条未读消息</span>\n              </Fade>\n            </Grid>\n            <Tooltip\n              title=\"全部标为已读\"\n              enterDelay={500}\n              placement=\"left-start\"\n              disableTouchListener\n            >\n              <span>\n              <IconButton\n                onClick={this.handleMarkAllMessage}\n                disabled={status !== 'success' || message.count === 0}\n                disableRipple\n              >\n                <MarkAllIcon />\n              </IconButton>\n              </span>\n            </Tooltip>\n          </Grid>\n\n          {items.map(item => (\n            <MessageCard key={item.id} item={item} hasRead={item.has_read} />\n          ))}\n        </div>\n\n        <div className=\"status wrapper\">\n          <Progress status={status} />\n        </div>\n      </Layout>\n    );\n  }\n}\n\nMessage.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = ({ auth, message }) => ({\n  ...auth,\n  message,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  readAllMessage: () => {\n    dispatch(readAllMessage());\n  },\n  updateMessage: count => {\n    dispatch(updateMessage(count));\n  },\n});\n\nexport default compose(\n  withStyles(styles),\n  connect(\n    mapStateToProps,\n    mapDispatchToProps,\n  ),\n)(Message);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { Helmet } from 'react-helmet';\nimport {\n  updateSettings,\n  restoreSettings,\n} from '../../store/actions';\n\nimport { withStyles } from '@material-ui/core/styles';\nimport withWidth, { isWidthDown } from '@material-ui/core/withWidth';\n\nimport Switch from '@material-ui/core/Switch';\nimport Paper from '@material-ui/core/Paper';\nimport Slider from '@material-ui/lab/Slider';\n\nimport Layout from '../../Layout';\nimport './settings.styl';\n\nconst styles = theme => ({\n  mark: {\n    backgroundColor: 'transparent',\n  },\n  markLabel: {\n    color: 'rgba(0,0,0,.65)',\n  },\n});\n\nclass Settings extends React.Component {\n  handleCardPreview = () => {\n    const { settings } = this.props;\n    this.props.updateSettings({\n      ...settings,\n      cardPreview: !settings.cardPreview,\n    });\n  };\n\n  handleChangeTime = (event, value) => {\n    const { settings } = this.props;\n\n    this.props.updateSettings({\n      ...settings,\n      time: value * 60,\n    });\n  };\n\n  render() {\n    const {\n      width,\n      classes,\n      isAuthed,\n      settings: {\n        time,\n        cardPreview,\n      },\n    } = this.props;\n\n    return (\n      <Layout>\n        <Helmet title=\"设置\" />\n\n        <div id=\"settings\" className=\"wrapper\">\n          <Paper>\n            <div className=\"setting\">\n              <div className=\"setting-label\">卡片预览</div>\n              <Switch\n                className=\"switch\"\n                checked={cardPreview}\n                onChange={this.handleCardPreview}\n                color=\"primary\"\n              />\n            </div>\n            <div\n              className={classNames('setting', {\n                'nano': isWidthDown('xs', width),\n              })}\n            >\n              <div className=\"setting-label\">消息提醒</div>\n              <div className=\"setting-wrapper\">\n                <Slider\n                  disabled={!isAuthed}\n                  min={0}\n                  max={10}\n                  step={null}\n                  value={time / 60}\n                  marks={[\n                    { value: 0, label: 'Off' },\n                    { value: 1, label: '1min' },\n                    { value: 3, label: '3min' },\n                    { value: 5, label: '5min' },\n                    { value: 10, label: '10min' },\n                  ]}\n                  onChange={this.handleChangeTime}\n                  classes={{\n                    mark: classes.mark,\n                    markActive: classes.mark,\n                    markLabel: classes.markLabel,\n                    markLabelActive: classes.markLabel,\n                  }}\n                />\n              </div>\n            </div>\n          </Paper>\n        </div>\n      </Layout>\n    );\n  }\n}\n\nSettings.propTypes = {\n  classes: PropTypes.object.isRequired,\n  width: PropTypes.string.isRequired,\n};\n\nconst mapStateToProps = ({ auth, settings }) => ({\n  ...auth,\n  settings,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  updateSettings: data => {\n    dispatch(updateSettings(data));\n  },\n  restoreSettings: data => {\n    dispatch(restoreSettings(data));\n  },\n});\n\nexport default compose(\n  withStyles(styles),\n  withWidth(),\n  connect(\n    mapStateToProps,\n    mapDispatchToProps,\n  ),\n)(Settings);\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => React.createElement(\"svg\", _extends({\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 512 512\"\n}, props), React.createElement(\"path\", {\n  d: \"M369.5 32H142.4C81.5 32 32 82.6 32 144.6v222.8c0 62 49.5 112.6 110.4 112.6h227.2c60.9 0 110.5-50.6 110.5-112.6V144.6C480 82.6 430.5 32 369.5 32zM175 251v.7c0 10.9-9.1 20.4-19.9 20.4h-23.3c-10.8 0-19.9-9.5-19.9-20.4V148.1c1-10.8 9.2-20.2 19.9-20.2h23.3c10.9 0 19.9 9.8 19.9 20.8V251zm122 147.4c0 11.4-8.9 17.6-20.1 17.6h-41.8c-11.2 0-20.1-8.1-20.1-19.6v-29.3c0-23.3 18.1-42.3 41-42.3s41 19 41 42.3v31.3zM400 251v.7c0 10.9-9.1 20.4-19.9 20.4h-24.3c-10.8 0-19.9-9.5-19.9-20.4V148.1c1-10.8 9.2-20.2 19.9-20.2h24.3c10.8 0 19.9 9.8 19.9 20.8V251z\"\n})));","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { Helmet } from 'react-helmet';\n\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\n\nimport MdOutletIcon from '../../static/ionicons_md_outlet.svg';\n\nconst styles = theme => ({\n  main: {\n    paddingTop: 120,\n    flexDirection: 'column',\n    [theme.breakpoints.down('sm')]: {\n      position: 'fixed',\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0,\n      padding: 0,\n      overflow: 'hidden',\n    },\n  },\n  center: {\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  wrapper: {\n    flexDirection: 'row',\n    marginBottom: 40,\n    [theme.breakpoints.down('sm')]: {\n      flexDirection: 'column',\n      marginBottom: 62,\n      marginTop: -32,\n    },\n  },\n  h1: {\n    marginRight: 45,\n    paddingRight: 45,\n    fontSize: 80,\n    borderRight: '3px solid #7b7b7b',\n    [theme.breakpoints.down('sm')]: {\n      marginRight: 0,\n      marginBottom: 32,\n      paddingRight: 0,\n      border: 'none',\n    },\n  },\n  p: {\n    fontSize: 20,\n    textAlign: 'left',\n    flexDirection: 'column',\n  },\n  icon: {\n    width: '1em',\n    height: '1em',\n    fontSize: 60,\n  },\n  button: {\n    paddingTop: 10,\n    paddingBottom: 10,\n    [theme.breakpoints.down('sm')]: {\n      marginBottom: 32,\n    },\n  },\n});\n\nclass NotFound extends React.Component {\n  handleBackToHome = () => {\n    this.props.history.push('/');\n  };\n\n  render() {\n    const { classes } = this.props;\n\n    return (\n      <React.Fragment>\n        <Helmet title=\"404\" />\n\n        <div className={classNames(\n          'flex',\n          classes.main,\n          classes.center,\n        )}>\n          <div className={classNames(\n            'flex',\n            classes.wrapper,\n            classes.center,\n          )}>\n            <h1 className={classes.h1}>404</h1>\n            <p className={classNames(\n              'flex',\n              classes.p,\n              classes.center,\n            )}>\n              <MdOutletIcon className={classes.icon} />\n              <span>Page not Found</span>\n            </p>\n          </div>\n          <Button\n            className={classes.button}\n            variant=\"outlined\"\n            onClick={this.handleBackToHome}\n          >\n            Back to Home\n          </Button>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nNotFound.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(NotFound);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport Layout from '../../Layout';\nimport { MarkdownRender } from '../../Components/Markdown';\n\nimport f1_0 from './_@_single.md';\nimport f1_1 from './_@_single_prev_space.md';\nimport f1_2 from './_@_single_next_space.md';\nimport f2_0 from './_@_mail.md';\nimport f3_0 from './_url.md';\n// import f4 from './_ctx.md';\n\nconst mdFile = [\n  f1_0,\n  f1_1,\n  f1_2,\n  f2_0,\n  f3_0,\n];\n\nconst styles = theme => ({\n  md: {\n    marginBottom: 40,\n    padding: 20,\n    backgroundColor: '#fff',\n    borderRadius: 2,\n    boxShadow: '1px 2px 4px rgba(0, 0, 0, 0.15)',\n  },\n});\n\nclass Test extends React.Component {\n  state = { text: [] };\n\n  fetchMD = () => {\n    mdFile.forEach(async file => {\n      fetch(file)\n        .then(res => {\n          return res.text();\n        })\n        .then(text => {\n          this.setState(state => ({\n            text: [\n              ...state.text,\n              text,\n            ],\n          }));\n        });\n    });\n  };\n\n  componentDidMount() {\n    this.fetchMD();\n  }\n\n  render() {\n    const { classes } = this.props;\n\n    return (\n      <Layout>\n        <div className=\"wrapper\" style={{ marginTop: 50 }}>\n          {this.state.text.map((text, index) => (\n            <div className={classes.md}>\n              <MarkdownRender markdownString={text} key={index} />\n            </div>\n          ))}\n        </div>\n      </Layout>\n    );\n  }\n}\n\nTest.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Test);\n","import React from 'react';\nimport {\n  BrowserRouter,\n  Route,\n  Switch,\n  Redirect,\n} from 'react-router-dom';\n\nimport { ThemeProvider } from '@material-ui/styles';\nimport theme from './theme';\n\nimport { Provider } from 'react-redux';\nimport store from './store';\n\nimport Home from './Views/Home';\nimport Topic from './Views/Topic';\nimport User from './Views/User';\nimport Signin from './Views/Signin';\nimport Message from './Views/Message';\nimport Settings from './Views/Settings';\nimport NotFound from './Views/404';\nimport Test from './Views/Test';\n\nconst PrivateRoute = ({ component: Component, ...rest }) => {\n  const { isAuthed } = store.getState().auth;\n\n  return (\n    <Route\n      {...rest}\n      render={props => (\n        isAuthed ? (\n          <Component {...props} />\n        ) : (\n          <Redirect to=\"/\" />\n        )\n      )}\n    />\n  );\n};\n\nclass App extends React.Component {\n  render() {\n    return (\n      <ThemeProvider theme={theme}>\n        <Provider store={store}>\n          <BrowserRouter basename={process.env.PUBLIC_URL}>\n            <Switch>\n              <Route exact path=\"/\" component={Home} />\n              <Route exact path=\"/topic/:topic_id\" component={Topic} />\n              <Route exact path=\"/user/:uname\" component={User} />\n              <Route exact path=\"/signin/\" component={Signin} />\n              <PrivateRoute exact path=\"/message/\" component={Message} />\n              <Route exact path=\"/settings/\" component={Settings} />\n              <Route exact path=\"/test/\" component={Test} />\n              <Route path=\"*\" component={NotFound} />\n            </Switch>\n          </BrowserRouter>\n        </Provider>\n      </ThemeProvider>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}