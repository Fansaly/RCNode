{"version":3,"sources":["static/images/houses_beautiful_beach_photo_wallpaper.jpg","common/validateUUID.js","routers.js","common/navTabs.js","common/navIsActive.js","common/topicTypes.js","common/matchTab.js","common/URI.js","common/getNewData.js","store/reducers/auth.js","store/reducers/message.js","store/reducers/editor.js","store/reducers/share.js","store/reducers/zoom.js","store/reducers/notification.js","store/reducers/settings.js","store/reducers/colors.js","store/reducers/index.js","store/index.js","Components/Prism/index.js","Components/Theme/themeOptions.js","Components/Theme/index.jsx","Components/ScrollToTop/index.jsx","Components/Loadding/index.jsx","Layout/Helper.js","fetch/getBingImage.js","fetch/index.js","Components/Icons/Github.jsx","Components/Icons/SignOut.jsx","Components/Icons/index.jsx","static/avatar.svg","Components/Me/index.jsx","Layout/Nav/NormalNav.jsx","Components/TopicTypeIcon/index.jsx","static/cnodejs/cnodejs.svg","Layout/Nav/DrawerNav.jsx","static/cnodejs/cnodejs_light.svg","Layout/Header/index.jsx","Layout/Notice.jsx","Layout/AppFrame.jsx","Layout/AppWrapper.js","Components/Avatar/index.jsx","Components/Moment/index.jsx","Components/TopiCard/index.jsx","common/removeHtmlTags.js","common/randomNumber.js","Components/TopiCards/index.jsx","Components/Progress/index.jsx","Components/ActionDial/index.jsx","Components/Notification/index.jsx","Components/Markdown/MarkdownEditor.jsx","Components/Markdown/markdownToHtml/markdown-it.js","Components/Markdown/markdownToHtml/markdownToHtml.js","Components/Markdown/MarkdownRender.jsx","Components/Editor/EditorHeader.jsx","Components/Editor/Preview.jsx","Components/Editor/index.jsx","Components/useLoadmore/index.js","Views/Home/index.jsx","Views/Topic/TopicReply.jsx","Components/ImageZoom/index.jsx","Components/ShareDialog/index.jsx","Views/Topic/index.jsx","Views/User/index.jsx","static/google_signin.svg","Views/Signin/index.jsx","Views/Message/MessageCard.jsx","Views/Message/index.jsx","Views/Settings/index.jsx","static/ionicons_md_outlet.svg","Views/404/index.jsx","App.jsx","serviceWorker.js","index.js"],"names":["module","exports","uuid","validate","devRouters","routers","tab","all","path","name","isTopicType","good","share","ask","job","dev","topic","user","navTabsArray","navTabsObject","tabs","push","navIsActive","location","pathname","search","topicTypes","match","formatArr","arr","Array","map","value","join","orgURIRexStr","_orgURIRexStr","key","Object","keys","transformOrgURL","string","restr","regex","RegExp","replace","$0","$1","$2","$3","$4","baseURL","window","protocol","host","process","isGoBack","open","response","_","isEmpty","defaultState","accesstoken","undefined","avatar","uname","uid","isAuthed","initialState","JSON","parse","localStorage","getItem","validateUUID","auth","state","type","data","other","setItem","stringify","removeItem","count","message","Math","max","editor","action","url","post","zoom","status","notification","autoFollow","themeMode","cardPreview","time","settings","colors","rootReducer","combineReducers","store","createStore","applyMiddleware","Prism","alias","styleNode","document","querySelector","lightThemeOptions","primary","main","dark","light","background","default","darkThemeOptions","contrastText","secondary","active","text","divider","ThemeProvider","props","systemThemeMode","useMediaQuery","useSelector","paletteType","React","useEffect","theme","textContent","setPrismTheme","lightPrismTheme","darkPrismTheme","useMemo","createMuiTheme","palette","children","ScrollToTop","useLocation","scrollTo","useStyles","makeStyles","root","position","top","left","right","Loadding","classes","className","LinearProgress","changeElementAttributes","element","attrs","documentElement","body","contains","assign","id","class","forEach","Boolean","setAttribute","removeAttribute","getBingImage","a","async","defaultData","copyright","image","Date","getTime","axios","get","console","warn","cnodeAxios","create","timeout","fetch","method","params","success","err_msg","error_msg","trim","GithubIcon","SvgIcon","viewBox","githubSvg","d","SignOutIcon","signOutSvgPath","_extends","target","i","arguments","length","source","prototype","hasOwnProperty","call","apply","this","styles","createElement","xmlns","fill","cx","cy","r","badge","content","marginTop","marginRight","width","height","borderRadius","opacity","transition","backgroundColor","boxShadow","animation","border","transform","hidden","visibility","Me","s","dispatch","useDispatch","history","useHistory","timerMessage","useRef","timerSignout","isCancel","anchorEl","useState","setOpen","handleClose","event","current","handleInfo","handleMessage","handleSettings","handleSignin","handleSignout","clearTimeout","setTimeout","fetchUnreadCount","Grid","item","container","alignContent","alignItems","justify","IconButton","buttonRef","node","aria-owns","aria-haspopup","onClick","prevState","clsx","Avatar","src","alt","Popper","disablePortal","TransitionProps","placement","Grow","style","transformOrigin","Paper","ClickAwayListener","onClickAway","MenuList","MenuItem","ListItemIcon","ListItemText","Badge","badgeContent","color","NormalNav","isActive","navTabs","to","activeClassName","Button","disableFocusRipple","TopicTypeIcon","rest","typeIcon","version","x","y","xmlSpace","fillRule","clipRule","drawerPaper","toolbar","display","justifyContent","mixins","logo","paddingLeft","breakpoints","up","marginBottom","spacing","DrawerNav","onClose","SwipeableDrawer","variant","onOpen","paper","ModalProps","keepMounted","List","ListItem","button","component","selected","handleClick","header","backgroundImage","navPlaceholder","navHidden","withWidth","isMobile","drawerOpen","setState","handleToggleNav","isWidthUp","Fragment","AppBar","Toolbar","currentTarget","animateScroll","duration","smooth","Hidden","xsDown","smDown","implementation","mdUp","sleep","delay","Promise","resolve","messages","getMessages","result","json","Notice","setMessage","lastSeen","seen","parseInt","getLastSeenNotice","unseenMessages","filter","msg","mounted","test","navigator","userAgent","Snackbar","anchorOrigin","vertical","horizontal","ContentProps","dangerouslySetInnerHTML","__html","size","autoHideDuration","onExited","initialOptions","title","htmlAttributes","bodyAttributes","withHeader","AppFrameContext","createContext","AppFrame","useReducer","payload","Error","options","changeTitle","Provider","CssBaseline","AppWrapper","changeApp","useContext","useCallback","reset","useChangeApp","propTypes","PropTypes","isRequired","object","bool","objectFit","fontSize","lineHeight","textIndent","CustomAvatar","aria-label","Moment","globalLocale","padding","fontWeight","fontFamily","letterSpacing","textTransform","expand","margin","transitions","shortest","expandOpen","simple","targetRefs","expanded","setExpanded","Card","includes","ref","author","loginname","avatar_url","Typography","CardActions","aria-expanded","wrap","zeroMinWidth","fromNow","create_at","last_reply_at","reply_count","visit_count","Collapse","in","unmountOnExit","CardContent","str","len","min","ceil","floor","random","randomNumber","substr","substrContent","TopiCards","items","card","Progress","CSSTransition","classNames","enter","exit","CircularProgress","svg","appbar","bottom","wrapper","fabMoveUp","enteringScreen","easing","easeOut","fabMoveDown","leavingScreen","sharp","single","signedUname","visible","notificationIsOpen","topic_id","useParams","favorite","shareURL","handleUpdate","config","handleOpenEditor","origin","is_collect","Zoom","Fab","SpeedDial","ariaLabel","onMouseEnter","onMouseLeave","icon","SpeedDialIcon","openIcon","SpeedDialAction","tooltipTitle","reply_id","error","info","warning","iconVariant","variantIcon","CheckCircleIcon","WarningIcon","ErrorIcon","InfoIcon","Notification","handleExit","Icon","SnackbarContent","aria-describedby","close","flex","minHeight","MarkdownEditor","inputRef","disabled","updateContent","onUpdateContent","TextField","multiline","rows","fullWidth","placeholder","onChange","md","MarkdownIt","html","linkify","typographer","quotes","highlight","code","lang","toLocaleLowerCase","languages","use","checkbox","emoji","sub","sup","footnote","atToHtml","prevSpaces","nextSpaces","href","renderer","rules","tokens","idx","env","self","link_open","attrPush","hrefIdx","attrIndex","hrefSrc","level","renderToken","blacklist","markdownString","sanitizeHtml","markdownRender","render","allowedTags","exclusiveFilter","frame","tag","borderLeftColor","borderBottomColor","borderColor","borderTopColor","MarkdownRender","mdRef","getAttribute","from","querySelectorAll","img","addEventListener","markdownToHtml","paddingRight","paddingTop","paddingBottom","back","marginLeft","EditorHeader","publishTab","onPublishTab","onPreview","onFullScreen","fullScreen","moreOpen","setMoreOpen","selectOpen","setSelectOpen","handleCloseSelect","handleCloseMore","Popover","anchorReference","anchorPosition","Dialog","maxWidth","DialogTitle","DialogContent","RadioGroup","FormControlLabel","label","control","Radio","borderBottomWidth","borderBottomStyle","isWidthDown","disableTypography","actions","minWidth","doit","cancel","Transition","forwardRef","Slide","direction","validation","isOK","isDiff","preview","titleRef","contentRef","eState","eDispatch","handleChange","handleClosePreview","checkTab","matchTab","change","PaperProps","TransitionComponent","onEntered","focus","rowsMax","DialogActions","request","useLoadmore","loadmore","setLoadmore","threshold","handleScroll","documentHeight","offsetHeight","scrollHeight","scrollTop","windowHeight","innerHeight","removeEventListener","Home","isFetching","isFetched","page","setTab","topics","setTopics","setStatus","fetchTopics","limit","mdrender","getData","editorData","newDataCreate","dtime","author_id","getNewDataCreate","index","topicAuthor","hash","sharePrefixURL","setSharePrefixURL","ups","isUped","is_uped","upData","setUpData","createAt","timer","appHeaderHight","replieSpacings","scroller","offset","backdrop","zIndex","maxHeight","userSelect","outline","overflow","loading","box","transitionDuration","transitionDelay","cursor","flexWrap","btn","iX","iY","sX","sY","mX","mY","scale","scaleLevel","scaleLevels","spacings","dragSpacings","disabledUp","disabledDown","disabledReset","dragEnabled","dragActive","isTouch","ready","dragIsActive","zoomWrapRef","zoomBoxRef","zoomRef","initState","naturalWidth","naturalHeight","wrapWidth","clientWidth","wrapHeight","clientHeight","initialHeight","initialWidth","getTransformPos","currentWidth","currentHeight","tX","tY","getDragThreshold","getEventPos","touches","pageX","clientX","pageY","clientY","dragStart","preventDefault","dragMove","dragEnd","eStart","eMove","eEnd","eCancel","bindEvents","viewport","head","setViewport","handleZoom","maxScaleLevel","onEnter","complete","resetViewport","BackdropProps","onKeyUp","role","tabIndex","Fade","ShareDialog","inputProps","readOnly","copy","autoFocus","useTheme","setTopic","replies","setReplies","dialTopic","setDialTopic","reps","newDataReply","getNewDataReply","newDataUpdate","getNewDataUpdate","cover","progress","colorPrimary","barColorPrimary","down","tips","indicator","labelIndex","show","collections","bingImgRef","bingImage","setBingImage","setIndex","profile","setProfile","toUpperCase","setBingImageLoadComplete","recent_topics","recent_replies","swipeableViewsRef","aria-hidden","format","githubUsername","score","smUp","Tabs","centered","Tab","onChangeIndex","enableMouseEvents","animateHeight","slideStyle","SwipeableViewsTab","getChildContext","swipeableViews","slideUpdateHeight","preserveAspectRatio","Signin","authRest","isUUID","diff","noValidate","autoComplete","onSubmit","validateUser","spellCheck","condition","onFocus","onBlur","goBack","unRead","summary","moreUnRead","sizeAt","sizeReply","gray","MessageCard","disptach","hasRead","ExpansionPanel","has_read","markMessage","ExpansionPanelSummary","expandIcon","noWrap","reply","ExpansionPanelDetails","Divider","ExpansionPanelActions","Link","pointerEvents","whiteSpace","Message","setItems","hasnot_read_messages","has_read_messages","Tooltip","enterDelay","disableTouchListener","disableRipple","mark","Switch","checked","Slider","step","marks","markActive","flexDirection","center","h1","borderRight","p","textAlign","NotFound","Test","PrivateRoute","Component","App","Theme","basename","Suspense","fallback","exact","Topic","User","Settings","isLocalhost","hostname","registerValidSW","swUrl","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","log","onUpdate","onSuccess","catch","ReactDOM","getElementById","URL","headers","contentType","indexOf","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.72ad1104.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/houses_beautiful_beach_photo_wallpaper.b764c878.jpg\";","import validate from 'uuid-validate';\n\n/**\n * repo: https://github.com/cnodejs/nodeclub\n * file: proxy/user.js\n * line: 106\n */\nconst uuidVersion = 4;\n\nexport default (uuid) => {\n  return validate(uuid, uuidVersion);\n};\n","const devRouters = process.env.NODE_ENV === 'development' ? {\n  // markdown render test\n  devMD: {\n    path: '/test',\n    name: 'MD-TEST',\n  },\n} : {};\n\nconst routers = {\n  tab: {\n    all: {\n      path: '/',\n      name: '',\n      isTopicType: false,\n    },\n    good: {\n      path: '/?tab=good',\n      name: '',\n      isTopicType: false,\n    },\n    share: {\n      path: '/?tab=share',\n      name: '',\n      isTopicType: true,\n    },\n    ask: {\n      path: '/?tab=ask',\n      name: '',\n      isTopicType: true,\n    },\n    job: {\n      path: '/?tab=job',\n      name: '',\n      isTopicType: true,\n    },\n    dev: {\n      path: '/?tab=dev',\n      name: '',\n      isTopicType: true,\n    },\n    ...devRouters,\n  },\n  topic: {\n    path: '/topic',\n    name: '',\n  },\n  user: {\n    path: '/user',\n    name: '',\n  },\n};\n\nexport default routers;\n","import routers from '../routers';\n\nlet navTabsArray = [];\nlet navTabsObject = {};\nconst tabs = routers.tab;\n\nfor (let tab in tabs) {\n  if (typeof tabs !== 'object') {\n    continue;\n  }\n\n  navTabsArray.push({\n    ...tabs[tab],\n    tab,\n  });\n\n  navTabsObject = {\n    ...navTabsObject,\n    [tab]: tabs[tab],\n  };\n}\n\nexport { navTabsArray, navTabsObject };\n","export const navIsActive = (path, location = {}) => {\n  const { pathname, search } = location;\n  return !!path && path === `${pathname}${search}`;\n};\n","import routers from '../routers';\n\nlet topicTypes = [];\nconst tabs = routers.tab;\n\nfor (let tab in tabs) {\n  if (tabs[tab].isTopicType) {\n    topicTypes.push(tab);\n  }\n}\n\nexport { topicTypes };\n","export default (location = {}) => {\n  const { pathname, search = '' } = location;\n  const tab = search.match(/\\?tab=(\\w+)/);\n\n  return (\n    tab\n      ? tab[1]\n      : pathname === '/'\n        ? 'all'\n        : null\n  );\n};\n","import routers from '../routers';\n\nconst cnodeURL = 'cnodejs.org';\n\nconst formatArr = arr => {\n  if (arr instanceof Array) {\n    return arr.map(value => {\n      return `(${value})`;\n    }).join('|');\n  }\n};\n\nconst orgURIRexStr = (() => {\n  let _orgURIRexStr = [ '/?' ];\n\n  for (let key in routers) {\n    if (key === 'tab') {\n      _orgURIRexStr.push(`/\\\\?tab=(${formatArr(Object.keys(routers[key]))})`);\n    } else {\n      _orgURIRexStr.push(`/${key}/\\\\w+`);\n    }\n  }\n\n  return formatArr(_orgURIRexStr);\n})();\n\nconst transformOrgURL = string => {\n  const restr = `^(http(s)?://)?(www.)?${cnodeURL}(${orgURIRexStr})$`;\n  const regex = new RegExp(restr, 'i');\n\n  return string.replace(regex, ($0, $1, $2, $3, $4) => {\n    let baseURL = cnodeURL;\n\n    if (typeof window !== 'undefined') {\n      $1 = $1 && `${window.location.protocol}//`;\n      baseURL = window.location.host;\n    }\n\n    $1 = $1 || '';\n\n    return `${$1}${baseURL}${process.env.PUBLIC_URL}${$4}`;\n  });\n};\n\nexport { transformOrgURL };\nexport default orgURIRexStr;\n","import _ from 'lodash';\n\nconst isGoBack = ({ open, response = {} }) => {\n  return open || _.isEmpty(response);\n};\n\nconst getNewDataCreate = ({ action, ...props }) => {\n  if (isGoBack(props) || action !== 'create') {\n    return null;\n  }\n\n  const dtime = new Date();\n  const { uid, uname, avatar } = props;\n  const { tab, title, content } = props.request;\n  const { topic_id: id } = props.response;\n\n  return [{\n    author: {\n      loginname: uname,\n      avatar_url: avatar,\n    },\n    author_id: uid,\n    id,\n    tab,\n    title,\n    content,\n    create_at: dtime,\n    last_reply_at: dtime,\n    reply_count: 0,\n    visit_count: 0,\n    good: false,\n    top: false,\n  }];\n};\n\nconst getNewDataUpdate = ({ action, ...props }) => {\n  if (isGoBack(props) || action !== 'update') {\n    return null;\n  }\n\n  const { tab, title, content } = props.request;\n\n  return { tab, title, content };\n};\n\nconst getNewDataReply = ({ action, ...props }) => {\n  if (isGoBack(props) || action !== 'reply') {\n    return null;\n  }\n\n  const { uname, avatar } = props;\n  const { content, reply_id } = props.request;\n  const { reply_id: id } = props.response;\n  const { topic_id } = props.match.params;\n\n  return {\n    author: {\n      loginname: uname,\n      avatar_url: avatar,\n    },\n    id,\n    ups: [],\n    is_uped: false,\n    create_at: new Date(),\n    content,\n    reply_id: reply_id !== topic_id ? reply_id : null,\n  };\n};\n\nexport {\n  getNewDataCreate,\n  getNewDataUpdate,\n  getNewDataReply,\n};\n","import { validateUUID } from '../../common';\n\nconst defaultState = {\n  accesstoken: undefined,\n  avatar: undefined,\n  uname: undefined,\n  uid: undefined,\n  isAuthed: false,\n};\n\nlet initialState = JSON.parse(localStorage.getItem('AUTH'));\n\nif (initialState !== null && validateUUID(initialState.accesstoken)) {\n  initialState = {\n    ...initialState,\n    isAuthed: true,\n  };\n} else {\n  initialState = defaultState;\n}\n\nconst auth = (state = initialState, { type, data }) => {\n  switch (type) {\n    case 'UPDATE_AUTH':\n      const { isAuthed, ...other } = data;\n      localStorage.setItem('AUTH', JSON.stringify({\n        ...other,\n      }));\n      return { ...data };\n    case 'DELETE_AUTH':\n      localStorage.removeItem('AUTH');\n      return defaultState;\n    default:\n      return state;\n  }\n};\n\nexport default auth;\n","const initialState = {\n  count: 0,\n};\n\nconst message = (state = initialState, { type, data }) => {\n  switch (type) {\n    case 'READ_MESSAGE':\n      let { count } = state;\n      count = Math.max(--count, 0);\n      return { count };\n    case 'READ_ALL_MESSAGE':\n      return initialState;\n    case 'UPDATE_MESSAGE':\n      return { count: data };\n    case 'CLEAN_MESSAGE':\n      return initialState;\n    default:\n      return state;\n  }\n};\n\nexport default message;\n","const initialState = {\n  open: false,\n};\n\nconst editor = (state = initialState, { type, data }) => {\n  switch (type) {\n    case 'OPEN_EDITOR':\n      const { action, ...other } = data;\n      return {\n        open: true,\n        action: action || 'create',\n        ...other,\n      };\n    case 'CLOSE_EDITOR':\n      return {\n        ...data,\n        open: false,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default editor;\n","const initialState = {\n  url: '',\n  open: false,\n};\n\nconst share = (state = initialState, { type, data }) => {\n  switch (type) {\n    case 'OPEN_SHARE':\n      if (typeof data === 'string') {\n        data = {\n          url: data,\n          post: null,\n        };\n      }\n      return {\n        ...data,\n        open: true,\n      };\n    case 'CLOSE_SHARE':\n      return {\n        ...state,\n        open: false,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default share;\n","const initialState = {\n  open: false,\n};\n\nconst zoom = (state = initialState, { type, data }) => {\n  switch (type) {\n    case 'OPEN_ZOOM':\n      return {\n        ...data,\n        open: true,\n      };\n    case 'CLOSE_ZOOM':\n      return {\n        ...state,\n        open: false,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default zoom;\n","const initialState = {\n  message: '',\n  status: 'success',\n  open: false,\n};\n\nconst notification = (state = initialState, { type, data }) => {\n  switch (type) {\n    case 'OPEN_NOTIFICATION':\n      if (typeof data === 'string') {\n        data = {\n          message: data,\n          status: 'success',\n        };\n      }\n      return {\n        ...data,\n        open: true,\n      };\n    case 'CLOSE_NOTIFICATION':\n      return {\n        ...state,\n        open: false,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default notification;\n","const defaultState = {\n  autoFollow: true,\n  themeMode: 'light',\n  cardPreview: false,\n  time: 0,\n};\n\nlet initialState = JSON.parse(localStorage.getItem('SETTINGS')) || {};\n\nconst {\n  autoFollow = true,\n  themeMode = 'light',\n  cardPreview = false,\n  time = 0,\n} = initialState;\n\ninitialState = {\n  autoFollow,\n  themeMode,\n  cardPreview,\n  time,\n};\n\nconst settings = (state = initialState, { type, data }) => {\n  switch (type) {\n    case 'UPDATE_SETTINGS':\n      localStorage.setItem('SETTINGS', JSON.stringify({\n        ...data,\n      }));\n      return { ...data };\n    case 'RESTORE_SETTINGS':\n      localStorage.removeItem('SETTINGS');\n      return defaultState;\n    default:\n      return state;\n  }\n};\n\nexport default settings;\n","const initialState = JSON.parse(localStorage.getItem('THEME'));\n\nconst colors = (state = initialState, action) => {\n  switch (action.type) {\n    case 'UPDATE_COLORS':\n      return {\n        ...action.data,\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default colors;\n","import { combineReducers } from 'redux';\nimport auth from './auth';\nimport message from './message';\nimport editor from './editor';\nimport share from './share';\nimport zoom from './zoom';\nimport notification from './notification';\nimport settings from './settings';\nimport colors from './colors';\n\nconst rootReducer = combineReducers({\n  auth,\n  message,\n  editor,\n  share,\n  zoom,\n  notification,\n  settings,\n  colors,\n});\n\nexport default rootReducer;\n","import { applyMiddleware, createStore } from 'redux';\nimport rootReducer from './reducers';\n\nlet middlewares = [];\n\nif (process.env.NODE_ENV === 'development') {\n  const { createLogger } = require('redux-logger');\n\n  middlewares = [ ...middlewares, createLogger() ];\n}\n\nconst store = createStore(\n  rootReducer,\n  applyMiddleware(...middlewares),\n);\n\nexport default store;\n","import Prism from 'prismjs';\n\nimport 'prismjs/components/prism-bash';\nimport 'prismjs/components/prism-c';\nimport 'prismjs/components/prism-clike';\nimport 'prismjs/components/prism-cpp';\nimport 'prismjs/components/prism-css';\nimport 'prismjs/components/prism-diff';\nimport 'prismjs/components/prism-docker';\nimport 'prismjs/components/prism-erlang';\nimport 'prismjs/components/prism-git';\nimport 'prismjs/components/prism-go';\nimport 'prismjs/components/prism-java';\nimport 'prismjs/components/prism-javascript';\nimport 'prismjs/components/prism-json';\nimport 'prismjs/components/prism-jsx';\nimport 'prismjs/components/prism-lua';\nimport 'prismjs/components/prism-makefile';\nimport 'prismjs/components/prism-markdown';\nimport 'prismjs/components/prism-markup';\nimport 'prismjs/components/prism-objectivec';\n\n/**\n * https://github.com/PrismJS/prism/issues/1423\n * Cannot read property 'tokenizePlaceholders' of undefined\n */\nimport 'prismjs/components/prism-markup-templating';\nimport 'prismjs/components/prism-php';\n\nimport 'prismjs/components/prism-python';\nimport 'prismjs/components/prism-sql';\nimport 'prismjs/components/prism-swift';\nimport 'prismjs/components/prism-tsx';\nimport 'prismjs/components/prism-typescript';\nimport 'prismjs/components/prism-yaml';\n\nexport default Prism;\n\nexport { default as lightPrismTheme } from 'prismjs/themes/prism.css';\nexport { default as darkPrismTheme } from 'prismjs/themes/prism-okaidia.css';\n\n// alias => prism\nexport const alias = {\n  'h': 'c',\n  'rb': 'ruby',\n  'py': 'python',\n  'sh': 'bash',\n  'yml': 'yaml',\n  'golang': 'go',\n  'dockerfile': 'docker',\n  'tex': 'latex',\n  'bat': 'batch',\n  'ps1': 'powershell',\n  'psm1': 'powershell',\n};\n\nconst styleNode = document.querySelector('#prismjs');\n\nexport const setPrismTheme = theme => {\n  styleNode.textContent = theme;\n};\n","export const lightThemeOptions = {\n  primary: {\n    main: '#0082ea',\n    dark: '#0376d2', // :hover\n    light: '#2092ec',\n  },\n  background: {\n    default: '#f4f4f4',\n  },\n};\n\nexport const darkThemeOptions = {\n  primary: {\n    main: '#0963ab',\n    contrastText: '#ccc',\n  },\n  secondary: {\n    main: '#ab003d',\n    contrastText: '#ccc',\n  },\n  action: {\n    active: '#ccc',\n  },\n  text: {\n    primary: '#ccc',\n  },\n  background: {\n    default: '#212121',\n  },\n  divider: 'rgba(128,128,128,.12)',\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useSelector } from 'react-redux';\n\nimport { ThemeProvider as MuiThemeProvider } from '@material-ui/styles';\nimport { createMuiTheme } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\n\nimport { setPrismTheme, lightPrismTheme, darkPrismTheme } from '../Prism';\nimport { lightThemeOptions, darkThemeOptions } from './themeOptions';\n\nexport const useSystemThemeMode = () => {\n  const prefersLightMode = useMediaQuery('(prefers-color-scheme: light)');\n  return prefersLightMode ? 'light' : 'dark';\n};\n\nconst ThemeProvider = (props) => {\n  const systemThemeMode = useSystemThemeMode();\n  const { autoFollow, themeMode } = useSelector(state => state.settings);\n  const paletteType = autoFollow ? systemThemeMode : themeMode;\n\n  React.useEffect(() => {\n    setPrismTheme(paletteType === 'light' ? lightPrismTheme : darkPrismTheme);\n  }, [paletteType]);\n\n  const theme = React.useMemo(() => (createMuiTheme({\n    palette: {\n      ...(paletteType === 'light' ? lightThemeOptions : darkThemeOptions),\n      type: paletteType,\n    },\n  })), [paletteType]);\n\n  React.useEffect(() => {\n    if (process.env.NODE_ENV === 'development') {\n      window.theme = theme;\n    }\n  }, [theme]);\n\n  return (\n    <MuiThemeProvider theme={theme}>\n      {props.children}\n    </MuiThemeProvider>\n  );\n};\n\nThemeProvider.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default ThemeProvider;\n","import React from 'react';\nimport { useLocation } from 'react-router-dom';\n\nconst ScrollToTop = () => {\n  const { pathname, search } = useLocation();\n\n  React.useEffect(() => {\n    // const element = document.querySelector('#root');\n    // element.scrollIntoView({ behavior: 'smooth', block: 'start' });\n    window.scrollTo(0, 0);\n  }, [pathname, search]);\n\n  return null;\n};\n\nexport default ScrollToTop;\n","import React from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport LinearProgress from '@material-ui/core/LinearProgress';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    position: 'fixed',\n    top: 0,\n    left: 0,\n    right: 0,\n  },\n}));\n\n\nconst Loadding = () => {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <LinearProgress />\n    </div>\n  );\n};\n\nexport default Loadding;\n","export const changeTitle = title => {\n  document.title = Boolean(title) ? title : 'RCNode';\n};\n\nconst changeElementAttributes = (element, attrs) => {\n  if (element === 'html') {\n    element = document.documentElement;\n  } else if (element === 'body') {\n    element = document.body;\n  } else if (!document.body.contains(element)) {\n    return;\n  }\n\n  attrs = Object.assign({ id: null, class: null }, attrs);\n\n  Object.keys(attrs).forEach(name => {\n    const value = attrs[name];\n\n    if (Boolean(value)) {\n      element.setAttribute(name, value);\n    } else {\n      element.removeAttribute(name);\n    }\n  });\n};\n\nexport const changeHtmlAttributes = attrs => {\n  changeElementAttributes('html', attrs);\n};\n\nexport const changeBodyAttributes = attrs => {\n  changeElementAttributes('body', attrs);\n};\n","import axios from 'axios';\nimport image from '../static/images/houses_beautiful_beach_photo_wallpaper.jpg';\n\n/**\n * fetch Bing Image\n * @param {string} url proxy address\n */\nconst getBingImage = async url => {\n  url = url ||\n        process.env.NODE_ENV === 'production'\n          ? 'https://bing.fansaly.com'\n          : 'http://localhost:3003';\n\n  const defaultData = {\n    copyright: '',\n    url: image,\n    time: (new Date()).getTime(),\n  };\n\n  try {\n    const { data } = await axios.get(url);\n    return data;\n  } catch (e) {\n    console.warn('Get Bing\\'s image failed.');\n    return defaultData;\n  }\n};\n\nexport { getBingImage };\n","import axios from 'axios';\nimport { getBingImage } from './getBingImage';\n\nconst cnodeAxios = axios.create({\n  baseURL: 'https://cnodejs.org/api/v1',\n  timeout: 3000,\n});\n\n/**\n * @param {string} url\n * @param {string} method\n * @param {object} params\n */\nconst fetch = async ({ url, method = 'GET', params = {} }) => {\n  params = method === 'GET' ? { params } : { data: params };\n\n  try {\n    const { data } = await cnodeAxios({ method, url, ...params });\n\n    return {\n      success: true,\n      data: method === 'GET' ? data.data : data,\n    };\n\n  } catch ({ response }) {\n    if (!Boolean(response)) {\n      return {\n        success: false,\n        err_msg: '',\n      };\n    }\n\n    const { status, data: { error_msg = '' } } = response;\n\n    return {\n      success: false,\n      err_msg: !Boolean(error_msg) && process.env.NODE_ENV === 'development'\n               ? `${status} => ${url}`\n               : error_msg,\n    };\n  }\n};\n\nconst get = async ({ url, params }) => {\n  return await fetch({ method: 'GET', url, params });\n};\n\nconst post = async ({ url, params }) => {\n  return await fetch({ method: 'POST', url, params });\n};\n\nexport {\n  get,\n  post,\n  getBingImage,\n};\n","export default {\n  viewBox: '-2 -2 20 20', // 0 0 16 16\n  path: 'M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z',\n};\n"," const path = `\n  M 19 3\n  c 1.1 0 2 0.9 2 2\n  v 4\n  h -2\n  V 5\n  H 5\n  v 14\n  h 14\n  v -4\n  h 2\n  v 4\n  c 0 1.11 -0.9 2 -2 2\n  H 5\n  c -1.11 0 -2 -0.9 -2 -2\n  V 5\n  c 0 -1.1 0.89 -2 2 -2\n  Z\n\n  M 13.09 15.59\n  L 14.5 17\n  l 5 -5\n  l -5 -5\n  l -1.41 1.41\n  L 15.67 11\n  h -9.67\n  v 2\n  h 9.67\n  l -2.58 2.59\n  Z\n`.replace(/\\s{2,}/g, ' ').trim();\n\nexport default path;\n","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\nimport githubSvg from './Github';\nimport signOutSvgPath from './SignOut';\n\nconst GithubIcon = (\n  <SvgIcon viewBox={githubSvg.viewBox}>\n    <path d={githubSvg.path} />\n  </SvgIcon>\n);\n\nconst SignOutIcon = (\n  <SvgIcon>\n    <path d={signOutSvgPath} />\n  </SvgIcon>\n);\n\nexport { GithubIcon, SignOutIcon };\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => React.createElement(\"svg\", _extends({\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\"\n}, props), React.createElement(\"path\", {\n  fill: \"#4AC6C6\",\n  d: \"M12 24C5.4 24 0 18.6 0 12S5.4 0 12 0s12 5.4 12 12-5.4 12-12 12z\"\n}), React.createElement(\"path\", {\n  fill: \"#FFF\",\n  d: \"M11.9 4.5c-4.1.1-7.3 3.6-7.3 7.7v5.5c0 1 1.1 1.6 1.9 1.1.5-.3.9-.6 1.8-.6 1.9 0 1.9 1.3 3.7 1.3s1.9-1.3 3.7-1.3c.9 0 1.3.3 1.8.6.8.5 1.9-.1 1.9-1.1V12c.1-4.2-3.3-7.6-7.5-7.5z\"\n}), React.createElement(\"circle\", {\n  fill: \"#2A5083\",\n  cx: \"9.5\",\n  cy: \"10.1\",\n  r: \".6\"\n}), React.createElement(\"circle\", {\n  fill: \"#2A5083\",\n  cx: \"14.5\",\n  cy: \"10.1\",\n  r: \".6\"\n}), React.createElement(\"path\", {\n  fill: \"#2A5083\",\n  d: \"M12 15.3c1.2 0 2.3-.8 2.6-1.9.1-.5-.2-.9-.7-.9H10c-.5 0-.8.5-.7.9.4 1.1 1.5 1.9 2.7 1.9z\"\n}), React.createElement(\"path\", {\n  fill: \"#FF4E4A\",\n  d: \"M12 13.9c-.7 0-1.2.4-1.6.9.4.3 1 .5 1.6.5.6 0 1.1-.2 1.5-.5-.3-.5-.8-.9-1.5-.9z\"\n}), React.createElement(\"path\", {\n  fill: \"#DBF4F4\",\n  d: \"M6.5 18.8c.4-.3.8-.6 1.7-.6v-.6c0-2.5-1.5-4.6-3.6-5.5v5.7c-.1.9 1 1.5 1.9 1zM16.3 18.3c.6.1.9.3 1.3.6.8.5 1.9-.1 1.9-1.1v-3.5c-1.6.9-2.7 2.3-3.2 4z\"\n})));","import React from 'react';\nimport clsx from 'clsx';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { get } from '../../fetch';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Badge from '@material-ui/core/Badge';\nimport Avatar from '@material-ui/core/Avatar';\nimport IconButton from '@material-ui/core/IconButton';\n\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport Grow from '@material-ui/core/Grow';\nimport Paper from '@material-ui/core/Paper';\nimport Popper from '@material-ui/core/Popper';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport MenuList from '@material-ui/core/MenuList';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nimport PersonIcon from '@material-ui/icons/Person';\nimport NotificationsIcon from '@material-ui/icons/Notifications';\nimport SettingsIcon from '@material-ui/icons/SettingsRounded';\nimport SignInIcon from '@material-ui/icons/ExitToApp';\nimport { SignOutIcon } from '../../Components/Icons';\n\nimport AvatarSvg from '../../static/avatar.svg';\nimport './me.styl';\n\nconst useStyles = makeStyles(theme => ({\n  badge: {\n    '&:before, &:after': {\n      content: '\"\"',\n      position: 'absolute',\n      top: 0,\n      right: 0,\n      marginTop: 6,\n      marginRight: 6,\n      width: 6,\n      height: 6,\n      borderRadius: '50%',\n      opacity: 0,\n      transition: 'opacity .3s linear',\n    },\n    '&.has-message:before': {\n      opacity: 1,\n      backgroundColor: 'rgba(128, 189, 1, .85)',\n      boxShadow: '0 0 4px rgba(0, 0, 0, .15)',\n    },\n    '&.has-message:after': {\n      animation: '$ripple 1.2s infinite ease-in-out',\n      border: '1px solid #44b700',\n    },\n  },\n  '@keyframes ripple': {\n    '0%': {\n      transform: 'scale(.8)',\n      opacity: 1,\n    },\n    '100%': {\n      transform: 'scale(2.4)',\n      opacity: 0,\n    },\n  },\n  hidden: {\n    '& span': {\n      visibility: 'hidden',\n    },\n  },\n}));\n\nconst Me = () => {\n  const { isAuthed, accesstoken, uname, avatar } = useSelector(({ auth }) => auth);\n  const { time } = useSelector(({ settings }) => settings);\n  const message = useSelector(s => s.message);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const classes = useStyles();\n\n  const timerMessage = React.useRef(null);\n  const timerSignout = React.useRef(null);\n  const isCancel = React.useRef();\n  const anchorEl = React.useRef(null);\n\n  const [open, setOpen] = React.useState(false);\n\n  const handleToggle = () => {\n    setOpen(prevState => !prevState);\n  };\n\n  const handleClose = event => {\n    if (anchorEl.current.contains(event.target)) {\n      return;\n    }\n\n    setOpen(false);\n  };\n\n  const handleInfo = event => {\n    handleClose(event);\n    history.push(`/user/${uname}`);\n  };\n\n  const handleMessage = event => {\n    const messagePath = '/message';\n    const { pathname } = history.location;\n\n    handleClose(event);\n\n    if (pathname === messagePath) {\n      history.replace(messagePath);\n    } else {\n      history.push(messagePath);\n    }\n  };\n\n  const handleSettings = event => {\n    handleClose(event);\n    history.push('/settings');\n  };\n\n  const handleSignin = event => {\n    handleClose(event);\n    history.push('/signin');\n  };\n\n  const handleSignout = event => {\n    handleClose(event);\n\n    clearTimeout(timerSignout.current);\n\n    timerSignout.current = setTimeout(() => {\n      dispatch({ type: 'DELETE_AUTH' });\n      dispatch({ type: 'CLEAN_MESSAGE' });\n    }, 330);\n  };\n\n  React.useEffect(() => {\n    return () => clearTimeout(timerSignout.current);\n  }, []);\n\n  React.useEffect(() => {\n    isCancel.current = false;\n\n    clearTimeout(timerMessage.current);\n\n    const fetchUnreadCount = async () => {\n      if (!isAuthed) { return; }\n\n      const params = {\n        url: '/message/count',\n        params: { accesstoken },\n      };\n\n      const { success, data: count } = await get(params);\n\n      if (isCancel.current) {\n        return;\n      }\n\n      if (success) {\n        dispatch({ type: 'UPDATE_MESSAGE', data: count });\n      }\n\n      if (time > 0) {\n        timerMessage.current = setTimeout(() => {\n          fetchUnreadCount();\n        }, time * 1e3);\n      }\n    };\n\n    fetchUnreadCount();\n\n    return () => {\n      isCancel.current = true;\n      clearTimeout(timerMessage.current);\n    };\n  }, [isAuthed, accesstoken, dispatch, time]);\n\n  return (\n    <Grid item className=\"flex\">\n      <Grid\n        container\n        alignContent=\"center\"\n        alignItems=\"center\"\n        justify=\"center\"\n        className={isAuthed ? 'info' : 'signin'}\n      >\n        <IconButton\n          buttonRef={node => {\n            anchorEl.current = node;\n          }}\n          aria-owns={open ? 'menu-list-grow' : null}\n          aria-haspopup=\"true\"\n          onClick={handleToggle}\n          className={clsx('me', classes.badge, {\n            'has-message': Boolean(message.count),\n          })}\n        >\n          <Avatar className=\"flex avatar\">\n            {isAuthed ? (\n              <img src={avatar} alt=\"U\" />\n            ) : (\n              <AvatarSvg />\n            )}\n          </Avatar>\n        </IconButton>\n        <Popper open={open} anchorEl={anchorEl.current} transition disablePortal>\n          {({ TransitionProps, placement }) => (\n            <Grow\n              {...TransitionProps}\n              id=\"menu-list-grow\"\n              style={{ transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom' }}\n            >\n              <Paper>\n                <ClickAwayListener onClickAway={handleClose}>\n                  <MenuList>\n                    {isAuthed &&\n                      <MenuItem onClick={handleInfo}>\n                        <ListItemIcon>\n                          <PersonIcon />\n                        </ListItemIcon>\n                        <ListItemText primary=\"\" />\n                      </MenuItem>\n                    }\n                    {isAuthed &&\n                      <MenuItem onClick={handleMessage}>\n                        <ListItemIcon>\n                          <Badge\n                            badgeContent={message.count}\n                            className={clsx('badge', {\n                              [classes.hidden]: message.count <= 0,\n                            })}\n                          >\n                            <NotificationsIcon />\n                          </Badge>\n                        </ListItemIcon>\n                        <ListItemText primary=\"\" />\n                      </MenuItem>\n                    }\n                    <MenuItem onClick={handleSettings}>\n                      <ListItemIcon>\n                        <SettingsIcon />\n                      </ListItemIcon>\n                      <ListItemText primary=\"\" />\n                    </MenuItem>\n                    {isAuthed ? (\n                      <MenuItem onClick={handleSignout}>\n                        <ListItemIcon>\n                          {SignOutIcon}\n                        </ListItemIcon>\n                        <ListItemText primary=\"\" />\n                      </MenuItem>\n                    ) : (\n                      <MenuItem onClick={handleSignin}>\n                        <ListItemIcon>\n                          <SignInIcon />\n                        </ListItemIcon>\n                        <ListItemText primary=\"\" />\n                      </MenuItem>\n                    )}\n                  </MenuList>\n                </ClickAwayListener>\n              </Paper>\n            </Grow>\n          )}\n        </Popper>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default Me;\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport {\n  navTabsArray as navTabs,\n  navIsActive,\n} from '../../common';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\n\nimport './normal-nav.styl';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    '& .type': {\n      color: `${theme.palette.type === 'light' ? '#fff' : '#ccc'} !important`,\n    },\n  },\n}));\n\nconst NormalNav = () => {\n  const classes = useStyles();\n\n  const isActive = path => (match, location) => {\n    return navIsActive(path, location);\n  };\n\n  return (\n    <Grid\n      container\n      justify=\"center\"\n      alignItems=\"center\"\n      className=\"type-content\"\n    >\n      {navTabs.map(({ path, name }) => (\n        <NavLink\n          to={path}\n          key={path}\n          activeClassName={`${classes.root} current`}\n          isActive={isActive(path)}\n        >\n          <Button\n            className=\"type\"\n            disableFocusRipple\n          >\n            {name}\n          </Button>\n        </NavLink>\n      ))}\n    </Grid>\n  );\n};\n\nexport default NormalNav;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport NotesIcon from '@material-ui/icons/Notes';\nimport TopIcon from '@material-ui/icons/Publish';\nimport GoodIcon from '@material-ui/icons/ThumbUp';\nimport QAIcon from '@material-ui/icons/Chat';\nimport ShareIcon from '@material-ui/icons/Share';\nimport JobIcon from '@material-ui/icons/Work';\nimport DevIcon from '@material-ui/icons/Build';\nimport UnknownIcon from '@material-ui/icons/HelpOutline';\n\nconst TopicTypeIcon = (props) => {\n  const {\n    all,\n    good,\n    top,\n    tab,\n    ...rest\n  } = props;\n\n  let typeIcon = <UnknownIcon {...rest} />;\n\n  if (all) {\n    typeIcon = <NotesIcon {...rest} />;\n  } else if (top) {\n    typeIcon = <TopIcon {...rest} />;\n  } else if (good) {\n    typeIcon = <GoodIcon {...rest} />;\n  } else {\n    switch (tab) {\n      case 'ask':\n        typeIcon = <QAIcon {...rest} />;\n        break;\n      case 'share':\n        typeIcon = <ShareIcon {...rest} />;\n        break;\n      case 'job':\n        typeIcon = <JobIcon {...rest} />;\n        break;\n      case 'dev':\n        typeIcon = <DevIcon {...rest} />;\n        break;\n      default:\n        break;\n    }\n  }\n\n  return typeIcon;\n};\n\nTopicTypeIcon.propTypes = {\n  tab: PropTypes.string,\n  all: PropTypes.bool,\n  top: PropTypes.bool,\n  good: PropTypes.bool,\n};\n\nexport default TopicTypeIcon;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => React.createElement(\"svg\", _extends({\n  version: \"1.1\",\n  id: \"\\u56FE\\u5C42_1\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  x: \"0\",\n  y: \"0\",\n  viewBox: \"0 0 427.3 100.4\",\n  xmlSpace: \"preserve\"\n}, props), React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  fill: \"#46483E\",\n  d: \"M127.987 52.994c0-1.084-.57-2.08-1.506-2.617l-24.937-14.352a2.934 2.934 0 00-1.373-.396h-.258a2.973 2.973 0 00-1.377.396L73.598 50.377a3.023 3.023 0 00-1.508 2.617l.055 38.644c0 .538.279 1.038.752 1.301a1.446 1.446 0 001.496 0l14.821-8.485a3.036 3.036 0 001.507-2.613V63.784a3 3 0 011.504-2.606l6.311-3.636a3 3 0 013.008 0l6.308 3.636a3 3 0 011.506 2.606V81.84c0 1.074.578 2.062 1.51 2.613l14.816 8.485a1.464 1.464 0 001.506 0c.459-.263.748-.763.748-1.301l.049-38.643zM261.147-.129a1.508 1.508 0 00-2.241 1.315v38.271c0 .376-.201.724-.525.913a1.06 1.06 0 01-1.056 0l-6.246-3.599a3.013 3.013 0 00-3.01.001L223.122 51.17a3.007 3.007 0 00-1.506 2.607v28.801c0 1.076.573 2.07 1.505 2.609l24.946 14.408a3.011 3.011 0 003.014 0l24.95-14.408a3.012 3.012 0 001.506-2.609V10.786a3.013 3.013 0 00-1.545-2.631L261.147-.129zm-2.314 73.244c0 .27-.145.519-.378.651l-8.564 4.938a.749.749 0 01-.752 0l-8.566-4.938a.752.752 0 01-.377-.651v-9.891c0-.269.145-.517.376-.651l8.566-4.947a.752.752 0 01.754 0l8.564 4.947a.756.756 0 01.377.651v9.891zM350.4 62.966a3.011 3.011 0 001.499-2.604v-6.979a3.012 3.012 0 00-1.5-2.605l-24.787-14.392a3.015 3.015 0 00-3.02-.004l-24.938 14.397a3.012 3.012 0 00-1.506 2.609v28.793c0 1.083.58 2.081 1.521 2.616l24.783 14.122a3.015 3.015 0 002.954.018l14.989-8.332c.477-.266.772-.765.774-1.308a1.503 1.503 0 00-.755-1.315L315.32 73.576a1.503 1.503 0 01-.758-1.306v-9.024c0-.538.287-1.036.755-1.304l7.811-4.504a1.505 1.505 0 011.503 0l7.815 4.504c.467.268.754.766.754 1.304v7.101a1.507 1.507 0 002.263 1.303l14.937-8.684z\"\n}), React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  fill: \"#80bd01\",\n  d: \"M173.35 36.23a3.012 3.012 0 013.012 0l24.943 14.395a3.008 3.008 0 011.508 2.609v28.811a3.014 3.014 0 01-1.506 2.61L176.363 99.06a3.016 3.016 0 01-3.014 0l-24.938-14.405a3.014 3.014 0 01-1.506-2.61V53.233c0-1.076.574-2.071 1.507-2.608L173.35 36.23z\"\n}), React.createElement(\"path\", {\n  fill: \"#80bd01\",\n  d: \"M398.833 99.472a4.941 4.941 0 01-2.468-.66l-7.853-4.646c-1.172-.656-.601-.888-.213-1.023 1.563-.543 1.881-.668 3.551-1.614.173-.099.404-.062.584.045l6.033 3.582a.775.775 0 00.728 0l23.522-13.577a.739.739 0 00.358-.636V53.796a.757.757 0 00-.364-.647l-23.513-13.565a.736.736 0 00-.724 0L374.97 53.152a.754.754 0 00-.373.644v27.146c0 .26.144.506.371.629l6.442 3.722c3.496 1.748 5.638-.31 5.638-2.379v-26.8c0-.379.305-.678.683-.678h2.983a.68.68 0 01.682.678v26.8c0 4.666-2.541 7.342-6.965 7.342-1.36 0-2.43 0-5.418-1.472l-6.168-3.551a4.97 4.97 0 01-2.467-4.291V53.796c0-1.763.942-3.41 2.467-4.287l23.521-13.592c1.489-.841 3.468-.841 4.944 0l23.519 13.592a4.967 4.967 0 012.472 4.287v27.146a4.979 4.979 0 01-2.472 4.291L401.31 98.812a4.944 4.944 0 01-2.477.66\"\n}), React.createElement(\"path\", {\n  fill: \"#80bd01\",\n  d: \"M406.099 80.771c-10.294 0-12.449-4.725-12.449-8.687 0-.377.303-.678.68-.678h3.041a.68.68 0 01.675.575c.459 3.097 1.828 4.658 8.054 4.658 4.954 0 7.064-1.121 7.064-3.75 0-1.515-.598-2.64-8.299-3.394-6.437-.638-10.416-2.06-10.416-7.208 0-4.745 4-7.576 10.707-7.576 7.535 0 11.263 2.615 11.736 8.227a.688.688 0 01-.181.523.692.692 0 01-.498.217h-3.052a.679.679 0 01-.661-.531c-.731-3.258-2.513-4.299-7.345-4.299-5.41 0-6.039 1.885-6.039 3.297 0 1.711.742 2.209 8.047 3.176 7.229.955 10.662 2.309 10.662 7.39 0 5.125-4.274 8.06-11.726 8.06\"\n}), React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  fill: \"#80bd01\",\n  d: \"M323.735 61.618a.573.573 0 01.577 0l4.787 2.762c.18.103.289.294.289.5v5.527a.577.577 0 01-.289.501l-4.787 2.763a.577.577 0 01-.577 0l-4.783-2.763a.577.577 0 01-.289-.501V64.88c0-.206.109-.397.289-.5l4.783-2.762z\"\n}), React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  fill: \"#46483E\",\n  d: \"M36.28 61.87c1.098.65 1.358.255 1.742.035.385-.221 14.695-8.411 15.606-8.857.912-.446 1.315-1.915.114-2.61-1.201-.697-25.41-14.721-24.241-14.12 1.259.646-1.202-.829-2.626-.175-1.425.654-23.231 13.192-24.777 14.075-1.545.883-2.032 1.731-2.027 2.907.004 1.176-.078 27.253 0 28.801.078 1.548.69 2.052 1.506 2.609.816.558 22.901 13.505 24.572 14.41 1.671.907 2.768.597 3.853-.04 1.085-.639 22.727-13.003 23.593-13.554.866-.551 1.653-1.969-.157-2.992-1.811-1.022-14.779-8.693-15.279-8.943s-.796-.255-1.52.151c-.724.408-7.222 4.062-8.013 4.524s-.904.254-1.283.033c-.378-.222-7.085-4.135-7.859-4.571s-.866-.656-.868-1.25c-.001-.593-.018-8.121.023-8.998.04-.877.165-1.074.962-1.548.797-.474 6.695-3.978 7.166-4.293.47-.315 1.459-.345 2.231.108.772.452 6.184 3.647 7.282 4.298\"\n})));","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport {\n  navTabsArray as navTabs,\n  navIsActive,\n} from '../../common';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport SwipeableDrawer from '@material-ui/core/SwipeableDrawer';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nimport TopicTypeIcon from '../../Components/TopicTypeIcon';\nimport LogoSvg from '../../static/cnodejs/cnodejs.svg';\n\nconst useStyles = makeStyles(theme => ({\n  drawerPaper: {\n    width: 214,\n    backgroundColor: theme.palette.type === 'light' ? 'rgba(255,255,255,.96)' : 'rgba(66,66,66,.98)',\n  },\n  toolbar: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    ...theme.mixins.toolbar,\n  },\n  logo: {\n    paddingLeft: 16,\n    [theme.breakpoints.up('sm')]: {\n      paddingLeft: 24,\n    },\n    '& svg': {\n      height: 32,\n      marginBottom: 2,\n    },\n  },\n  spacing: {\n    marginRight: 6,\n  },\n}));\n\nconst DrawerNav = (props) => {\n  const classes = useStyles();\n  const history = useHistory();\n  const location = useLocation();\n\n  const isActive = path => {\n    return navIsActive(path, location);\n  };\n\n  const handleClose = () => {\n    props.onClose();\n  };\n\n  const handleClick = path => {\n    history.push(path);\n    handleClose();\n  };\n\n  return (\n    <SwipeableDrawer\n      open={props.open}\n      variant=\"temporary\"\n      onClose={handleClose}\n      onOpen={()=>{}}\n      classes={{\n        paper: classes.drawerPaper,\n      }}\n      ModalProps={{\n        keepMounted: true,\n      }}\n    >\n      <div className={`${classes.toolbar} ${classes.logo}`}>\n        <LogoSvg />\n      </div>\n\n      <List>\n        {navTabs.map(({ tab, path, name }) => (\n          <ListItem\n            button\n            key={tab}\n            component=\"a\"\n            selected={isActive(path)}\n            onClick={event => handleClick(path)}\n          >\n            <ListItemIcon className={classes.spacing}>\n              <TopicTypeIcon\n                color=\"inherit\"\n                all={tab === 'all'}\n                good={tab === 'good'}\n                tab={tab}\n              />\n            </ListItemIcon>\n            <ListItemText primary={name} />\n          </ListItem>\n        ))}\n      </List>\n    </SwipeableDrawer>\n  );\n};\n\nDrawerNav.propTypes = {\n  open: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n};\n\nexport default DrawerNav;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => React.createElement(\"svg\", _extends({\n  version: \"1.1\",\n  id: \"\\u56FE\\u5C42_1\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  x: \"0\",\n  y: \"0\",\n  viewBox: \"0 0 427.3 100.4\",\n  xmlSpace: \"preserve\"\n}, props), React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  fill: \"#fff\",\n  d: \"M127.987 52.994c0-1.084-.57-2.08-1.506-2.617l-24.937-14.352a2.934 2.934 0 00-1.373-.396h-.258a2.973 2.973 0 00-1.377.396L73.598 50.377a3.023 3.023 0 00-1.508 2.617l.055 38.644c0 .538.279 1.038.752 1.301a1.446 1.446 0 001.496 0l14.821-8.485a3.036 3.036 0 001.507-2.613V63.784a3 3 0 011.504-2.606l6.311-3.636a3 3 0 013.008 0l6.308 3.636a3 3 0 011.506 2.606V81.84c0 1.074.578 2.062 1.51 2.613l14.816 8.485a1.464 1.464 0 001.506 0c.459-.263.748-.763.748-1.301l.049-38.643zM261.147-.129a1.508 1.508 0 00-2.241 1.315v38.271c0 .376-.201.724-.525.913a1.06 1.06 0 01-1.056 0l-6.246-3.599a3.013 3.013 0 00-3.01.001L223.122 51.17a3.007 3.007 0 00-1.506 2.607v28.801c0 1.076.573 2.07 1.505 2.609l24.946 14.408a3.011 3.011 0 003.014 0l24.95-14.408a3.012 3.012 0 001.506-2.609V10.786a3.013 3.013 0 00-1.545-2.631L261.147-.129zm-2.314 73.244c0 .27-.145.519-.378.651l-8.564 4.938a.749.749 0 01-.752 0l-8.566-4.938a.752.752 0 01-.377-.651v-9.891c0-.269.145-.517.376-.651l8.566-4.947a.752.752 0 01.754 0l8.564 4.947a.756.756 0 01.377.651v9.891zM350.4 62.966a3.011 3.011 0 001.499-2.604v-6.979a3.012 3.012 0 00-1.5-2.605l-24.787-14.392a3.015 3.015 0 00-3.02-.004l-24.938 14.397a3.012 3.012 0 00-1.506 2.609v28.793c0 1.083.58 2.081 1.521 2.616l24.783 14.122a3.015 3.015 0 002.954.018l14.989-8.332c.477-.266.772-.765.774-1.308a1.503 1.503 0 00-.755-1.315L315.32 73.576a1.503 1.503 0 01-.758-1.306v-9.024c0-.538.287-1.036.755-1.304l7.811-4.504a1.505 1.505 0 011.503 0l7.815 4.504c.467.268.754.766.754 1.304v7.101a1.507 1.507 0 002.263 1.303l14.937-8.684z\"\n}), React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  fill: \"#80bd01\",\n  d: \"M173.35 36.23a3.012 3.012 0 013.012 0l24.943 14.395a3.008 3.008 0 011.508 2.609v28.811a3.014 3.014 0 01-1.506 2.61L176.363 99.06a3.016 3.016 0 01-3.014 0l-24.938-14.405a3.014 3.014 0 01-1.506-2.61V53.233c0-1.076.574-2.071 1.507-2.608L173.35 36.23z\"\n}), React.createElement(\"path\", {\n  fill: \"#80bd01\",\n  d: \"M398.833 99.472a4.941 4.941 0 01-2.468-.66l-7.853-4.646c-1.172-.656-.601-.888-.213-1.023 1.563-.543 1.881-.668 3.551-1.614.173-.099.404-.062.584.045l6.033 3.582a.775.775 0 00.728 0l23.522-13.577a.739.739 0 00.358-.636V53.796a.757.757 0 00-.364-.647l-23.513-13.565a.736.736 0 00-.724 0L374.97 53.152a.754.754 0 00-.373.644v27.146c0 .26.144.506.371.629l6.442 3.722c3.496 1.748 5.638-.31 5.638-2.379v-26.8c0-.379.305-.678.683-.678h2.983a.68.68 0 01.682.678v26.8c0 4.666-2.541 7.342-6.965 7.342-1.36 0-2.43 0-5.418-1.472l-6.168-3.551a4.97 4.97 0 01-2.467-4.291V53.796c0-1.763.942-3.41 2.467-4.287l23.521-13.592c1.489-.841 3.468-.841 4.944 0l23.519 13.592a4.967 4.967 0 012.472 4.287v27.146a4.979 4.979 0 01-2.472 4.291L401.31 98.812a4.944 4.944 0 01-2.477.66\"\n}), React.createElement(\"path\", {\n  fill: \"#80bd01\",\n  d: \"M406.099 80.771c-10.294 0-12.449-4.725-12.449-8.687 0-.377.303-.678.68-.678h3.041a.68.68 0 01.675.575c.459 3.097 1.828 4.658 8.054 4.658 4.954 0 7.064-1.121 7.064-3.75 0-1.515-.598-2.64-8.299-3.394-6.437-.638-10.416-2.06-10.416-7.208 0-4.745 4-7.576 10.707-7.576 7.535 0 11.263 2.615 11.736 8.227a.688.688 0 01-.181.523.692.692 0 01-.498.217h-3.052a.679.679 0 01-.661-.531c-.731-3.258-2.513-4.299-7.345-4.299-5.41 0-6.039 1.885-6.039 3.297 0 1.711.742 2.209 8.047 3.176 7.229.955 10.662 2.309 10.662 7.39 0 5.125-4.274 8.06-11.726 8.06\"\n}), React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  fill: \"#80bd01\",\n  d: \"M323.735 61.618a.573.573 0 01.577 0l4.787 2.762c.18.103.289.294.289.5v5.527a.577.577 0 01-.289.501l-4.787 2.763a.577.577 0 01-.577 0l-4.783-2.763a.577.577 0 01-.289-.501V64.88c0-.206.109-.397.289-.5l4.783-2.762z\"\n}), React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  fill: \"#fff\",\n  d: \"M36.28 61.87c1.098.65 1.358.255 1.742.035.385-.221 14.695-8.411 15.606-8.857.912-.446 1.315-1.915.114-2.61-1.201-.697-25.41-14.721-24.241-14.12 1.259.646-1.202-.829-2.626-.175-1.425.654-23.231 13.192-24.777 14.075-1.545.883-2.032 1.731-2.027 2.907.004 1.176-.078 27.253 0 28.801.078 1.548.69 2.052 1.506 2.609.816.558 22.901 13.505 24.572 14.41 1.671.907 2.768.597 3.853-.04 1.085-.639 22.727-13.003 23.593-13.554.866-.551 1.653-1.969-.157-2.992-1.811-1.022-14.779-8.693-15.279-8.943s-.796-.255-1.52.151c-.724.408-7.222 4.062-8.013 4.524s-.904.254-1.283.033c-.378-.222-7.085-4.135-7.859-4.571s-.866-.656-.868-1.25c-.001-.593-.018-8.121.023-8.998.04-.877.165-1.074.962-1.548.797-.474 6.695-3.978 7.166-4.293.47-.315 1.459-.345 2.231.108.772.452 6.184 3.647 7.282 4.298\"\n})));","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { useLocation, Link } from 'react-router-dom';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport withWidth, { isWidthUp } from '@material-ui/core/withWidth';\n\nimport Hidden from '@material-ui/core/Hidden';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\n\nimport Me from '../../Components/Me';\nimport NormalNav from '../Nav/NormalNav';\nimport DrawerNav from '../Nav/DrawerNav';\n\nimport { animateScroll } from 'react-scroll';\nimport LogoSvg from '../../static/cnodejs/cnodejs_light.svg';\nimport './header.styl';\n\nconst useStyles = makeStyles(theme => ({\n  header: theme.palette.type === 'light' ? {\n    backgroundColor: '#2196f3',\n    backgroundImage: 'linear-gradient(150deg, #21d6f3, #2196f3 28%, #ff7ed7 110%)',\n    '@media (max-width: 960px)': {\n      backgroundImage: 'linear-gradient(150deg, #21d6f3, #2196f3 32%, #ff7ed7 106%)',\n    },\n    '@media (max-width: 768px)': {\n      backgroundImage: 'linear-gradient(150deg, #21d6f3, #2196f3 34%, #ff7ed7 104%)',\n    },\n    '@media (max-width: 500px)': {\n      backgroundImage: 'linear-gradient(150deg, #21d6f3, #2196f3 36%, #ff7ed7 102%)',\n    },\n  } : {\n    backgroundColor: '#363636',\n  },\n  toolbar: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    ...theme.mixins.toolbar,\n  },\n  navPlaceholder: {\n    height: 48,\n    '@media (max-width: 768px)': {\n      height: 38,\n    },\n  },\n  navHidden: {\n    height: 0,\n  },\n}));\n\nconst Header = (props) => {\n  const { width } = props;\n  const classes = useStyles();\n  const location = useLocation();\n\n  const [state, setState] = React.useState({\n    isMobile: false,\n    navHidden: false,\n    drawerOpen: false,\n  });\n\n  const handleScrollToTop = event => {\n    if (event.target === event.currentTarget) {\n      animateScroll.scrollTo(0, {\n        duration: 500,\n        smooth: 'easeInOutQuart',\n      });\n    }\n  };\n\n  const handleToggleNav = () => {\n    let { navHidden, drawerOpen } = state;\n\n    if (isWidthUp('md', width)) {\n      navHidden = !navHidden;\n      drawerOpen = false;\n    } else {\n      drawerOpen = !drawerOpen;\n    }\n\n    setState(prevState => ({ ...prevState, navHidden, drawerOpen }));\n  };\n\n  React.useEffect(() => {\n    const { pathname } = location;\n    const navHidden = pathname !== '/';\n\n    setState(prevState => ({ ...prevState, navHidden }));\n  }, [location]);\n\n  return (\n    <React.Fragment>\n      <div className={classes.toolbar} />\n      <div className={clsx(classes.navPlaceholder, {\n        [classes.navHidden]: !isWidthUp('md', width) || state.navHidden || state.drawerOpen,\n      })} />\n      <AppBar id=\"header\" className={classes.header} position=\"fixed\">\n        <Toolbar onClick={handleScrollToTop}>\n          <IconButton\n            color=\"inherit\"\n            onClick={handleToggleNav}\n          >\n            <MenuIcon />\n          </IconButton>\n          <div id=\"logo\">\n            <Hidden xsDown>\n              <Link to=\"/\">\n                <LogoSvg className=\"logo\" />\n              </Link>\n            </Hidden>\n          </div>\n\n          <Me />\n        </Toolbar>\n        <Hidden smDown implementation=\"css\">\n          {!state.navHidden && <NormalNav />}\n        </Hidden>\n      </AppBar>\n\n      <Hidden mdUp>\n        <DrawerNav\n          open={state.drawerOpen}\n          onClose={handleToggleNav}\n        />\n      </Hidden>\n    </React.Fragment>\n  );\n};\n\nHeader.propTypes = {\n  width: PropTypes.string.isRequired,\n};\n\nexport default withWidth()(Header);\n","import React from 'react';\n\nimport Button from '@material-ui/core/Button';\nimport Snackbar from '@material-ui/core/Snackbar';\n\nfunction sleep(delay = 0) {\n  return new Promise(resolve => {\n    setTimeout(resolve, delay);\n  });\n}\n\nfunction getLastSeenNotice() {\n  const seen = localStorage.getItem('lastSeenNotice');\n  return !Boolean(seen) ? 0 : parseInt(seen, 10);\n}\n\nlet messages = null;\n\nasync function getMessages() {\n  try {\n    if (!messages) {\n      await sleep(1500); // Soften the pressure on the main thread.\n      const result = await fetch(\n        'https://raw.githubusercontent.com/Fansaly/RCNode/master/messages.json',\n      );\n      messages = await result.json();\n    }\n  } catch (err) {\n    // Swallow the exceptions.\n  }\n\n  messages = messages || [];\n}\n\nconst Notice = () => {\n  const [open, setOpen] = React.useState(false);\n  const [message, setMessage] = React.useState({});\n\n  const handleMessage = () => {\n    const lastSeen = getLastSeenNotice();\n    const unseenMessages = messages.filter(msg => msg.id > lastSeen);\n\n    if (unseenMessages.length > 0) {\n      setMessage(unseenMessages[0]);\n      setOpen(true);\n    }\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n    localStorage.setItem('lastSeenNotice', message.id);\n  };\n\n  React.useEffect(() => {\n    let mounted = true;\n\n    // Prevent search engines from indexing the notification.\n    if (/glebot/.test(navigator.userAgent)) {\n      return;\n    }\n\n    (async () => {\n      await getMessages();\n      if (mounted) {\n        handleMessage();\n      }\n    })();\n\n    return () => mounted = false;\n  }, []);\n\n  return (\n    <Snackbar\n      key={message.id}\n      anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n      ContentProps={{ 'aria-describedby': 'notification-message' }}\n      message={\n        <span\n          id=\"notification-message\"\n          // eslint-disable-next-line react/no-danger\n          dangerouslySetInnerHTML={{ __html: message.text }}\n        />\n      }\n      action={\n        <Button size=\"small\" color=\"secondary\" onClick={handleClose}>\n          \n        </Button>\n      }\n      open={open}\n      autoHideDuration={20e3}\n      onClose={handleClose}\n      onExited={handleMessage}\n    />\n  );\n};\n\nexport default Notice;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport CssBaseline from '@material-ui/core/CssBaseline';\n\nimport {\n  changeTitle,\n  changeHtmlAttributes,\n  changeBodyAttributes,\n} from './Helper';\nimport Header from './Header';\nimport Notice from './Notice';\nimport './app.styl';\n\nconst initialOptions = {\n  title: 'RCNode',\n  htmlAttributes: null,\n  bodyAttributes: null,\n  withHeader: true,\n};\n\nconst AppFrameContext = React.createContext(null);\n\nconst AppFrame = (props) => {\n  const [options, dispatch] = React.useReducer((state, { type, payload }) => {\n    switch (type) {\n      case 'CHANGE':\n        return {\n          ...state,\n          title: payload.title || state.title,\n          htmlAttributes: payload.htmlAttributes,\n          bodyAttributes: payload.bodyAttributes,\n          withHeader: payload.withHeader,\n        };\n      case 'RESET':\n        return {\n          ...initialOptions,\n        };\n      default:\n        throw new Error(`Unrecognized type ${type}`);\n    }\n  }, initialOptions);\n\n  const { title, htmlAttributes, bodyAttributes, withHeader } = options;\n\n  React.useEffect(() => {\n    changeTitle(title);\n  }, [title]);\n\n  React.useEffect(() => {\n    changeHtmlAttributes(htmlAttributes);\n  }, [htmlAttributes]);\n\n  React.useEffect(() => {\n    changeBodyAttributes(bodyAttributes);\n  }, [bodyAttributes]);\n\n  return (\n    <AppFrameContext.Provider value={dispatch}>\n      <CssBaseline />\n\n      {withHeader && (\n        <React.Fragment>\n          <Header />\n          <Notice />\n        </React.Fragment>\n      )}\n\n      {props.children}\n    </AppFrameContext.Provider>\n  );\n};\n\nAppFrame.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default AppFrame;\n\nexport const useChangeApp = () => {\n  const dispatch = React.useContext(AppFrameContext);\n\n  return React.useCallback(options => {\n    const type = options.reset ? 'RESET' : 'CHANGE';\n    dispatch({ type, payload: options });\n  }, [dispatch]);\n};\n","import PropTypes from 'prop-types';\n\nimport { useChangeApp } from './AppFrame';\n\nconst AppWrapper = (props) => {\n  const changeApp = useChangeApp();\n  const {\n    title,\n    htmlAttributes,\n    bodyAttributes,\n    withHeader = true,\n    reset = false,\n  } = props;\n\n  changeApp({\n    title,\n    htmlAttributes,\n    bodyAttributes,\n    withHeader,\n    reset,\n  });\n\n  return props.children;\n};\n\nAppWrapper.propTypes = {\n  children: PropTypes.node.isRequired,\n  title: PropTypes.string,\n  htmlAttributes: PropTypes.object,\n  bodyAttributes: PropTypes.object,\n  withHeader: PropTypes.bool,\n  reset: PropTypes.bool,\n};\n\nexport default AppWrapper;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Avatar from '@material-ui/core/Avatar';\n\nconst useStyles = makeStyles(theme => ({\n  avatar: {\n    '& a': {\n      display: 'flex',\n    },\n    '& img': {\n      display: 'inline-flex',\n      width: '100%',\n      height: '100%',\n      objectFit: 'contain',\n      color: 'rgba(255, 255, 255, 0.9)',\n      fontSize: 12,\n      lineHeight: 0,\n      textIndent: 20,\n    },\n  },\n}));\n\nconst CustomAvatar = (props) => {\n  const classes = useStyles();\n  const {\n    className,\n    name,\n    image,\n    url,\n  } = props;\n\n  return (\n    <Avatar\n      aria-label=\"Recipe\"\n      className={clsx(\n        classes.avatar,\n        className,\n      )}\n    >\n      {url ? (\n        <Link to={name ? url : '/'}>\n          {image &&\n            <img src={image} alt={name || ''} />\n          }\n        </Link>\n      ) : (\n        <a>\n          {image &&\n            <img src={image} alt={name || ''} />\n          }\n        </a>\n      )}\n    </Avatar>\n  );\n};\n\nCustomAvatar.propTypes = {\n  className: PropTypes.string,\n};\n\nexport default CustomAvatar;\n","import Moment from 'react-moment';\nimport 'moment/locale/zh-cn';\n\nMoment.globalLocale = 'zh-cn';\n\nexport default Moment;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { useSelector } from 'react-redux';\nimport { useHistory, Link } from 'react-router-dom';\nimport {\n  randomNumber,\n  removeHtmlTags,\n} from '../../common';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport withWidth, { isWidthUp } from '@material-ui/core/withWidth';\n\nimport Grid from '@material-ui/core/Grid';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardActions from '@material-ui/core/CardActions';\nimport Typography from '@material-ui/core/Typography';\nimport Collapse from '@material-ui/core/Collapse';\nimport Button from '@material-ui/core/Button';\n\nimport IconButton from '@material-ui/core/IconButton';\nimport CreateIcon from '@material-ui/icons/Create';\nimport ViewIcon from '@material-ui/icons/Visibility';\nimport ReplyIcon from '@material-ui/icons/Comment';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nimport TopicTypeIcon from '../../Components/TopicTypeIcon';\nimport Avatar from '../../Components/Avatar';\nimport Moment from '../../Components/Moment';\nimport './topicard.styl';\n\nconst useStyles = makeStyles(theme => ({\n  button: {\n    display: 'flex',\n    padding: 0,\n    fontWeight: 'inherit',\n    fontFamily: 'inherit',\n    lineHeight: 'inherit',\n    letterSpacing: 'inherit',\n    textTransform: 'inherit',\n  },\n  expand: {\n    margin: 0,\n    transform: 'rotate(0deg)',\n    transition: theme.transitions.create('transform', {\n      duration: theme.transitions.duration.shortest,\n    }),\n  },\n  expandOpen: {\n    transform: 'rotate(180deg)',\n  },\n  title: {\n    '& h5': {\n      color: theme.palette.type === 'light' ? 'rgba(0,0,0,.92)' : 'rgba(200,200,200,.95)',\n    },\n  },\n  state: {\n    color: theme.palette.type === 'light' ? 'rgba(0,0,0,.5)' : 'rgba(125,125,125,.5)',\n    '& button': {\n      color: theme.palette.type === 'light' ? 'rgba(0,0,0,.4)' : 'rgba(125,125,125,.4)',\n    },\n  },\n}));\n\nconst TopiCard = (props) => {\n  const {\n    item,\n    simple = false,\n    className,\n    width,\n  } = props;\n\n  let targetRefs = [];\n\n  const classes = useStyles();\n  const history = useHistory();\n  const { cardPreview } = useSelector(state => state.settings);\n\n  const [expanded, setExpanded] = React.useState(cardPreview);\n\n  const substrContent = content => {\n    const len = randomNumber({ min: 200, max: 400 });\n    return removeHtmlTags(content).substr(0, len);\n  };\n\n  const handleExpandClick = () => {\n    setExpanded(prevState => !prevState);\n  };\n\n  const handleClick = event => {\n    if (targetRefs.includes(event.target)) {\n      history.push(`/topic/${item.id}`);\n    }\n  };\n\n  return (\n    <Card className={clsx('topicard', className, {\n      'expanded': !simple && expanded,\n    })}>\n      <Button\n        component=\"div\"\n        className={classes.button}\n        onClick={handleClick}\n        disableFocusRipple\n      >\n        <Grid\n          container\n          alignItems=\"center\"\n          className=\"topicard-header-wrapper\"\n        >\n          <Grid\n            container\n            alignItems=\"center\"\n            justify=\"flex-start\"\n            className=\"topicard-header\"\n            ref={ref => targetRefs = [...targetRefs, ref]}\n          >\n            <Avatar\n              className=\"avatar\"\n              name={item.author.loginname}\n              image={item.author.avatar_url}\n              url={`/user/${item.author.loginname}`}\n            />\n            <Grid\n              container\n              alignItems=\"center\"\n              justify=\"flex-start\"\n              className=\"topicard-title\"\n            >\n              <Grid item className={clsx('title', classes.title)}>\n                {!simple &&\n                  <Grid item className=\"type\">\n                    <IconButton>\n                      <TopicTypeIcon\n                        tab={item.tab}\n                        good={item.good}\n                        top={item.top}\n                      />\n                    </IconButton>\n                  </Grid>\n                }\n                <Typography variant=\"h5\" ref={ref => targetRefs = [...targetRefs, ref]}>\n                  <Link to={`/topic/${item.id}`}>{item.title}</Link>\n                </Typography>\n                {!simple &&\n                  <CardActions className=\"action\">\n                    <IconButton\n                      className={clsx(classes.expand, {\n                        [classes.expandOpen]: expanded,\n                      })}\n                      onClick={handleExpandClick}\n                      aria-expanded={expanded}\n                      aria-label=\"Show more\"\n                    >\n                      <ExpandMoreIcon />\n                    </IconButton>\n                  </CardActions>\n                }\n              </Grid>\n            </Grid>\n          </Grid>\n          <Grid container wrap=\"nowrap\" alignItems=\"center\" className=\"state-wrapper\"\n            ref={ref => targetRefs = [...targetRefs, ref]}\n          >\n            <Grid container wrap=\"nowrap\" alignItems=\"center\" className={clsx('state', classes.state)}>\n              <Grid container item zeroMinWidth wrap=\"nowrap\" alignItems=\"center\"\n                ref={ref => targetRefs = [...targetRefs, ref]}\n              >\n                <Grid item zeroMinWidth className=\"author\">\n                  <Link to={`/user/${item.author.loginname}`}>\n                    {item.author.loginname}\n                  </Link>\n                </Grid>\n                {!simple &&\n                  <Grid item className=\"create\">\n                    <IconButton><CreateIcon /></IconButton>\n                    <Moment fromNow>{item.create_at}</Moment>\n                  </Grid>\n                }\n              </Grid>\n              <Grid item className=\"count\">\n                <Grid item className=\"reply\">\n                  <IconButton><ReplyIcon /></IconButton>\n                  {!simple ? (\n                    <span>{item.reply_count}</span>\n                  ) : (\n                    <Moment fromNow>{item.last_reply_at}</Moment>\n                  )}\n                </Grid>\n                {!simple &&\n                  <Grid item className=\"visit\">\n                    <IconButton><ViewIcon /></IconButton>\n                    <span>{item.visit_count}</span>\n                  </Grid>\n                }\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Button>\n      {!simple &&\n        <Collapse\n          className=\"collapse\"\n          in={expanded}\n          timeout=\"auto\"\n          unmountOnExit={isWidthUp('sm', width)}\n        >\n          <CardContent className=\"context\">\n            <Typography>\n              {substrContent(item.content)}\n            </Typography>\n          </CardContent>\n        </Collapse>\n      }\n    </Card>\n  );\n};\n\nTopiCard.propTypes = {\n  item: PropTypes.object.isRequired,\n  simple: PropTypes.bool,\n  className: PropTypes.string,\n  width: PropTypes.string.isRequired,\n};\n\nexport default withWidth()(TopiCard);\n","export default (str) => {\n  return str.replace(/<[^>]+>/g, '');\n};\n","export const randomNumber = ({ min = 0, max = 1 }) => {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport TopiCard from '../TopiCard';\n\nconst useStyles = makeStyles(theme => ({\n  margin: {\n    marginTop: 20,\n    '&:first-child': {\n      marginTop: 0,\n    },\n    '@media (max-width: 768px)': {\n      marginTop: 16,\n    },\n  },\n}));\n\nconst TopiCards = ({ items, simple = false, className, classes = {}, ...rest }) => {\n  const styles = useStyles();\n\n  return (\n    <div className={clsx(styles.margin, className, classes.root)} {...rest}>\n      {items.map(item => (\n        <TopiCard className={clsx(classes.card)} simple={simple} item={item} key={item.id} />\n      ))}\n    </div>\n  );\n};\n\nTopiCards.propTypes = {\n  className: PropTypes.string,\n  classes: PropTypes.object,\n  simple: PropTypes.bool,\n  items: PropTypes.array.isRequired,\n};\n\nexport default TopiCards;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\n\nimport Grid from '@material-ui/core/Grid';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { CSSTransition } from 'react-transition-group';\n\nimport './progress.styl';\n\nconst Progress = (props) => {\n  const { className, status, unmountOnExit = true } = props;\n\n  const handleExited = () => {\n    const { onExited } = props;\n    Boolean(onExited) && onExited();\n  };\n\n  return (\n    <Grid item id=\"progress\" className={clsx(className)}>\n      <CSSTransition\n        className=\"progress loading\"\n        classNames=\"progress\"\n        in={status === 'loading'}\n        timeout={{ enter: 100, exit: 550 }}\n        onExited={handleExited}\n        unmountOnExit={unmountOnExit}\n      >\n        <CircularProgress classes={{ svg: 'loop-color' }} />\n      </CSSTransition>\n    </Grid>\n  );\n};\n\nProgress.propTypes = {\n  status: PropTypes.oneOf(['idle', 'loading', 'success', 'error']).isRequired,\n  onExited: PropTypes.func,\n  unmountOnExit: PropTypes.bool,\n};\n\nexport default Progress;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useParams } from 'react-router-dom';\nimport { post } from '../../fetch';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport withWidth, { isWidthUp } from '@material-ui/core/withWidth';\n\nimport Fab from '@material-ui/core/Fab';\nimport Zoom from '@material-ui/core/Zoom';\nimport AppBar from '@material-ui/core/AppBar';\nimport EditIcon from '@material-ui/icons/Edit';\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport ReplyIcon from '@material-ui/icons/ModeComment';\nimport ShareIcon from '@material-ui/icons/Share';\n\nimport SpeedDial from '@material-ui/lab/SpeedDial';\nimport SpeedDialIcon from '@material-ui/lab/SpeedDialIcon';\nimport SpeedDialAction from '@material-ui/lab/SpeedDialAction';\n\nconst useStyles = makeStyles(theme => ({\n  appbar: {\n    top: 'auto',\n    bottom: 0,\n    boxShadow: 'none',\n  },\n  wrapper: {\n    position: 'relative',\n  },\n  action: {\n    position: 'absolute',\n    right: theme.spacing(3.5),\n    bottom: theme.spacing(4),\n  },\n  fabMoveUp: {\n    transform: 'translate3d(0, -56px, 0)',\n    transition: theme.transitions.create('transform', {\n      duration: theme.transitions.duration.enteringScreen,\n      easing: theme.transitions.easing.easeOut,\n    }),\n  },\n  fabMoveDown: {\n    transform: 'translate3d(0, 0, 0)',\n    transition: theme.transitions.create('transform', {\n      duration: theme.transitions.duration.leavingScreen,\n      easing: theme.transitions.easing.sharp,\n    }),\n  },\n}));\n\nconst ActionDial = (props) => {\n  const {\n    width,\n    single = false,\n    topic = null,\n  } = props;\n\n  const {\n    isAuthed,\n    accesstoken,\n    uname: signedUname,\n  } = useSelector(({ auth }) => auth);\n\n  const visible = useSelector(({ editor }) => !editor.open);\n  const notificationIsOpen = useSelector(({ notification }) => notification.open);\n  const dispatch = useDispatch();\n  const classes = useStyles();\n  const { topic_id } = useParams();\n  const isCancel = React.useRef(false);\n\n  const [state, setState] = React.useState({\n    favorite: undefined,\n    expanded: false,\n    shareURL: null,\n  });\n\n  const handleOpen = () => {\n    if (!visible) {\n      return;\n    }\n\n    setState(prevState => ({\n      ...prevState,\n      expanded: true,\n    }));\n  };\n\n  const handleClose = () => {\n    setState(prevState => ({\n      ...prevState,\n      expanded: false,\n    }));\n  };\n\n  const handleClick = event => {\n    const { expanded } = state;\n\n    setState(prevState => ({\n      ...prevState,\n      expanded: !expanded,\n    }));\n\n    if (expanded && signedUname === topic.uname) {\n      handleUpdate();\n    }\n  };\n\n  const handleShare = event => {\n    handleClose();\n    dispatch({ type: 'OPEN_SHARE', data: state.shareURL });\n  };\n\n  const handleFavorite = async event => {\n    const { favorite } = state;\n\n    const params = {\n      url: favorite\n            ? '/topic_collect/de_collect'\n            : '/topic_collect/collect',\n      params: {\n        accesstoken,\n        topic_id: topic.topic_id,\n      },\n    };\n\n    handleClose();\n\n    const { success, err_msg } = await post(params);\n\n    if (isCancel.current) {\n      return;\n    }\n\n    const message = success\n                    ? favorite ? '' : ''\n                    : {\n                      message: err_msg || '',\n                      status: 'error',\n                    };\n\n    success && setState(prevState => ({\n      ...prevState,\n      expanded: true,\n      favorite: !favorite,\n    }));\n\n    dispatch({ type: 'OPEN_NOTIFICATION', data: message });\n  };\n\n  const handleReply = event => {\n\n    const config = {\n      action: 'reply',\n      url: `/topic/${topic_id}/replies`,\n      reply_id: topic_id,\n      content: '',\n    };\n\n    handleClose();\n    handleOpenEditor(config);\n  };\n\n  const handleUpdate = () => {\n    const config = {\n      action: 'update',\n      url: '/topics/update',\n      tab: topic.tab,\n      title: topic.title,\n      content: topic.content,\n      topic_id: topic.topic_id,\n    };\n\n    handleOpenEditor(config);\n  };\n\n  const handleCreate = () => {\n    const config = {\n      action: 'create',\n      url: '/topics',\n    };\n\n    handleOpenEditor(config);\n  };\n\n  const handleOpenEditor = config => {\n    dispatch({ type: 'OPEN_EDITOR', data: config });\n  };\n\n  React.useEffect(() => {\n    const { origin, pathname } = window.location;\n\n    setState(prevState => ({\n      ...prevState,\n      shareURL: `${origin}${pathname}`,\n    }));\n\n    return () => isCancel.current = true;\n  }, []);\n\n  React.useEffect(() => {\n    if (topic === null) {\n      return;\n    }\n\n    setState(prevState => ({\n      ...prevState,\n      favorite: typeof prevState.favorite === 'boolean'\n                ? prevState.favorite\n                : Boolean(topic)\n                  ? topic.is_collect\n                  : undefined,\n    }));\n  }, [topic]);\n\n  return (isAuthed &&\n    <AppBar\n      color=\"default\"\n      component=\"div\"\n      className={classes.appbar}\n    >\n      <div className={classes.wrapper}>\n        {single ? (\n          <Zoom in={visible} unmountOnExit>\n            <Fab\n              color=\"secondary\"\n              aria-label=\"Edit\"\n              className={classes.action}\n              onClick={handleCreate}\n            >\n              <EditIcon />\n            </Fab>\n          </Zoom>\n        ) : (Boolean(topic) &&\n          <SpeedDial\n            ariaLabel=\"SpeedDial\"\n            className={clsx(classes.action, {\n              [classes.fabMoveUp]: !isWidthUp('md', width) && notificationIsOpen,\n              [classes.fabMoveDown]: !isWidthUp('md', width) && !notificationIsOpen,\n            })}\n            color=\"secondary\"\n            hidden={!visible}\n            open={state.expanded}\n            onClick={handleClick}\n            onClose={handleClose}\n            onMouseEnter={handleOpen}\n            onMouseLeave={handleClose}\n            icon={signedUname === topic.uname ? (\n              <SpeedDialIcon openIcon={<EditIcon />} />\n            ) : (\n              <SpeedDialIcon />\n            )}\n          >\n            <SpeedDialAction\n              icon={<ReplyIcon />}\n              tooltipTitle=\"\"\n              onClick={handleReply}\n            />\n            <SpeedDialAction\n              icon={state.favorite ? <FavoriteIcon /> : <FavoriteBorderIcon />}\n              tooltipTitle=\"\"\n              onClick={handleFavorite}\n            />\n            <SpeedDialAction\n              icon={<ShareIcon />}\n              tooltipTitle=\"\"\n              onClick={handleShare}\n            />\n          </SpeedDial>\n        )}\n      </div>\n    </AppBar>\n  );\n};\n\nActionDial.propTypes = {\n  width: PropTypes.string.isRequired,\n  single: PropTypes.bool,\n  topic: PropTypes.any,\n};\n\nexport default withWidth()(ActionDial);\n","import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\nimport IconButton from '@material-ui/core/IconButton';\n\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport WarningIcon from '@material-ui/icons/Warning';\nimport ErrorIcon from '@material-ui/icons/Error';\nimport InfoIcon from '@material-ui/icons/Info';\nimport CloseIcon from '@material-ui/icons/Close';\n\nconst useStyles = makeStyles(theme => ({\n  success: {\n    backgroundColor: '#43a047',\n  },\n  error: {\n    backgroundColor: '#d32f2f',\n  },\n  info: {\n    backgroundColor: '#1976d2',\n  },\n  warning: {\n    backgroundColor: '#ffa000',\n  },\n  icon: {\n    fontSize: 20,\n  },\n  iconVariant: {\n    opacity: 0.9,\n    marginRight: theme.spacing(1),\n  },\n  message: {\n    display: 'flex',\n    alignItems: 'center',\n  },\n}));\n\nconst variantIcon = {\n  success: CheckCircleIcon,\n  warning: WarningIcon,\n  error: ErrorIcon,\n  info: InfoIcon,\n};\n\nconst Notification = () => {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const {\n    open,\n    message,\n    status,\n  } = useSelector(({ notification }) => {\n    const statusType = ['success', 'warning', 'error', 'info'];\n\n    if (!statusType.includes(notification.status)) {\n      notification.status = 'info';\n    }\n\n    return notification;\n  });\n\n  const handleClose = React.useCallback(() => {\n    dispatch({ type: 'CLOSE_NOTIFICATION' });\n  }, [dispatch]);\n\n  const handleExit = React.useCallback(() => {\n    open && handleClose();\n  }, [open, handleClose]);\n\n  React.useEffect(() => {\n    return () => handleExit();\n  }, [handleExit]);\n\n  const Icon = variantIcon[status];\n  const key = new Date().getTime();\n\n  return (\n    <Snackbar\n      key={key}\n      open={open}\n      anchorOrigin={{\n        vertical: 'bottom',\n        horizontal: 'left',\n      }}\n      autoHideDuration={3000}\n      onClose={handleClose}\n    >\n      <SnackbarContent\n        className={classes[status]}\n        aria-describedby=\"snackbar-message-id\"\n        message={\n          <span id=\"snackbar-message-id\" className={classes.message}>\n            <Icon className={`${classes.icon} ${classes.iconVariant}`} />\n            {message}\n          </span>\n        }\n        action={\n          <IconButton\n            color=\"inherit\"\n            className={classes.close}\n            onClick={handleClose}\n          >\n            <CloseIcon className={classes.icon} />\n          </IconButton>\n        }\n      />\n    </Snackbar>\n  );\n};\n\nexport default Notification;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\n\nconst useStyles = makeStyles(theme => ({\n  flex: {\n    margin: 0,\n    '& *': {\n      flex: '1 1 auto',\n      minHeight: 210,\n      padding: 0,\n    },\n    '& textarea': {\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      width: '100%',\n      height: '100%',\n      lineHeight: 1.3125,\n    },\n  },\n}));\n\nconst MarkdownEditor = ({ inputRef, ...props }) => {\n  const classes = useStyles();\n  const {\n    content,\n    disabled,\n    onUpdateContent: updateContent,\n  } = props;\n\n  const handleUpdateContent = event => {\n    updateContent(event);\n  };\n\n  return (\n    <React.Fragment>\n      <TextField\n        className={classes.flex}\n        margin=\"normal\"\n        multiline\n        rows=\"3\"\n        fullWidth\n        id=\"textarea\"\n        placeholder=\"\"\n        inputRef={inputRef}\n        value={content}\n        disabled={disabled}\n        onChange={handleUpdateContent}\n      />\n    </React.Fragment>\n  );\n};\n\nMarkdownEditor.propTypes = {\n  content: PropTypes.string.isRequired,\n  disabled: PropTypes.bool.isRequired,\n  onUpdateContent: PropTypes.func.isRequired,\n};\n\nexport default MarkdownEditor;\n","import MarkdownIt from 'markdown-it';\nimport checkbox from 'markdown-it-task-checkbox';\nimport emoji from 'markdown-it-emoji';\nimport sub from 'markdown-it-sub';\nimport sup from 'markdown-it-sup';\nimport footnote from 'markdown-it-footnote';\nimport container from 'markdown-it-container';\n\nimport Prism, { alias } from '../../Prism';\nimport { transformOrgURL } from '../../../common';\n\nconst md = new MarkdownIt({\n  html: true,\n  linkify: true,\n  typographer: true,\n  quotes: '',\n  highlight: (code, lang) => {\n    lang = typeof lang === 'string' && lang.toLocaleLowerCase();\n    lang = alias[lang] || lang;\n\n    if (!Object.keys(Prism.languages).includes(lang)) {\n      if (Boolean(lang) && process.env.NODE_ENV === 'development') {\n        console.warn(`\\`${lang}' code is highlighted with \\`markup'.`);\n      }\n\n      lang = 'markup';\n    }\n\n    return Prism.highlight(code, Prism.languages[lang]);\n  },\n})\n.use(checkbox)\n.use(emoji)\n.use(sub)\n.use(sup)\n.use(footnote)\n.use(container);\n\nconst atToHtml = ({url, text, prevSpaces = '', nextSpaces = ''}) => {\n  const href = `${process.env.PUBLIC_URL}/user/${url}`;\n  return `${prevSpaces}<a target=\"_blank\" href=\"${href}\">${text}</a>${nextSpaces}`;\n};\n\nmd.renderer.rules.text = (tokens, idx, options, env, self) => {\n  let content = tokens[idx].content;\n\n  if (Boolean(content)) {\n    content = content\n      .replace(/^(@([\\w\\-_]+))$/, atToHtml({url: '$2', text: '$1'}))\n      .replace(/(\\s+)(@([\\w\\-_]+))/g, atToHtml({url: '$3', text: '$2', prevSpaces: '$1'}))\n      .replace(/(@([\\w\\-_]+))(\\s+)/g, atToHtml({url: '$2', text: '$1', nextSpaces: '$3'}));\n  }\n\n  return content;\n};\n\nmd.renderer.rules.link_open = (tokens, idx, options, env, self) => {\n  tokens[idx].attrPush(['target', '_blank']);\n\n  const hrefIdx = tokens[idx].attrIndex('href');\n  const hrefSrc = transformOrgURL(tokens[idx].attrs[hrefIdx][1]);\n\n  if (/^\\/\\w+.*$/.test(hrefSrc)) {\n    tokens[idx].attrs[hrefIdx][1] = `${process.env.PUBLIC_URL}${hrefSrc}`;\n  } else {\n    tokens[idx].attrs[hrefIdx][1] = hrefSrc;\n  }\n\n  for (var i = tokens.length - 1; i >= 0; i--) {\n    const { type, level, content } = tokens[i];\n\n    if (type === 'text' && level !== 0) {\n      tokens[i].content = transformOrgURL(content);\n    }\n  }\n\n  return self.renderToken(tokens, idx, options);\n};\n\nexport default md;\n","import sanitizeHtml from 'sanitize-html';\nimport markdownRender from './markdown-it';\n\nconst blacklist = [ 'style', 'script', 'textarea', 'noscript' ];\n\nexport default (markdownString) => {\n  return sanitizeHtml(markdownRender.render(markdownString), {\n    allowedTags: false,\n    exclusiveFilter: (frame) => {\n      return blacklist.includes(frame.tag);\n    },\n  });\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { useDispatch } from 'react-redux';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport markdownToHtml from './markdownToHtml';\nimport 'github-markdown-css/github-markdown.css';\nimport './markdown-render.styl';\n\nconst useStyles = makeStyles(theme => ({\n  root: theme.palette.type === 'light' ? {\n    color: '#24292e',\n    '& code': { backgroundColor: 'rgba(27,31,35,.05)' },\n    '& pre, & .highlight pre': { backgroundColor: '#f6f8fa' },\n    '& blockquote': { borderLeftColor: '#dfe2e5' },\n    '& h1, & h2': { borderBottomColor: '#eaecef' },\n    '& img': { backgroundColor: '#fff' },\n    '& a': { color: '#0366d6' },\n    '& hr': {\n      backgroundColor: '#e1e4e8',\n      borderBottomColor: '#eee',\n    },\n    '& table': {\n      '& th, & td': {\n        borderColor: '#dfe2e5',\n      },\n      '& tr': {\n        backgroundColor: '#fff',\n        borderTopColor: '#c6cbd1',\n        '&:nth-child(2n)': {\n          backgroundColor: '#f6f8fa',\n        },\n      },\n    },\n  } : {\n    color: theme.palette.text.primary,\n    '& code': { backgroundColor: 'rgba(200,200,200,.05)' },\n    '& pre, & .highlight pre': { backgroundColor: '#333' },\n    '& blockquote': { borderLeftColor: '#5a5a5a' },\n    '& h1, & h2': { borderBottomColor: '#5d5d5d' },\n    '& img': { backgroundColor: 'transparent' },\n    '& a': { color: '#1858a0' },\n    '& hr': {\n      backgroundColor: '#777',\n      borderBottomColor: '#7c7c7c',\n    },\n    '& table': {\n      '& th, & td': {\n        borderColor: '#3a3b3c',\n      },\n      '& tr': {\n        backgroundColor: 'transparent',\n        borderTopColor: '#2d2e2f',\n        '&:nth-child(2n)': {\n          backgroundColor: '#2a2b2c',\n        },\n      },\n    },\n  },\n}));\n\nconst MarkdownRender = (props) => {\n  const { className, markdownString } = props;\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const mdRef = React.useRef();\n\n  React.useEffect(() => {\n    const handleClick = event => {\n      const src = event.target.getAttribute('src');\n      dispatch({ type: 'OPEN_ZOOM', data: { src } });\n    };\n\n    const imgs = Array.from(mdRef.current.querySelectorAll('img'));\n    imgs.map(img => img.addEventListener('click', handleClick));\n  }, [dispatch]);\n\n  return (\n    <div\n      ref={mdRef}\n      className={clsx('markdown-body', className, classes.root)}\n      // eslint-disable-next-line react/no-danger\n      dangerouslySetInnerHTML={{\n        __html: markdownToHtml(markdownString),\n      }}\n    />\n  );\n};\n\nMarkdownRender.propTypes = {\n  className: PropTypes.string,\n  markdownString: PropTypes.string.isRequired,\n};\n\nexport default MarkdownRender;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { useSelector } from 'react-redux';\nimport {\n  navTabsObject as navTabs,\n  topicTypes,\n} from '../../common';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport Hidden from '@material-ui/core/Hidden';\n\nimport Popover from '@material-ui/core/Popover';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport ArrowRightIcon from '@material-ui/icons/ArrowRight';\nimport FullscreenIcon from '@material-ui/icons/Fullscreen';\nimport FullscreenExitIcon from '@material-ui/icons/FullscreenExit';\nimport PreviewIcon from '@material-ui/icons/LocalLibrary';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\n\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport Dialog from '@material-ui/core/Dialog';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport Radio from '@material-ui/core/Radio';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\n\nimport Avatar from '../../Components/Avatar';\nimport TopicTypeIcon from '../../Components/TopicTypeIcon';\nimport './editor-header.styl';\n\nconst useStyles = makeStyles(theme => ({\n  color: {\n    color: theme.palette.type === 'light' ? '#0366d6' : '#1858a0',\n    '& svg': {\n      color: theme.palette.type === 'light' ? 'rgba(0,0,0,.58)' : 'rgba(230,230,230,.58)',\n    },\n  },\n  text: {\n    padding: 0,\n    paddingRight: 2,\n  },\n  title: {\n    paddingTop: 20,\n    paddingBottom: 0,\n    '& h6': {\n      fontSize: '1.125rem',\n    },\n  },\n  back: {\n    marginLeft: -14,\n  },\n  content: {\n    paddingBottom: 20,\n  },\n}));\n\nconst EditorHeader = (props) => {\n  const {\n    publishTab,\n    onPublishTab,\n    onPreview,\n    onFullScreen,\n    fullScreen,\n    disabled,\n  } = props;\n\n  const { isAuthed, uname, avatar } = useSelector(({ auth }) => auth);\n  const { action } = useSelector(({ editor }) => editor);\n\n  const [moreOpen, setMoreOpen] = React.useState(false);\n  const [selectOpen, setSelectOpen] = React.useState(false);\n  const anchorEl = React.useRef(null);\n  const classes = useStyles();\n\n  const handleCloseSelect = () => {\n    setSelectOpen(false);\n  };\n\n  const handleOpenSelect = () => {\n    setSelectOpen(!disabled);\n  };\n\n  const handleChange = (event, value) => {\n    onPublishTab(value);\n    handleCloseSelect();\n  };\n\n  const handleCloseMore = () => {\n    setMoreOpen(false);\n  };\n\n  const handleOpenMore = () => {\n    setMoreOpen(true);\n  };\n\n  const handlePreview = () => {\n    handleCloseMore();\n    onPreview();\n  };\n\n  const handleFullScreen = () => {\n    handleCloseMore();\n    onFullScreen();\n  };\n\n  return (isAuthed &&\n    <React.Fragment>\n      <div className=\"flex editor-header\">\n        <Avatar\n          name={uname}\n          image={avatar}\n          className=\"avatar\"\n        />\n        <div className=\"flex box\">\n          <Typography className=\"flex editor-uname\">\n            {uname}\n            <ArrowRightIcon color=\"inherit\" />\n          </Typography>\n          {/(create)|(update)/.test(action) &&\n            <Typography className=\"flex editor-tpoic-type\">\n              <Typography\n                className={clsx('flex', classes.color, {\n                  'disabled': disabled,\n                })}\n                onClick={handleOpenSelect}\n                component=\"span\"\n              >\n                {publishTab ? navTabs[publishTab].name : ''}\n                <TopicTypeIcon tab={publishTab} />\n              </Typography>\n            </Typography>\n          }\n        </div>\n        <div className=\"editor-header-actions\">\n          <IconButton\n            buttonRef={node => {\n              anchorEl.current = node;\n            }}\n            variant=\"contained\"\n            onClick={handleOpenMore}\n          >\n            <MoreVertIcon />\n          </IconButton>\n        </div>\n      </div>\n\n      <Popover\n        open={moreOpen}\n        anchorEl={anchorEl.current}\n        anchorReference=\"anchorEl\"\n        anchorPosition={{ top: 30, left: 30 }}\n        onClose={handleCloseMore}\n        anchorOrigin={{\n          vertical: 'top',\n          horizontal: 'right',\n        }}\n        transformOrigin={{\n          vertical: 'top',\n          horizontal: 'right',\n        }}\n      >\n        <List>\n          <ListItem button onClick={handlePreview}>\n            <ListItemIcon>\n              <PreviewIcon color=\"inherit\" />\n            </ListItemIcon>\n            <ListItemText\n              className={classes.text}\n              primary=\"\"\n            />\n          </ListItem>\n          <Hidden xsDown>\n            <ListItem button onClick={handleFullScreen}>\n              <ListItemIcon>\n                {fullScreen ? (\n                  <FullscreenExitIcon color=\"inherit\" />\n                ) : (\n                  <FullscreenIcon color=\"inherit\" />\n                )}\n              </ListItemIcon>\n              <ListItemText\n                className={classes.text}\n                primary=\"\"\n              />\n            </ListItem>\n          </Hidden>\n        </List>\n      </Popover>\n\n      <Dialog\n        open={selectOpen}\n        maxWidth=\"xs\"\n        onClose={handleCloseSelect}\n      >\n        <DialogTitle className={classes.title}>\n          <IconButton\n            className={classes.back}\n            onClick={handleCloseSelect}\n          >\n            <ArrowBackIcon />\n          </IconButton>\n          \n        </DialogTitle>\n        <DialogContent className={classes.content}>\n          <RadioGroup\n            aria-label=\"topicType\"\n            name=\"topicType\"\n            value={publishTab}\n            onChange={handleChange}\n          >\n            {topicTypes.map(tab => (\n              <FormControlLabel\n                key={tab}\n                value={tab}\n                label={navTabs[tab].name}\n                control={<Radio />}\n              />\n            ))}\n          </RadioGroup>\n        </DialogContent>\n      </Dialog>\n    </React.Fragment>\n  );\n};\n\nEditorHeader.propTypes = {\n  onPublishTab: PropTypes.func,\n  publishTab: PropTypes.string,\n  onPreview: PropTypes.func.isRequired,\n  onFullScreen: PropTypes.func.isRequired,\n  fullScreen: PropTypes.bool.isRequired,\n  disabled: PropTypes.bool.isRequired,\n};\n\nexport default EditorHeader;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport withWidth, { isWidthDown } from '@material-ui/core/withWidth';\n\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport { MarkdownRender } from '../../Components/Markdown';\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    [theme.breakpoints.up('sm')]: {\n      paddingLeft: 36,\n      paddingRight: 36,\n    },\n    '& h2': {\n      position: 'relative',\n      padding: '15px 0',\n      fontSize: '1.25rem',\n      borderBottomWidth: 1,\n      borderBottomStyle: 'dashed',\n      borderBottomColor: theme.palette.type === 'light' ? 'rgba(0,0,0,.08)' : 'rgba(210,210,210,.08)',\n    },\n  },\n  close: {\n    position: 'absolute',\n    top: '50%',\n    right: -10,\n    transform: 'translateY(-50%)',\n  },\n  content: {\n    paddingBottom: 36,\n    [theme.breakpoints.up('sm')]: {\n      paddingLeft: 36,\n      paddingRight: 36,\n    },\n  },\n}));\n\nconst Preview = (props) => {\n  const handleClose = () => {\n    props.onClose();\n  };\n\n  const { width, open, content } = props;\n  const classes = useStyles();\n\n  return (\n    <Dialog\n      open={open}\n      fullWidth\n      maxWidth=\"md\"\n      fullScreen={isWidthDown('xs', width)}\n      onClose={handleClose}\n    >\n      <DialogTitle className={classes.title} disableTypography>\n        <Typography component=\"h2\">\n          \n          <IconButton\n            className={classes.close}\n            onClick={handleClose}\n          >\n            <CloseIcon />\n          </IconButton>\n        </Typography>\n      </DialogTitle>\n      <DialogContent className={classes.content}>\n        <MarkdownRender markdownString={content} />\n      </DialogContent>\n    </Dialog>\n  );\n};\n\nPreview.propTypes = {\n  width: PropTypes.string.isRequired,\n  open: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  content: PropTypes.string.isRequired,\n};\n\nexport default withWidth()(Preview);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useLocation } from 'react-router-dom';\nimport { topicTypes, matchTab } from '../../common';\nimport { post } from '../../fetch';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport withWidth, { isWidthUp } from '@material-ui/core/withWidth';\n\nimport Slide from '@material-ui/core/Slide';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\n\nimport { MarkdownEditor } from '../../Components/Markdown';\nimport EditorHeader from './EditorHeader';\nimport Preview from './Preview';\n\nconst useStyles = makeStyles(theme => ({\n  editor: {\n    '& #editor .editor-header': {\n      padding: '24px 0 14px 24px',\n    },\n  },\n  title: {\n    margin: 0,\n    padding: '0 24px 18px',\n  },\n  content: {\n    paddingTop: 0,\n    paddingBottom: 0,\n  },\n  actions: {\n    margin: 0,\n    padding: '10px 24px',\n  },\n  button: {\n    margin: 0,\n    minWidth: 110,\n  },\n  doit: {\n    marginLeft: 16,\n  },\n  cancel: {\n    marginLeft: 0,\n  },\n}));\n\nconst Transition = React.forwardRef((props, ref) => {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst initialState = {\n  /**\n   * status\n   * 1 idle\n   * 2 working\n   * 3 success\n   * 4 error\n   * -------------------------\n   * set it but never used ^_^\n   */\n  status: 'idle',\n  publishTab: null,\n  title: '',\n  content: '',\n  /**\n   * repo: https://github.com/cnodejs/nodeclub\n   * file: api/v1/topic.js\n   * line: 144\n   */\n  validation: {\n    title: {\n      max: 100,\n      min: 5,\n    },\n    content: {\n      max: null,\n      min: 3,\n    },\n  },\n  isOK: false,\n  isDiff: false,\n  preview: false,\n  fullScreen: false,\n  disabled: false,\n};\n\nconst Editor = (props) => {\n  const { width } = props;\n  const { isAuthed, accesstoken } = useSelector(({ auth }) => auth);\n  const dispatch = useDispatch();\n  const location = useLocation();\n  const classes = useStyles();\n  const isCancel = React.useRef();\n  const titleRef = React.useRef();\n  const contentRef = React.useRef();\n\n  const editor = useSelector(s => s.editor);\n  const { open, action, url, topic_id, reply_id } = editor;\n\n  const [eState, eDispatch] = React.useReducer((state, { type, data }) => {\n    switch (type) {\n      case 'INIT':\n        return { ...state, ...data };\n      case 'SET_PUBLISH_TAB':\n        return { ...state, publishTab: data };\n      case 'CHANGE':\n        return { ...state, ...data };\n      case 'IS_OK':\n        return { ...state, isOK: data };\n      case 'IS_DIFF':\n        return { ...state, isDiff: data };\n      case 'CLOSE_PREVIEW':\n        return { ...state, preview: false };\n      case 'OPEN_PREVIEW':\n        return { ...state, preview: true };\n      case 'TOGGLE_FULL_SCREEN':\n        return { ...state, fullScreen: !state.fullScreen };\n      case 'REQUEST':\n        return {\n          ...state,\n          status: 'working',\n          disabled: true,\n        };\n      case 'REQUEST_END':\n        return {\n          ...state,\n          status: data,\n          disabled: false,\n        };\n      default:\n        return state;\n    }\n  }, initialState);\n\n  const { publishTab, title, content, validation, isOK, preview, fullScreen, disabled } = eState;\n\n  const handleFocus = () => {\n    if (['create', 'update'].includes(action)) {\n      titleRef.current.focus();\n    } else {\n      contentRef.current.focus();\n    }\n  };\n\n  const handlePublishTab = tab => {\n    eDispatch({ type: 'SET_PUBLISH_TAB', data: tab });\n  };\n\n  const handleChange = name => event => {\n    let value = event.target.value;\n\n    if (name === 'title') {\n      value = value.replace(/\\n/g, '');\n    }\n\n    eDispatch({\n      type: 'CHANGE',\n      data: { [name]: value },\n    });\n  };\n\n  const handleOpenPreview = () => {\n    if (!Boolean(content) || content.trim().length < validation.content.min) {\n      dispatch({\n        type: 'OPEN_NOTIFICATION',\n        data: {\n          message: '',\n          status: 'info',\n        },\n      });\n    } else {\n      eDispatch({ type: 'OPEN_PREVIEW' });\n    }\n  };\n\n  const handleClosePreview = () => {\n    eDispatch({ type: 'CLOSE_PREVIEW' });\n  };\n\n  const handleFullScreen = () => {\n    eDispatch({ type: 'TOGGLE_FULL_SCREEN' });\n  };\n\n  const handleClose = React.useCallback((result = {}) => {\n    const { response } = result;\n\n    handleClosePreview();\n\n    if (!disabled) {\n      dispatch({ type: 'CLOSE_EDITOR', data: response ? result : {} });\n    }\n  }, [disabled, dispatch]);\n\n  const checkTab = () => {\n    if (/(reply)/.test(action)) {\n      return true;\n    }\n\n    const result = topicTypes.includes(publishTab);\n\n    if (!result) {\n      dispatch({\n        type: 'OPEN_NOTIFICATION',\n        data: {\n          message: '',\n          status: 'error',\n        },\n      });\n    }\n\n    return result;\n  };\n\n  const handleSubmit = async () => {\n    if (!isOK || !checkTab()) {\n      return;\n    }\n\n    isCancel.current = false;\n    eDispatch({ type: 'REQUEST' });\n\n    const params = {\n      accesstoken,\n      tab: publishTab || undefined,\n      title,\n      content,\n      reply_id,\n      topic_id,\n    };\n\n    const { success, err_msg, data } = await post({ url, params });\n\n    if (isCancel.current) {\n      return;\n    }\n\n    eDispatch({\n      type: 'REQUEST_END',\n      data: success ? 'success' : 'error',\n    });\n\n    if (success) {\n      handleClose({\n        action,\n        request: { ...params },\n        response: { ...data },\n      });\n    }\n\n    const message = success\n      ? action === 'create'\n        ? ' ^_^'\n        : action === 'update'\n          ? ' ^_^'\n          : action === 'reply'\n            ? ' ^_^'\n            : ''\n      : {\n        status: 'error',\n        message: err_msg\n          ? err_msg\n          : action === 'create'\n            ? ' :('\n            : action === 'update'\n              ? ' :('\n              : action === 'reply'\n                ? ' :('\n                : '',\n      };\n\n    dispatch({ type: 'OPEN_NOTIFICATION', data: message });\n  };\n\n  React.useEffect(() => {\n    let tab = matchTab(location);\n    tab = topicTypes.includes(tab) ? tab : '';\n\n    eDispatch({ type: 'SET_PUBLISH_TAB', data: tab });\n  }, [location]);\n\n  React.useEffect(() => {\n    return () => open && handleClose();\n  }, [location, open, handleClose]);\n\n  React.useEffect(() => {\n    if (!editor.open) {\n      return;\n    }\n\n    eDispatch({\n      type: 'INIT',\n      data: {\n        ...(editor.tab ? { publishTab: editor.tab } : {}),\n        title: editor.title || '',\n        content: editor.content || '',\n      },\n    });\n  }, [editor]);\n\n  React.useEffect(() => {\n    if (!editor.open) {\n      return;\n    }\n\n    const checkTitle = () => {\n      return (\n        /(reply)/.test(editor.action)\n          ? true\n          : typeof title === 'string'\n            ? title.length >= validation.title.min && title.length <= validation.title.max\n            : false\n      );\n    };\n\n    const checkContent = () => {\n      return (\n        typeof content === 'string'\n          ? content.length >= validation.content.min\n          : false\n      );\n    };\n\n    const result = checkTitle() && checkContent();\n    eDispatch({ type: 'IS_OK', data: result });\n\n    const change = title !== editor.title || content !== editor.content;\n    eDispatch({ type: 'IS_DIFF', data: change });\n  }, [title, content, validation, editor]);\n\n  return (isAuthed &&\n    <React.Fragment>\n      <Dialog\n        className={classes.editor}\n        PaperProps={{id: 'editor'}}\n        open={open}\n        onClose={handleClose}\n        TransitionComponent={Transition}\n        maxWidth=\"sm\"\n        fullWidth\n        fullScreen={!isWidthUp('sm', width) || fullScreen}\n        keepMounted={!isWidthUp('sm', width)}\n        onEntered={handleFocus}\n      >\n        <EditorHeader\n          publishTab={publishTab}\n          onPublishTab={handlePublishTab}\n          onPreview={handleOpenPreview}\n          onFullScreen={handleFullScreen}\n          fullScreen={fullScreen}\n          disabled={disabled}\n        />\n        {['create', 'update'].includes(action) &&\n          <TextField\n            className={classes.title}\n            margin=\"normal\"\n            multiline\n            rows=\"1\"\n            rowsMax=\"3\"\n            fullWidth\n            placeholder=\"...\"\n            inputRef={titleRef}\n            value={title}\n            disabled={disabled}\n            onChange={handleChange('title')}\n          />\n        }\n        <DialogContent className={clsx('flex', classes.content)}>\n          <MarkdownEditor\n            disabled={disabled}\n            content={content}\n            inputRef={contentRef}\n            onUpdateContent={handleChange('content')}\n          />\n        </DialogContent>\n        <DialogActions className={classes.actions}>\n          <Button\n            className={clsx(classes.button, classes.cancel)}\n            onClick={handleClose}\n            disabled={disabled}\n            color=\"default\"\n            size=\"large\"\n          >\n            \n          </Button>\n          <Button\n            className={clsx(classes.button, classes.doit)}\n            variant=\"contained\"\n            onClick={handleSubmit}\n            disabled={!isOK || disabled}\n            color=\"primary\"\n            size=\"large\"\n          >\n            {action === 'create' ? (\n              ''\n            ) : action === 'update' ? (\n              ''\n            ) : (\n              ''\n            )}\n          </Button>\n        </DialogActions>\n      </Dialog>\n\n      <Preview\n        open={preview}\n        content={content}\n        onClose={handleClosePreview}\n      />\n    </React.Fragment>\n  );\n};\n\nEditor.propTypes = {\n  width: PropTypes.string.isRequired,\n};\n\nexport default withWidth()(Editor);\n","import React from 'react';\n\nconst useLoadmore = (options = {}) => {\n  const [loadmore, setLoadmore] = React.useState(false);\n\n  React.useEffect(() => {\n    const { threshold = 20 } = options;\n\n    const handleScroll = () => {\n      const documentHeight = document.documentElement.offsetHeight || document.body.offsetHeight;\n      const scrollHeight = document.documentElement.scrollTop || document.body.scrollTop;\n      const windowHeight = window.innerHeight;\n\n      if (documentHeight > windowHeight && documentHeight - (windowHeight + scrollHeight) <= threshold) {\n        setLoadmore(true);\n      } else {\n        setLoadmore(false);\n      }\n    };\n\n    document.addEventListener('scroll', handleScroll);\n\n    return () => document.removeEventListener('scroll', handleScroll);\n  }, [options]);\n\n  return loadmore;\n};\n\nexport default useLoadmore;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { useLocation } from 'react-router-dom';\nimport {\n  matchTab,\n  getNewDataCreate,\n} from '../../common';\nimport { get as getData } from '../../fetch';\n\nimport { AppWrapper } from '../../Layout';\nimport TopiCards from '../../Components/TopiCards';\nimport Progress from '../../Components/Progress';\nimport ActionDial from '../../Components/ActionDial';\nimport Notification from '../../Components/Notification';\nimport Editor from '../../Components/Editor';\nimport useLoadmore from '../../Components/useLoadmore';\n\nconst Home = () => {\n  const isFetching = React.useRef(false);\n  const isFetched = React.useRef(false);\n  const isCancel = React.useRef();\n  const page = React.useRef(1);\n  const { pathname, search } = useLocation();\n\n  const [tab, setTab] = React.useState(null);\n  const [topics, setTopics] = React.useState([]);\n  const [status, setStatus] = React.useState('idle');\n  const loadmore = useLoadmore();\n\n  const fetchTopics = React.useCallback(async options => {\n    isFetching.current = true;\n    setStatus('loading');\n\n    const params = {\n      url: '/topics',\n      params: {\n        tab: options.tab,\n        page: page.current,\n        limit: 20,\n        // limit: isFetched.current ? 1 : 20,\n        mdrender: true,\n      },\n    };\n\n    const { success, data } = await getData(params);\n\n    if (isCancel.current) {\n      return;\n    }\n\n    if (success) {\n      setTopics(prevState => (isFetched.current ? [ ...prevState, data ] : [data]));\n      setStatus('success');\n      isFetched.current = true;\n      page.current += 1;\n    } else {\n      setStatus('error');\n    }\n\n    isFetching.current = false;\n  }, []);\n\n  React.useEffect(() => {\n    isFetching.current = false;\n    isFetched.current = false;\n    page.current = 1;\n\n    setTopics([]);\n    setTab(matchTab({pathname, search}));\n  }, [pathname, search]);\n\n  React.useEffect(() => {\n    if (tab === null || isFetching.current || (isFetched.current && !loadmore)) {\n      return;\n    }\n\n    isCancel.current = false;\n\n    fetchTopics({ tab });\n\n    return () => {\n      isFetching.current = false;\n      isCancel.current = true;\n    };\n  }, [tab, loadmore, fetchTopics]);\n\n  const editorData = useSelector(state => state.editor);\n\n  React.useEffect(() => {\n    const newDataCreate = getNewDataCreate(editorData);\n    newDataCreate && setTopics(prevState => ([ newDataCreate, ...prevState ]));\n  }, [editorData]);\n\n  return (\n    <AppWrapper title=\"RCNode\">\n      <div id=\"container\">\n        <div className=\"wrapper\">\n          <div className=\"topic-list-container\">\n            {topics.map((items, index) => (\n              <TopiCards key={index} items={items} />\n            ))}\n          </div>\n        </div>\n\n        <div className=\"status wrapper\">\n          <Progress status={status} />\n        </div>\n      </div>\n\n      <ActionDial single />\n      <Editor />\n      <Notification />\n    </AppWrapper>\n  );\n};\n\nexport default Home;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useLocation, useParams, Link } from 'react-router-dom';\n\nimport { post } from '../../fetch';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport withWidth, { isWidthDown } from '@material-ui/core/withWidth';\n\nimport Grid from '@material-ui/core/Grid';\nimport Avatar from '@material-ui/core/Avatar';\nimport IconButton from '@material-ui/core/IconButton';\n\nimport Popover from '@material-ui/core/Popover';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\n\nimport ThumbUpIcon from '@material-ui/icons/ThumbUpAlt';\nimport ThumbUpCancelIcon from '@material-ui/icons/ThumbUpAltOutlined';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport ReplyIcon from '@material-ui/icons/Reply';\nimport ShareIcon from '@material-ui/icons/Share';\n\nimport { MarkdownRender } from '../../Components/Markdown';\nimport Moment from '../../Components/Moment';\nimport { scroller } from 'react-scroll';\n\nconst useStyles = makeStyles(theme => ({\n  icon: {\n    minWidth: 'auto',\n  },\n}));\n\nconst TopicReply = (props) => {\n  const { topicAuthor, width } = props;\n  const { topic_id } = useParams();\n  const { hash } = useLocation();\n  const classes = useStyles();\n  const isCancel = React.useRef();\n  const anchorEl = React.useRef(null);\n  const [moreOpen, setMoreOpen] = React.useState(false);\n  const [sharePrefixURL, setSharePrefixURL] = React.useState('');\n\n  const {\n    isAuthed,\n    accesstoken,\n    uname: signedUname,\n  } = useSelector(state => state.auth);\n  const dispatch = useDispatch();\n\n  const [upData, setUpData] = React.useState({\n    ups: props.item.ups.length,\n    isUped: props.item.is_uped,\n  });\n\n  const {\n    author: {\n      loginname: uname,\n      avatar_url: avatar,\n    },\n    id,\n    create_at: createAt,\n    content,\n  } = props.item;\n\n  const handleUp = async () => {\n    if (!isAuthed) {\n      dispatch({ type: 'OPEN_NOTIFICATION', data: '  ~' });\n      return;\n    }\n\n    if (uname === signedUname) {\n      dispatch({ type: 'OPEN_NOTIFICATION', data: '  ~' });\n      return;\n    }\n\n    isCancel.current = false;\n\n    const params = {\n      url: `/reply/${id}/ups`,\n      params: { accesstoken },\n    };\n\n    const { success, err_msg } = await post(params);\n\n    if (isCancel.current) {\n      return;\n    }\n\n    if (success) {\n      setUpData(prevState => {\n        const { ups, isUped } = prevState;\n        return {\n          ups: isUped ? ups - 1 : ups + 1,\n          isUped: !isUped,\n        };\n      });\n    } else if (err_msg) {\n      dispatch({\n        type: 'OPEN_NOTIFICATION',\n        data: {\n          status: 'error',\n          message: err_msg,\n        },\n      });\n    }\n  };\n\n  const handleShare = () => {\n    handleCloseMore();\n    dispatch({\n      type: 'OPEN_SHARE',\n      data: `${sharePrefixURL}#${id}`,\n    });\n  };\n\n  const handleCloseMore = () => {\n    setMoreOpen(false);\n  };\n\n  const handleOpenMore = () => {\n    setMoreOpen(true);\n  };\n\n  const handleReply = () => {\n    handleCloseMore();\n\n    const config = {\n      action: 'reply',\n      url: `/topic/${topic_id}/replies`,\n      reply_id: id,\n      content: `@${uname} `,\n    };\n\n    dispatch({ type: 'OPEN_EDITOR', data: config });\n  };\n\n  const timer = React.useRef();\n\n  React.useEffect(() => {\n    if (hash !== `#${id}`) {\n      return;\n    }\n\n    clearTimeout(timer.current);\n\n    const appHeaderHight = isWidthDown('xs', width) ? 56 : 64;\n    const replieSpacings = 32;\n    let threshold = 10;\n\n    if (isWidthDown('xs', width)) {\n      threshold += replieSpacings / 2;\n    }\n\n    timer.current = setTimeout(() => {\n      scroller.scrollTo(hash, {\n        duration: 500,\n        smooth: 'easeInOutQuart',\n        /**\n         * appHeaderHight => app header height\n         * replieSpacings => spacings between replies\n         * threshold => the highlight reply top offset\n         */\n        offset: -(appHeaderHight + replieSpacings / 2 + threshold),\n      });\n    }, 0);\n\n    return () => clearTimeout(timer.current);\n  }, [hash, id, width]);\n\n  React.useEffect(() => {\n    const { origin, pathname } = window.location;\n    setSharePrefixURL(`${origin}${pathname}`);\n\n    return () => isCancel.current = true;\n  }, []);\n\n  return (\n    <div id={`#${id}`} className={clsx('topic-reply', {\n      'hilite': hash === `#${id}`,\n      'owned': uname === topicAuthor,\n    })}>\n      <div className=\"reply-content\">\n        <Grid container wrap=\"nowrap\" className={clsx('reply-header', classes.header)}>\n          <Avatar aria-label=\"Recipe\" className=\"reply-avatar\">\n            <Link to={uname ? `/user/${uname}` : '/'}>\n              {avatar &&\n                <img\n                  src={avatar}\n                  alt={uname || ''}\n                />\n              }\n            </Link>\n          </Avatar>\n\n          <Grid container item zeroMinWidth wrap=\"nowrap\" className=\"reply-attrs\">\n            <Grid container wrap=\"nowrap\" className=\"group\">\n              <Grid container item zeroMinWidth wrap=\"nowrap\" className=\"uname-text\">\n                <Grid item zeroMinWidth>\n                  <Link\n                    className=\"uname\"\n                    to={uname ? `/user/${uname}` : '/'}\n                  >\n                    {uname ? uname : ''}\n                  </Link>\n                </Grid>\n                {uname === topicAuthor &&\n                  <Grid item className=\"text\">\n                    []\n                  </Grid>\n                }\n              </Grid>\n              <Grid item className=\"time\">\n                <Moment fromNow>{createAt}</Moment>\n              </Grid>\n            </Grid>\n          </Grid>\n\n          <Grid item className=\"reply-actions\">\n            <IconButton\n              className=\"action up\"\n              onClick={handleUp}\n            >\n              {upData.isUped ? (\n                <ThumbUpIcon />\n              ) : (\n                <ThumbUpCancelIcon />\n              )}\n            </IconButton>\n            {Boolean(upData.ups) &&\n              <span className=\"num\">{upData.ups}</span>\n            }\n            <IconButton\n              className=\"action more\"\n              buttonRef={node => {\n                anchorEl.current = node;\n              }}\n              variant=\"contained\"\n              onClick={handleOpenMore}\n            >\n              <MoreVertIcon />\n            </IconButton>\n            <Popover\n              open={moreOpen}\n              anchorEl={anchorEl.current}\n              anchorReference=\"anchorEl\"\n              anchorPosition={{ top: 30, left: 30 }}\n              onClose={handleCloseMore}\n              anchorOrigin={{\n                vertical: 'top',\n                horizontal: 'right',\n              }}\n              transformOrigin={{\n                vertical: 'top',\n                horizontal: 'right',\n              }}\n            >\n              <List>\n                <ListItem\n                  className=\"action post\"\n                  onClick={handleShare}\n                  button\n                >\n                  <ListItemIcon className={classes.icon}>\n                    <ShareIcon />\n                  </ListItemIcon>\n                </ListItem>\n                {isAuthed &&\n                  <ListItem\n                    className=\"action reply\"\n                    onClick={handleReply}\n                    button\n                  >\n                    <ListItemIcon className={classes.icon}>\n                      <ReplyIcon />\n                    </ListItemIcon>\n                  </ListItem>\n                }\n              </List>\n            </Popover>\n          </Grid>\n        </Grid>\n\n        <div className=\"markdown-container\">\n          <MarkdownRender markdownString={content} />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nTopicReply.propTypes = {\n  topicAuthor: PropTypes.string.isRequired,\n  item: PropTypes.object.isRequired,\n  width: PropTypes.string.isRequired,\n};\n\nexport default withWidth()(TopicReply);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport withWidth, { isWidthDown } from '@material-ui/core/withWidth';\n\nimport Grid from '@material-ui/core/Grid';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport IconButton from '@material-ui/core/IconButton';\nimport Fade from '@material-ui/core/Fade';\nimport Button from '@material-ui/core/Button';\nimport CloseIcon from '@material-ui/icons/Close';\nimport ShareIcon from '@material-ui/icons/Share';\nimport ZoomInIcon from '@material-ui/icons/Add';\nimport ZoomOutIcon from '@material-ui/icons/Remove';\nimport ZoomResetIcon from '@material-ui/icons/Search';\n\nconst useStyles = makeStyles(theme => ({\n  fill: {\n    flex: 1,\n  },\n  backdrop: {\n    backgroundColor: theme.palette.type === 'light' ? 'rgba(255,255,255,.85)' : 'rgba(0,0,0,.92)',\n  },\n  actions: {\n    position: 'fixed',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    zIndex: 1,\n    top: 0,\n    left: 0,\n    right: 0,\n    height: 56,\n    padding: '0 18px',\n    backgroundColor: theme.palette.type === 'light' ? '#fff' : '#212121',\n    boxShadow: '0 0 1px rgba(0,0,0,.03), 0 0 2px rgba(0,0,0,.08)',\n    [theme.breakpoints.up('sm')]: {\n      height: 64,\n      padding: '0 24px',\n    },\n  },\n  container: {\n    display: 'flex',\n    margin: 0,\n    paddingTop: 56,\n    width: '100%',\n    height: '100%',\n    maxWidth: 'none',\n    maxHeight: 'none',\n    backgroundColor: 'transparent',\n    boxShadow: 'none',\n    userSelect: 'none',\n    outline: 'none',\n    borderRadius: 0,\n    [theme.breakpoints.up('sm')]: {\n      paddingTop: 64,\n    },\n  },\n  content: {\n    display: 'flex',\n    padding: 0,\n  },\n  wrap: {\n    position: 'relative',\n    display: 'flex',\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    overflow: 'hidden',\n    outline: 'none',\n  },\n  loading: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    marginTop: -20,\n    marginLeft: -20,\n  },\n  box: {\n    position: 'relative',\n    opacity: 0,\n    transform: 'scale(.9)',\n    transition: 'transform .15s cubic-bezier(0,0,.2,1), opacity 85ms linear 65ms',\n    '&.ready': {\n      opacity: 1,\n      transform: 'none',\n      transitionDuration: '.18s, 85ms',\n      transitionDelay: '0s, 0s',\n    },\n  },\n  target: {\n    display: 'block',\n    position: 'relative',\n    transition: 'transform .3s cubic-bezier(.4,0,.2,1)',\n    boxShadow: ' 0 2px 6px rgba(0,0,0,.16), 0 1px 4px rgba(0,0,0,.03)',\n    cursor: 'default',\n    '&.drag-enabled': {\n      cursor: 'grab',\n      '&.drag-active': {\n        cursor: 'grabbing',\n        transition: 'none',\n      },\n    },\n  },\n  zoom: {\n    position: 'fixed',\n    display: 'flex',\n    flexWrap: 'nowrap',\n    padding: '0 8px',\n    left: 30,\n    bottom: 32,\n    borderRadius: 22,\n    overflow: 'hidden',\n    backgroundColor: theme.palette.type === 'light' ? '#fff' : '#212121',\n    boxShadow: '0 0 2px rgba(0,0,0,.1), 0 2px 5px rgba(0,0,0,.16)',\n    zIndex: 1,\n  },\n  btn: {\n    padding: 10,\n    minWidth: 44,\n    borderRadius: 0,\n  },\n}));\n\nconst defaultState = {\n  /**\n   * position\n   * ------------------\n   *  x, y => transform\n   * iX,iY => initial transform pos for drag beginning\n   * sX,sY => drag start\n   * mX,mY => drag move\n   */\n  x: 0,\n  y: 0,\n  iX: 0,\n  iY: 0,\n  sX: 0,\n  sY: 0,\n  mX: 0,\n  mY: 0,\n  /**\n   * scale\n   * ------------------------\n   * scale => transform scale\n   */\n  scale: 1,\n  scaleLevel: 1,\n  scaleLevels: [ .68, 1, 1.38, 2, 3.21, 4.96 ],\n  /**\n   * spacings\n   * --------\n   * spacings => initial, between zoomRef and zoomWrapRef\n   * dragSpacings => drag, between zoomRef and zoomWrapRef\n   */\n  spacings: 16,\n  dragSpacings: 50,\n  disabledUp: false,\n  disabledDown: false,\n  disabledReset: true,\n  dragEnabled: false,\n  dragActive: false,\n  isTouch: undefined,\n  ready: false,\n};\n\nconst ImageZoom = (props) => {\n  const { width } = props;\n  const { open, src } = useSelector(({ zoom }) => zoom);\n  const [state, setState] = React.useState(defaultState);\n  const dragIsActive = React.useRef();\n  const zoomWrapRef = React.useRef();\n  const zoomBoxRef = React.useRef();\n  const zoomRef = React.useRef();\n  const dispatch = useDispatch();\n  const classes = useStyles();\n\n  const handleClick = event => {\n    const { target } = event;\n    if (\n      !state.ready\n      || target === zoomWrapRef.current\n      || target === zoomBoxRef.current\n    ) {\n      handleClose();\n    }\n  };\n\n  const handleShare = () => {\n    const url = zoomRef.current.src;\n    dispatch({ type: 'OPEN_SHARE', data: url });\n  };\n\n  const handleClose = React.useCallback(() => {\n    dispatch({ type: 'CLOSE_ZOOM' });\n  }, [dispatch]);\n\n  React.useEffect(() => {\n    return () => open && handleClose();\n  }, [open, handleClose]);\n\n  const setViewport = () => {\n    const viewport = document.head.querySelector('meta[name=\"viewport\"]');\n    const content = viewport.content;\n    const scalable = 'user-scalable=no';\n\n    viewport.content = `${content}, ${scalable}`;\n\n    setState(prevState => ({\n      ...prevState,\n      viewport,\n      content,\n    }));\n  };\n\n  const resetViewport = () => {\n    const { viewport, content } = state;\n    viewport && (viewport.content = content);\n  };\n\n  const zoomExit = () => {\n    resetViewport();\n    setState(defaultState);\n  };\n\n  const zoomInit = () => {\n    if (zoomRef.current.complete) {\n      initState();\n    } else {\n      zoomRef.current.addEventListener('load', initState);\n    }\n  };\n\n  const initState = () => {\n    const { spacings } = defaultState;\n    const isTouch = 'ontouchstart' in window;\n\n    const { naturalWidth, naturalHeight } = zoomRef.current;\n\n    const wrapWidth = zoomWrapRef.current.clientWidth;\n    const wrapHeight = zoomWrapRef.current.clientHeight;\n\n    const maxWidth = wrapWidth - 2 * spacings;\n    const maxHeight = wrapHeight - 2 * spacings;\n\n    let initialHeight = naturalHeight;\n\n    if (naturalWidth > maxWidth) {\n      initialHeight *= maxWidth / naturalWidth;\n    }\n\n    if (initialHeight > maxHeight) {\n      initialHeight = maxHeight;\n    }\n\n    const initialWidth = naturalWidth * initialHeight / naturalHeight;\n\n    setState({\n      ...defaultState,\n      ready: true,\n      isTouch,\n      wrapWidth,\n      wrapHeight,\n      maxWidth,\n      maxHeight,\n      naturalWidth,\n      naturalHeight,\n      initialWidth,\n      initialHeight,\n    });\n  };\n\n  // bind drag events, set viewport\n  React.useEffect(() => {\n    const isTouch = state.isTouch;\n\n    if (typeof isTouch !== 'boolean') {\n      return;\n    }\n\n    const getDragThreshold = options => {\n      const {\n        scale,\n        wrapWidth,\n        wrapHeight,\n        maxWidth,\n        maxHeight,\n        initialWidth,\n        initialHeight,\n      } = options;\n      const { dragSpacings } = defaultState;\n\n      const currentWidth = initialWidth * scale;\n      const currentHeight = initialHeight * scale;\n\n      const tX = currentWidth > maxWidth\n                 ? Math.max(0, (currentWidth - wrapWidth) / 2 + dragSpacings)\n                 : 0;\n      const tY = currentHeight > maxHeight\n                 ? Math.max(0, (currentHeight - wrapHeight) / 2 + dragSpacings)\n                 : 0;\n\n      return { tX, tY };\n    };\n\n    const getTransformPos = options => {\n      const { iX, iY, sX, sY, mX, mY } = options;\n      const { tX, tY } = getDragThreshold(options);\n\n      let x, y;\n\n      x = iX + mX - sX;\n      y = iY + mY - sY;\n\n      x = Math.min(tX, Math.max(-tX, x));\n      y = Math.min(tY, Math.max(-tY, y));\n\n      return { x, y };\n    };\n\n    const getEventPos = event => {\n      const x = isTouch ? event.touches[0].pageX : event.clientX;\n      const y = isTouch ? event.touches[0].pageY : event.clientY;\n\n      return { x, y };\n    };\n\n    const dragStart = event => {\n      event.preventDefault();\n\n      if (!state.dragEnabled) { return; }\n\n      const { x, y } = getEventPos(event);\n\n      setState(prevState => ({\n        ...prevState,\n        sX: x,\n        sY: y,\n        dragActive: true,\n      }));\n    };\n\n    const dragMove = event => {\n      event.preventDefault();\n\n      if (!dragIsActive.current) { return; }\n\n      const { x: mX, y: mY } = getEventPos(event);\n\n      setState(prevState => {\n        const { x, y } = getTransformPos({ ...prevState, mX, mY });\n        return { ...prevState, x, y, mX, mY };\n      });\n    };\n\n    const dragEnd = event => {\n      event.preventDefault();\n\n      if (!dragIsActive.current) { return; }\n\n      setState(prevState => ({\n        ...prevState,\n        iX: prevState.x,\n        iY: prevState.y,\n        dragActive: false,\n      }));\n    };\n\n    const bindEvents = () => {\n      const eStart = isTouch ? 'touchstart' : 'mousedown';\n      const eMove = isTouch ? 'touchmove' : 'mousemove';\n      const eEnd = isTouch ? 'touchend' : 'mouseup';\n      const eCancel = isTouch ? 'touchcancel' : 'mouseleave';\n\n      zoomRef.current.addEventListener(eStart, dragStart);\n      zoomRef.current.addEventListener(eMove, dragMove);\n      zoomRef.current.addEventListener(eEnd, dragEnd);\n      zoomRef.current.addEventListener(eCancel, dragEnd);\n    };\n\n    bindEvents();\n    setViewport();\n  }, [state.isTouch, state.dragEnabled]);\n\n  React.useEffect(() => {\n    dragIsActive.current = state.dragActive;\n  }, [state.dragActive]);\n\n  const handleZoom = action => event => {\n    let { scaleLevel, scaleLevels } = state;\n\n    const baseScaleLevel = 1;\n    const minScaleLevel = 0;\n    const maxScaleLevel = scaleLevels.length - 1;\n\n    switch (action) {\n      case 'up':\n        scaleLevel++;\n        break;\n      case 'down':\n        scaleLevel--;\n        break;\n      case 'reset':\n        scaleLevel = baseScaleLevel;\n        break;\n      default:\n        return;\n    }\n\n    scaleLevel = Math.min(\n      Math.max(scaleLevel, minScaleLevel),\n      maxScaleLevel\n    );\n\n    const scale = scaleLevels[scaleLevel];\n    const disabledUp = scaleLevel === maxScaleLevel;\n    const disabledDown = scaleLevel === minScaleLevel;\n    const disabledReset = scaleLevel === baseScaleLevel;\n\n    setState(prevState => ({\n      ...prevState,\n      x: 0,\n      y: 0,\n      iX: 0,\n      iY: 0,\n      scale,\n      scaleLevel,\n      disabledUp,\n      disabledDown,\n      disabledReset,\n    }));\n  };\n\n  // update drag status\n  React.useEffect(() => {\n    if (!state.ready) {\n      return;\n    }\n\n    const scale = state.scale;\n    const maxWidth = state.maxWidth;\n    const maxHeight = state.maxHeight;\n    const initialWidth = state.initialWidth;\n    const initialHeight = state.initialHeight;\n\n    const currentWidth = initialWidth * scale;\n    const currentHeight = initialHeight * scale;\n\n    const dragEnabled = currentWidth > maxWidth || currentHeight > maxHeight;\n\n    setState(prevState => ({\n      ...prevState,\n      dragEnabled,\n    }));\n  }, [\n    // observe\n    state.scale,\n    // other deps\n    state.ready,\n    state.maxWidth, state.maxHeight, state.initialWidth, state.initialHeight,\n  ]);\n\n  // update transform style\n  React.useEffect(() => {\n    if (!Boolean(zoomRef.current)) {\n      return;\n    }\n\n    const transform = `translate(${state.x}px, ${state.y}px) scale(${state.scale})`;\n    zoomRef.current.style.transform = transform;\n  }, [state.x, state.y, state.scale]);\n\n  return (\n    <Dialog\n      open={open}\n      fullWidth\n      maxWidth={false}\n      onClose={handleClose}\n      onEnter={zoomInit}\n      onExited={zoomExit}\n      BackdropProps={{ className: classes.backdrop }}\n      PaperProps={{ className: classes.container }}\n      keepMounted={isWidthDown('xs', width)}\n    >\n      <Grid className={classes.actions}>\n        <Grid className={classes.fill}>\n          <IconButton\n            className={classes.close}\n            onClick={handleClose}\n          >\n            <CloseIcon />\n          </IconButton>\n        </Grid>\n        <IconButton\n          className={classes.share}\n          onClick={handleShare}\n          disabled={!state.ready}\n        >\n          <ShareIcon />\n        </IconButton>\n      </Grid>\n      <DialogContent className={classes.content}>\n        <div\n          ref={zoomWrapRef}\n          className={classes.wrap}\n          onClick={handleClick}\n          onKeyUp={() => {}}\n          role=\"grid\"\n          tabIndex=\"-1\"\n        >\n          <Fade\n            in={!state.ready}\n            className={classes.loading}\n          >\n            <CircularProgress />\n          </Fade>\n          <div\n            ref={zoomBoxRef}\n            className={clsx(classes.box, {\n              'ready': state.ready,\n            })}\n          >\n            <img\n              ref={zoomRef}\n              className={clsx(classes.target, {\n                'drag-enabled': state.dragEnabled,\n                'drag-active': state.dragActive,\n              })}\n              style={{ height: state.initialHeight || 'auto' }}\n              src={src}\n              alt=\"zoom\"\n            />\n          </div>\n        </div>\n        <Grid className={classes.zoom}>\n          <Button\n            className={classes.btn}\n            disabled={state.disabledDown || !state.ready}\n            onClick={handleZoom('down')}\n          >\n            <ZoomOutIcon />\n          </Button>\n          <Button\n            className={classes.btn}\n            disabled={state.disabledReset || !state.ready}\n            onClick={handleZoom('reset')}\n          >\n            <ZoomResetIcon />\n          </Button>\n          <Button\n            className={classes.btn}\n            disabled={state.disabledUp || !state.ready}\n            onClick={handleZoom('up')}\n          >\n            <ZoomInIcon />\n          </Button>\n        </Grid>\n      </DialogContent>\n    </Dialog>\n  );\n};\n\nImageZoom.propTypes = {\n  width: PropTypes.string.isRequired,\n};\n\nexport default withWidth()(ImageZoom);\n","import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport TextField from '@material-ui/core/TextField';\n\nimport copy from 'clipboard-copy';\n\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    margin: 10,\n    width: 'calc(100% - 20px)',\n    maxWidth: process.env.NODE_ENV === 'production' ? 615 : 540,\n  },\n  content: {\n    padding: 24,\n    display: 'flex',\n    flexWrap: 'nowrap',\n    alignItems: 'flex-end',\n  },\n  button: {\n    marginLeft: 16,\n    padding: '4px 10px',\n  },\n}));\n\nconst ShareDialog = () => {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  let { url, open, post } = useSelector(state => state.share);\n\n  const handleCopy = async () => {\n    try {\n      await copy(url);\n    } finally {\n      handleClose();\n    }\n  };\n\n  const getLabel = () => {\n    post = Boolean(post)\n            ? ` - #${post}`\n            : '';\n\n    return `${post}`;\n  };\n\n  const handleClose = React.useCallback(() => {\n    dispatch({ type: 'CLOSE_SHARE' });\n  }, [dispatch]);\n\n  const handleExit = React.useCallback(() => {\n    open && handleClose();\n  }, [open, handleClose]);\n\n  React.useEffect(() => {\n    return () => handleExit();\n  }, [handleExit]);\n\n  return (\n    <Dialog\n      open={open}\n      onClose={handleClose}\n      classes={{\n        paper: classes.paper,\n      }}\n    >\n      <DialogContent className={classes.content}>\n        <TextField\n          inputProps={{ readOnly: true }}\n          label={`${getLabel()}`}\n          value={url}\n          fullWidth\n        />\n        <Button\n          className={classes.button}\n          onClick={handleCopy}\n          variant=\"outlined\"\n          size=\"small\"\n          autoFocus\n        >\n          \n        </Button>\n      </DialogContent>\n    </Dialog>\n  );\n};\n\nexport default ShareDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { useSelector } from 'react-redux';\nimport { useParams, Link } from 'react-router-dom';\nimport {\n  navTabsObject as navTabs,\n  getNewDataUpdate,\n  getNewDataReply,\n} from '../../common';\nimport { get as getData } from '../../fetch';\n\nimport { useTheme } from '@material-ui/core/styles';\nimport withWidth, { isWidthDown } from '@material-ui/core/withWidth';\n\nimport Fade from '@material-ui/core/Fade';\nimport Typography from '@material-ui/core/Typography';\nimport CreateIcon from '@material-ui/icons/Create';\nimport ViewIcon from '@material-ui/icons/LocalLibrary';\nimport TagIcon from '@material-ui/icons/LocalOffer';\n\nimport { AppWrapper } from '../../Layout';\nimport TopicReply from './TopicReply';\nimport { MarkdownRender } from '../../Components/Markdown';\nimport ImageZoom from '../../Components/ImageZoom';\nimport Progress from '../../Components/Progress';\n\nimport Avatar from '../../Components/Avatar';\nimport Editor from '../../Components/Editor';\nimport ActionDial from '../../Components/ActionDial';\nimport ShareDialog from '../../Components/ShareDialog';\nimport Notification from '../../Components/Notification';\nimport Moment from '../../Components/Moment';\nimport './topic.styl';\n\nconst Topic = (props) => {\n  const theme = useTheme();\n  const { topic_id } = useParams();\n  const { accesstoken } = useSelector(state => state.auth);\n\n  const [status, setStatus] = React.useState('loading');\n  const [topic, setTopic] = React.useState({});\n  const [replies, setReplies] = React.useState([]);\n  const [dialTopic, setDialTopic] = React.useState(null);\n  const [message, setMessage] = React.useState(null);\n\n  const isCancel = React.useRef();\n  React.useEffect(() => {\n    isCancel.current = false;\n\n    (async () => {\n      const params = {\n        url: `/topic/${topic_id}`,\n        params: { mdrender: false, accesstoken },\n      };\n\n      const { success, data, err_msg } = await getData(params);\n\n      if (isCancel.current) {\n        return;\n      }\n\n      if (success) {\n        const { replies: reps, ...rest } = data;\n\n        setStatus('success');\n        setTopic({ ...rest });\n        setReplies([ ...reps ]);\n        setDialTopic({\n          uname: rest.author.loginname,\n          is_collect: rest.is_collect,\n          content: rest.content,\n          title: rest.title,\n          tab: rest.tab,\n          topic_id,\n        });\n      } else {\n        setStatus('error');\n        setMessage(err_msg);\n      }\n    })();\n\n    return () => isCancel.current = true;\n  }, [topic_id, accesstoken]);\n\n  const editorData = useSelector(state => state.editor);\n\n  React.useEffect(() => {\n    const newDataReply = getNewDataReply(editorData);\n\n    if (newDataReply) {\n      setReplies(prevState => ([\n        ...prevState,\n        newDataReply,\n      ]));\n    }\n\n    const newDataUpdate = getNewDataUpdate(editorData);\n\n    if (newDataUpdate) {\n      setTopic(prevState => ({\n        ...prevState,\n        ...newDataUpdate,\n      }));\n\n      setDialTopic(prevState => ({\n        ...prevState,\n        uname: newDataUpdate.author.loginname,\n        is_collect: newDataUpdate.is_collect,\n        content: newDataUpdate.content,\n        title: newDataUpdate.title,\n        tab: newDataUpdate.tab,\n      }));\n    }\n  }, [editorData]);\n\n  return (\n    <AppWrapper\n      title={topic.title}\n      bodyAttributes={{\n        class: clsx('topic-view', {\n          'error-tips': status === 'error',\n          'zero-spacings': isWidthDown('xs', props.width),\n        }),\n      }}\n    >\n      <div id=\"container\">\n        <Fade in={Boolean(message)}>\n          <div className=\"wrapper tips error\">\n            {message}\n          </div>\n        </Fade>\n\n        {Boolean(topic.title) &&\n          <div id=\"topic\" className={clsx('wrapper', {\n            'dark': theme.palette.type === 'dark',\n          })}>\n            <div className=\"topic-main\">\n              <Typography variant=\"h5\" className=\"title\">\n                {topic.title}\n              </Typography>\n              <div className=\"topic-attrs-wrap\">\n                <div className=\"topic-attrs\">\n                  <span className=\"attr-author\">\n                    <Avatar\n                      className=\"avatar\"\n                      image={topic.author.avatar_url}\n                      name={topic.author.loginname}\n                    />\n                    <Link to={`/user/${topic.author.loginname}`}>\n                      {topic.author.loginname}\n                    </Link>\n                  </span>\n                  <span className=\"attr-create\">\n                    <CreateIcon />\n                    <Moment fromNow>{topic.create_at}</Moment>\n                  </span>\n                  <span className=\"attr-visit\">\n                    <ViewIcon />\n                    <em>{topic.visit_count}</em>\n                    \n                  </span>\n                  {topic.tab &&\n                    <span className=\"attr-tab\">\n                      <TagIcon />\n                      <span className={topic.tab}>\n                        {navTabs[topic.tab].name}\n                      </span>\n                    </span>\n                  }\n                </div>\n              </div>\n\n              <div className=\"markdown-container\">\n                <MarkdownRender markdownString={topic.content} />\n              </div>\n            </div>\n\n            {Boolean(replies.length) &&\n              <div className=\"topic-replies\">\n                {replies.map((item, index) => (\n                  <TopicReply\n                    topicAuthor={topic.author.loginname}\n                    item={item}\n                    key={item.id}\n                  />\n                ))}\n              </div>\n            }\n          </div>\n        }\n\n        <div className=\"status wrapper\">\n          <Progress className=\"mini\" status={status} />\n        </div>\n      </div>\n\n      <ActionDial topic={dialTopic} />\n      <Editor />\n      <ImageZoom />\n      <ShareDialog />\n      <Notification />\n    </AppWrapper>\n  );\n};\n\nTopic.propTypes = {\n  width: PropTypes.string.isRequired,\n};\n\nexport default withWidth()(Topic);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { useParams } from 'react-router-dom';\nimport { getBingImage, get as getData } from '../../fetch';\n\nimport { makeStyles } from '@material-ui/core';\nimport withWidth, { isWidthUp } from '@material-ui/core/withWidth';\n\nimport SwipeableViews from 'react-swipeable-views';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport Fade from '@material-ui/core/Fade';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Hidden from '@material-ui/core/Hidden';\n\nimport Avatar from '@material-ui/core/Avatar';\nimport PersonIcon from '@material-ui/icons/Person';\nimport SchoolIcon from '@material-ui/icons/School';\nimport AccessTimeIcon from '@material-ui/icons/AccessTime';\n\nimport { AppWrapper } from '../../Layout';\nimport TopiCard from '../../Components/TopiCard';\nimport Progress from '../../Components/Progress';\nimport Moment from '../../Components/Moment';\nimport { GithubIcon } from '../../Components/Icons';\nimport './user.styl';\n\nconst useStyles = makeStyles(theme => ({\n  cover: {\n    backgroundColor: theme.palette.type === 'light' ? 'rgba(83,156,98,.8)' : 'rgba(69,97,74,.8)',\n  },\n  progress: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    height: 3,\n  },\n  colorPrimary: {\n    backgroundColor: theme.palette.type === 'light' ? 'rgba(165,211,247,.8)' : 'rgba(165,211,247,.8)',\n  },\n  barColorPrimary: {\n    backgroundColor: theme.palette.type === 'light' ? '#2698f3' : '#2698f3',\n  },\n  spacings: {\n    marginTop: 30,\n    [theme.breakpoints.down('xs')]: {\n      marginTop: 0,\n    },\n  },\n  tips: {\n    marginTop: 40,\n  },\n  tab: {\n    fontSize: 16,\n  },\n  selected: {\n    color: '#2ac2f9',\n  },\n  indicator: {\n    backgroundColor: '#2ac2f9',\n  },\n}));\n\nconst labelIndex = ['topics', 'replies', 'collections'];\nconst initialState = {\n  topics: {\n    name: '',\n    data: [],\n    show: true,\n  },\n  replies: {\n    name: '',\n    data: [],\n    show: false,\n  },\n  collections: {\n    name: '',\n    data: [],\n    show: false,\n  },\n};\n\nconst User = (props) => {\n  const { uname } = useParams();\n  const isCancel = React.useRef();\n  const bingImgRef = React.useRef();\n  const [bingImage, setBingImage] = React.useState({ complete: false });\n  const [index, setIndex] = React.useState(0);\n  const [status, setStatus] = React.useState('loading');\n  const [message, setMessage] = React.useState(null);\n  const [profile, setProfile] = React.useState({ uname });\n\n  const [state, dispatch] = React.useReducer((prevState, { type, data }) => {\n    switch (type) {\n      case 'SET_TOPICS':\n        return {\n          ...prevState,\n          topics: {\n            ...prevState.topics,\n            ...data,\n          },\n        };\n      case 'SET_REPLIES':\n        return {\n          ...prevState,\n          replies: {\n            ...prevState.replies,\n            ...data,\n          },\n        };\n      case 'SET_COLLECTIONS':\n        return {\n          ...prevState,\n          collections: {\n            ...prevState.collections,\n            ...data,\n          },\n        };\n      case 'RESTORE':\n        return {\n          ...initialState,\n        };\n      default:\n        throw new Error(`Unrecognized type ${type}`);\n    }\n  }, initialState);\n\n  const handleChange = (event, idx) => {\n    setIndex(idx);\n\n    const type = `SET_${labelIndex[idx].toUpperCase()}`;\n    dispatch({ type, data: { show: true } });\n  };\n\n  const handleChangeIndex = idx => {\n    handleChange(null, idx);\n  };\n\n  React.useEffect(() => {\n    if (!Boolean(bingImgRef.current)) {\n      return;\n    }\n\n    const setBingImageLoadComplete = () => {\n      setBingImage(prevState => ({...prevState, complete: true}));\n    };\n\n    if (!!bingImgRef.current.complete) {\n      setBingImageLoadComplete();\n    } else {\n      bingImgRef.current.addEventListener('load', setBingImageLoadComplete);\n    }\n\n    return () => {\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      bingImgRef.current.removeEventListener('load', setBingImageLoadComplete);\n    };\n  }, [bingImage.time]);\n\n\n  React.useEffect(() => {\n    isCancel.current = false;\n\n    setStatus('loading');\n    setProfile({ uname });\n    dispatch({ type: 'RESTORE' });\n    setIndex(0);\n\n    (async () => {\n      const params = {\n        url: `/user/${uname}`,\n        params: { mdrender: false },\n      };\n\n      const { success, data, err_msg } = await getData(params);\n\n      if (isCancel.current) {\n        return;\n      }\n\n      if (success) {\n        const { recent_topics, recent_replies, ...rest } = data;\n\n        setProfile({ ...rest });\n        dispatch({ type: 'SET_TOPICS', data: { data: recent_topics } });\n        dispatch({ type: 'SET_REPLIES', data: { data: recent_replies } });\n        setStatus('success');\n      } else {\n        setStatus('error');\n        setMessage(err_msg);\n      }\n    })();\n\n    (async () => {\n      const params = {\n        url: `/topic_collect/${uname}`,\n        params: { mdrender: false },\n      };\n\n      const { success, data } = await getData(params);\n\n      if (!isCancel.current && success) {\n        dispatch({ type: 'SET_COLLECTIONS', data: { data } });\n      }\n    })();\n\n    setBingImage(prevState => ({...prevState, complete: false}));\n\n    (async () => {\n      const data = await getBingImage();\n\n      if (!isCancel.current) {\n        setBingImage(prevState => ({ ...prevState, ...data }));\n      }\n    })();\n\n    return () => isCancel.current = true;\n  }, [uname]);\n\n  const { width } = props;\n  const classes = useStyles();\n  const swipeableViewsRef = React.useRef();\n\n  return (\n    <AppWrapper\n      title={uname}\n      bodyAttributes={{ class: 'user-view' }}\n    >\n      <div className={clsx('cover blur', classes.cover)}>\n        <div className={clsx('bing-image', {\n          'complete': bingImage.complete,\n        })}>\n          {bingImage.url &&\n            <img\n              ref={bingImgRef}\n              src={bingImage.url}\n              alt=\"background image\"\n              title={bingImage.copyright}\n              aria-hidden\n            />\n          }\n        </div>\n        <Fade in={!bingImage.complete}>\n          <LinearProgress\n            className={classes.progress}\n            classes={{\n              colorPrimary: classes.colorPrimary,\n              barColorPrimary: classes.barColorPrimary,\n            }}\n          />\n        </Fade>\n\n        {profile.loginname &&\n          <div className=\"user wrapper\">\n            <Avatar id=\"avatar\" aria-label=\"Recipe\">\n              <img src={profile.avatar_url} alt={profile.loginname} />\n            </Avatar>\n            <div className=\"items\">\n              <Hidden xsDown>\n                <div>\n                  <div className=\"item name\">\n                    <PersonIcon />\n                    {profile.loginname}\n                  </div>\n                  <div className=\"item create\">\n                    <AccessTimeIcon />\n                    <Moment format=\"YYYY-MM-DD HH:mm:ss\">\n                      {profile.create_at}\n                    </Moment>\n                  </div>\n                </div>\n                <div>\n                  {profile.githubUsername &&\n                    <div className=\"item github\">\n                      {GithubIcon}\n                      <a\n                        target=\"_blank\"\n                        href={`https://github.com/${profile.githubUsername}`}\n                      >\n                        {profile.githubUsername}\n                      </a>\n                    </div>\n                  }\n                  <div className=\"item score\">\n                    <SchoolIcon />\n                    {profile.score}\n                  </div>\n                </div>\n              </Hidden>\n              <Hidden smUp>\n                <div>\n                  {profile.githubUsername &&\n                    <div className=\"item github\">\n                      {GithubIcon}\n                      <a\n                        target=\"_blank\"\n                        href={`https://github.com/${profile.githubUsername}`}\n                      >\n                        {profile.githubUsername}\n                      </a>\n                    </div>\n                  }\n                </div>\n                <div>\n                  <div className=\"item create\">\n                    <AccessTimeIcon />\n                    <Moment format=\"YYYY-MM-DD HH:mm:ss\">\n                      {profile.create_at}\n                    </Moment>\n                  </div>\n                </div>\n              </Hidden>\n            </div>\n          </div>\n        }\n      </div>\n\n      <div className={clsx('tab-list', classes.spacings)}>\n        <div className=\"wrapper\">\n          <Tabs\n            classes={{\n              indicator: classes.indicator,\n            }}\n            value={index}\n            onChange={handleChange}\n            centered\n            {\n              ...!isWidthUp('md', width)\n              ? { variant: 'fullWidth' }\n              : {}\n            }\n          >\n            {Object.keys(state).map(key => (\n              <Tab\n                classes={{\n                  root: classes.tab,\n                  selected: classes.selected,\n                }}\n                label={state[key].name}\n                key={state[key].name}\n                disabled={status !== 'success'}\n              />\n            ))}\n          </Tabs>\n        </div>\n      </div>\n\n      <Fade in={Boolean(message)}>\n        <div className={clsx('tips error', {\n          [classes.tips]: Boolean(message),\n        })}>\n          {message}\n        </div>\n      </Fade>\n\n      <div className=\"recent wrapper\">\n        <SwipeableViews\n          index={index}\n          onChangeIndex={handleChangeIndex}\n          enableMouseEvents\n          animateHeight\n          slideStyle={{ overflow: 'hidden' }}\n          ref={swipeableViewsRef}\n        >\n          {Object.keys(state).map(key => (\n            <div className={`r-${key}`} key={key}>\n              <SwipeableViewsTab\n                data={state[key].data}\n                show={state[key].show}\n                ref={swipeableViewsRef}\n              />\n            </div>\n          ))}\n        </SwipeableViews>\n      </div>\n\n      <div className=\"status wrapper\">\n        <Progress className=\"mini\" status={status} />\n      </div>\n    </AppWrapper>\n  );\n};\n\nUser.propTypes = {\n  width: PropTypes.string.isRequired,\n};\n\nexport default withWidth()(User);\n\nconst SwipeableViewsTab = React.forwardRef((props, ref) => {\n  const { data, show } = props;\n  const timer = React.useRef();\n\n  React.useEffect(() => {\n    if (!show) {\n      return;\n    }\n\n    clearTimeout(timer.current);\n\n    timer.current = setTimeout(() => {\n      ref\n        .current\n        .getChildContext()\n        .swipeableViews\n        .slideUpdateHeight();\n    }, 0 * 1e3);\n\n    return () => clearTimeout(timer.current);\n  }, [ref, show, data]);\n\n  return (show && data.map(item => (\n    <TopiCard className=\"profile\" item={item} simple key={item.id} />\n  )));\n});\n\nSwipeableViewsTab.propTypes = {\n  data: PropTypes.array.isRequired,\n  show: PropTypes.bool.isRequired,\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => React.createElement(\"svg\", _extends({\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 1440 810\",\n  preserveAspectRatio: \"xMinYMin slice\",\n  \"aria-hidden\": \"true\"\n}, props), React.createElement(\"path\", {\n  id: \"cell-4\",\n  fill: \"#efefee\",\n  d: \"M592.66 0c-15 64.092-30.7 125.285-46.598 183.777C634.056 325.56 748.348 550.932 819.642 809.5h419.672C1184.518 593.727 1083.124 290.064 902.637 0H592.66z\"\n}), React.createElement(\"path\", {\n  id: \"cell-5\",\n  fill: \"#f6f6f6\",\n  d: \"M545.962 183.777c-53.796 196.576-111.592 361.156-163.49 490.74 11.7 44.494 22.8 89.49 33.1 134.883h404.07c-71.294-258.468-185.586-483.84-273.68-625.623z\"\n}), React.createElement(\"path\", {\n  id: \"cell-6\",\n  fill: \"#f7f7f7\",\n  d: \"M153.89 0c74.094 180.678 161.088 417.448 228.483 674.517C449.67 506.337 527.063 279.465 592.56 0H153.89z\"\n}), React.createElement(\"path\", {\n  id: \"cell-7\",\n  fill: \"#fbfbfc\",\n  d: \"M153.89 0H0v809.5h415.57C345.477 500.938 240.884 211.874 153.89 0z\"\n}), React.createElement(\"path\", {\n  id: \"cell-3\",\n  fill: \"#ebebec\",\n  d: \"M1144.22 501.538c52.596-134.583 101.492-290.964 134.09-463.343 1.2-6.1 2.3-12.298 3.4-18.497 0-.2.1-.4.1-.6 1.1-6.3 2.3-12.7 3.4-19.098H902.536c105.293 169.28 183.688 343.158 241.684 501.638v-.1z\"\n}), React.createElement(\"path\", {\n  id: \"cell-1\",\n  fill: \"#e1e1e1\",\n  d: \"M1285.31 0a2161.05 2161.05 0 01-6.9 38.195C1321.507 86.39 1379.603 158.98 1440 257.168V0h-154.69z\"\n}), React.createElement(\"path\", {\n  id: \"cell-2\",\n  fill: \"#e7e7e7\",\n  d: \"M1278.31 38.196c-32.5 171.678-81.09 327.36-133.49 461.642v3.8c41 112.286 71.59 216.573 94.29 305.962l200.59.4V256.768c-60.3-97.988-118.29-170.48-161.39-218.573v.001z\"\n})));","import React from 'react';\nimport clsx from 'clsx';\nimport { useHistory } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { validateUUID } from '../../common';\nimport { post } from '../../fetch';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Avatar from '@material-ui/core/Avatar';\nimport Collapse from '@material-ui/core/Collapse';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\n\nimport { AppWrapper } from '../../Layout';\nimport Notification from '../../Components/Notification';\nimport SigninSvg from '../../static/google_signin.svg';\nimport LogoSvg from '../../static/cnodejs/cnodejs.svg';\nimport './signin.styl';\n\nconst useStyles = makeStyles(theme => ({\n  svg: theme.palette.type === 'light' ? {} : {\n    '& #cell-1': { fill: '#0d0d0c' },\n    '& #cell-2': { fill: '#141413' },\n    '& #cell-3': { fill: '#181817' },\n    '& #cell-4': { fill: '#1c1d1c' },\n    '& #cell-5': { fill: '#222322' },\n    '& #cell-6': { fill: '#232423' },\n    '& #cell-7': { fill: '#272727' },\n  },\n  root: {\n    '&.success': {\n      '& label': {\n        color: '#508028',\n      },\n      '& .MuiInput-underline': {\n        '&:hover:before': {\n          borderBottomColor: theme.palette.type === 'light' ? 'rgba(128,189,1,.87)' : 'rgba(108,168,3,.87)',\n        },\n        '&:before': {\n          borderBottomColor: theme.palette.type === 'light' ? '#56b700' : '#519217',\n        },\n        '&:after': {\n          borderBottomColor: theme.palette.type === 'light' ? '#80bd01' : '#519217',\n        },\n      },\n    },\n    '&.error': {\n      '& label': {\n        color: theme.palette.type === 'light' ? '#f44336' : '#b92c22',\n      },\n      '& .MuiInput-underline': {\n        '&:after': {\n          borderBottomColor: theme.palette.type === 'light' ? '#f44336' : '#b92c22',\n        },\n      },\n    },\n    '&.focus': {\n      '& label': {\n        color: '#46483e',\n      },\n      '& .MuiInput-underline': {\n        '&:after': {\n          borderBottomColor: '#46483e',\n        },\n      },\n    },\n    '& .MuiInput-underline': {\n      '&:hover:before': {\n        borderBottomWidth: 1,\n        borderBottomColor: 'rgba(70,72,69,.8)',\n      },\n      '&:after': {\n        borderBottomColor: 'rgba(70,72,69,.8)',\n      },\n    },\n  },\n}));\n\nconst Signin = () => {\n  const classes = useStyles();\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const isCancel = React.useRef();\n  const { isAuthed, ...authRest } = useSelector(state => state.auth);\n\n  const [state, setState] = React.useState({\n    status: isAuthed ? 'success' : 'idle',\n    focus: isAuthed === false,\n    isUUID: isAuthed === true,\n    diff: isAuthed === false,\n    ...authRest,\n    isAuthed,\n  });\n\n  const handleChange = name => event => {\n    const value = event.target.value.trim();\n    const { accesstoken } = authRest;\n    const condition = value === accesstoken;\n\n    setState(prevState => ({\n      ...prevState,\n      status: condition ? 'success' : 'idle',\n      [name]: value,\n      isUUID: validateUUID(value),\n      diff: condition === false,\n    }));\n  };\n\n  const handleOnFocus = () => {\n    setState(prevState => ({ ...prevState, focus: true }));\n  };\n\n  const handleOnBlur = () => {\n    setState(prevState => ({ ...prevState, focus: false }));\n  };\n\n  const handleClick = () => {\n    if (history.length > 1) {\n      history.goBack();\n    } else {\n      history.push('/');\n    }\n  };\n\n  const validateUser = async () => {\n    const { accesstoken } = state;\n    const params = {\n      url: '/accesstoken',\n      params: { accesstoken },\n    };\n\n    const { success, data, err_msg } = await post(params);\n\n    if (isCancel.current) {\n      return;\n    }\n\n    if (success) {\n      const auth = {\n        isAuthed: true,\n        accesstoken,\n        avatar: data.avatar_url,\n        uname: data.loginname,\n        uid: data.id,\n      };\n\n      dispatch({ type: 'UPDATE_AUTH', data: auth });\n\n      setState(prevState => ({\n        ...prevState,\n        status: 'success',\n        diff: false,\n        ...auth,\n      }));\n    } else {\n      setState(prevState => ({ ...prevState, status: 'error' }));\n\n      if (err_msg) {\n        dispatch({\n          type: 'OPEN_NOTIFICATION',\n          data: {\n            message: err_msg,\n            status: 'error',\n          },\n        });\n      }\n    }\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    const { isUUID, diff } = state;\n\n    if (isUUID && diff) {\n      isCancel.current = false;\n\n      validateUser();\n    }\n  };\n\n  React.useEffect(() => {\n    return () => isCancel.current = true;\n  }, []);\n\n  return (\n    <AppWrapper\n      title=\"\"\n      withHeader={false}\n      htmlAttributes={{ id: 'signin' }}\n    >\n      <div className=\"container flex\">\n        <SigninSvg className={`${classes.svg} bg`} />\n\n        <div className=\"flex area top\" />\n        <div className=\"flex area mid\">\n          <div className=\"logo\">\n            <LogoSvg />\n          </div>\n\n          <Collapse in={state.isAuthed}>\n            {state.isAuthed &&\n              <div className={clsx('auth-user', {\n                'show': state.isAuthed,\n                'diff': state.diff,\n              })}>\n                <div className=\"avatar\">\n                  <Avatar className=\"item\" alt={state.uname} src={state.avatar} />\n                </div>\n                <Typography className=\"name\">\n                  <span className=\"item\">{state.uname}</span>\n                </Typography>\n              </div>\n            }\n          </Collapse>\n\n          <form\n            noValidate\n            autoComplete=\"off\"\n            onSubmit={handleSubmit}\n          >\n            <TextField\n              fullWidth\n              id=\"accesstoken\"\n              label=\"Access Token\"\n              margin=\"normal\"\n              spellCheck=\"false\"\n              autoFocus={!state.isAuthed}\n              error={state.status === 'error'}\n              className={clsx(classes.root, state.status, {\n                'focus': state.focus,\n              })}\n              onChange={handleChange('accesstoken')}\n              value={state.accesstoken || ''}\n              onFocus={handleOnFocus}\n              onBlur={handleOnBlur}\n            />\n            <div className=\"btn\">\n              <Button\n                variant=\"outlined\"\n                {\n                  ...\n                  state.diff\n                  ? {\n                    type: 'submit',\n                    disabled: !state.isUUID,\n                  } : {\n                    onClick: handleClick,\n                    autoFocus: state.isAuthed,\n                  }\n                }\n              >\n                {state.diff ? '' : ''}\n              </Button>\n            </div>\n          </form>\n        </div>\n        <div className=\"flex area bot\" />\n      </div>\n\n      <Notification />\n    </AppWrapper>\n  );\n};\n\nexport default Signin;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { post } from '../../fetch';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport ExpansionPanelActions from '@material-ui/core/ExpansionPanelActions';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport Divider from '@material-ui/core/Divider';\n\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport AtIcon from '@material-ui/icons/AlternateEmail';\nimport ReplyIcon from '@material-ui/icons/Reply';\nimport NewTabIcon from '@material-ui/icons/OpenInNew';\n\nimport Avatar from '../../Components/Avatar';\nimport Moment from '../../Components/Moment';\nimport { MarkdownRender } from '../../Components/Markdown';\n\nconst useStyles = makeStyles(theme => ({\n  unRead: {\n    boxShadow: '0 1px 2px 0 rgba(245,0,87,.16),0 1px 1px 0 rgba(245,0,87,.12),0 2px 1px -1px rgba(245,0,87,.1)',\n    '&:before': {\n      backgroundColor: 'rgba(245,0,87,.12)',\n    },\n  },\n  summary: {\n    '@media (max-width: 768px)': {\n      paddingLeft: 20,\n      paddingRight: 20,\n    },\n    '@media (max-width: 600px)': {\n      paddingLeft: 16,\n      paddingRight: 16,\n    },\n    '@media (max-width: 420px)': {\n      paddingLeft: 14,\n      paddingRight: 14,\n    },\n  },\n  content: {\n    maxWidth: '100%',\n    minWidth: 0,\n  },\n  moreUnRead: {\n    color: 'rgba(245,0,87,.7)',\n  },\n  avatar: {\n    marginRight: 10,\n  },\n  title: {\n    fontSize: 16,\n    lineHeight: '1.5em',\n  },\n  uname: {\n    display: 'block',\n    fontWeight: 700,\n  },\n  time: {\n    paddingLeft: 10,\n    '& time': {\n      marginLeft: 3,\n    },\n    '& div': {\n      display: 'flex',\n      alignItems: 'center',\n    },\n  },\n  sizeAt: {\n    fontSize: 18,\n    transform: 'translateY(-1px)',\n  },\n  sizeReply: {\n    fontSize: 20,\n    transform: 'translateY(-1.5px)',\n  },\n  gray: {\n    color: theme.palette.type === 'light' ? 'rgba(0,0,0,.5)' : 'rgba(130,130,130,.5)',\n  },\n  actions: {\n    paddingLeft: 14,\n    paddingRight: 14,\n    '@media (max-width: 600px)': {\n      paddingTop: 12,\n      paddingBottom: 12,\n    },\n    '@media (max-width: 420px)': {\n      paddingLeft: 12,\n      paddingRight: 12,\n    },\n  },\n  btn: {\n    padding: '6px 10px',\n  },\n  icon: {\n    marginLeft: 2,\n    fontSize: 14,\n  },\n}));\n\nconst MessageCard = (props) => {\n  const [state, setState] = React.useState({ ...props.item });\n  const { accesstoken } = useSelector(({ auth }) => auth);\n  const disptach = useDispatch();\n  const isCancel = React.useRef(false);\n\n  React.useEffect(() => {\n    return () => isCancel.current = true;\n  }, []);\n\n  const markMessage = async () => {\n    const params = {\n      url: `/message/mark_one/${state.id}`,\n      params: { accesstoken },\n    };\n\n    const { success } = await post(params);\n\n    if (!isCancel.current && success) {\n      disptach({ type: 'READ_MESSAGE' });\n      setState(prevState => ({ ...prevState, has_read: true }));\n    }\n  };\n\n  const handleChange = (event, expanded) => {\n    if (!state.has_read) {\n      markMessage();\n    }\n  };\n\n  const classes = useStyles();\n  const { hasRead } = props;\n\n  return (\n    <ExpansionPanel\n      className={clsx({\n        [classes.unRead]: !state.has_read && !hasRead,\n      })}\n      onChange={handleChange}\n    >\n      <ExpansionPanelSummary\n        classes={{\n          root: classes.summary,\n          content: classes.content,\n          expandIcon: clsx({\n            [classes.moreUnRead]: !state.has_read && !hasRead,\n          }),\n        }}\n        expandIcon={<ExpandMoreIcon />}\n      >\n        <Grid container wrap=\"nowrap\" alignItems=\"center\">\n          <Grid item className={classes.avatar}>\n            <Avatar\n              name={state.author.loginname}\n              image={state.author.avatar_url}\n            />\n          </Grid>\n          <Grid container item zeroMinWidth wrap=\"wrap\" alignItems=\"center\">\n            <Grid container item zeroMinWidth wrap=\"wrap\" alignItems=\"center\">\n              <Typography noWrap component=\"h4\" className={classes.title}>\n                {state.topic.title}\n              </Typography>\n            </Grid>\n            <Grid container item zeroMinWidth wrap=\"nowrap\" alignItems=\"center\">\n              <Grid item zeroMinWidth>\n                <Typography noWrap component=\"span\" className={clsx(classes.uname, classes.gray)}>\n                  {state.author.loginname}\n                </Typography>\n              </Grid>\n              <Grid item className={classes.time}>\n                <Typography noWrap component=\"div\" className={classes.gray}>\n                  {state.type === 'reply' ? (\n                    <ReplyIcon className={classes.sizeReply} />\n                  ) : (\n                    <AtIcon className={classes.sizeAt} />\n                  )}\n                  <Moment fromNow>{state.reply.create_at}</Moment>\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </ExpansionPanelSummary>\n      <ExpansionPanelDetails>\n        <MarkdownRender markdownString={state.reply.content} />\n      </ExpansionPanelDetails>\n      <Divider />\n      <ExpansionPanelActions className={classes.actions}>\n        <Button\n          component={Link}\n          className={classes.btn}\n          to={`/user/${state.author.loginname}`}\n          target=\"_blank\"\n          size=\"medium\"\n        >\n          \n          <NewTabIcon className={classes.icon} />\n        </Button>\n        <Button\n          component={Link}\n          className={classes.btn}\n          to={`/topic/${state.topic.id}#${state.reply.id}`}\n          target=\"_blank\"\n          size=\"medium\"\n          color=\"primary\"\n        >\n          \n          <NewTabIcon className={classes.icon} />\n        </Button>\n      </ExpansionPanelActions>\n    </ExpansionPanel>\n  );\n};\n\nMessageCard.propTypes = {\n  item: PropTypes.object.isRequired,\n  hasRead: PropTypes.bool.isRequired,\n};\n\nexport default MessageCard;\n","import React from 'react';\nimport clsx from 'clsx';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport {\n  get as getData,\n  post,\n} from '../../fetch';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Fade from '@material-ui/core/Fade';\nimport Grid from '@material-ui/core/Grid';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport IconButton from '@material-ui/core/IconButton';\nimport MarkAllIcon from '@material-ui/icons/DoneAll';\n\nimport { AppWrapper } from '../../Layout';\nimport MessageCard from './MessageCard';\nimport Progress from '../../Components/Progress';\n\nconst useStyles = makeStyles(theme => ({\n  spacings: {\n    marginTop: 40,\n    marginBottom: 10,\n    padding: '0 7px',\n    '@media (max-width: 768px)': {\n      marginTop: 30,\n      marginBottom: 8,\n    },\n    '@media (max-width: 600px)': {\n      marginTop: 20,\n      marginBottom: 4,\n    },\n  },\n  text: {\n    position: 'relative',\n    flex: 1,\n    marginRight: 8,\n    fontSize: 14,\n    color: theme.palette.type === 'light' ? 'rgba(0,0,0,.6)' : 'rgba(190,190,190,.6)',\n    pointerEvents: 'none',\n    transition: 'opacity .15s cubic-bezier(.4,0,.2,1)',\n    '@media (max-width: 600px)': {\n      marginRight: 4,\n    },\n    '& span': {\n      position: 'absolute',\n      top: -9,\n      right: 0,\n      whiteSpace: 'nowrap',\n    },\n  },\n  opacity: {\n    opacity: .6,\n  },\n  error: {\n    color: theme.palette.secondary.main,\n  },\n}));\n\nconst Message = () => {\n  const [items, setItems] = React.useState([]);\n  const [state, setState] = React.useState({\n    status: 'loading',\n    err_msg: '',\n  });\n  const { isAuthed, accesstoken, message } = useSelector(s => ({\n    ...s.auth,\n    message: { ...s.message },\n  }));\n  const isCancel = React.useRef(false);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const classes = useStyles();\n\n  const markAllMessage = () => {\n    items.map(item => item.has_read = true);\n    setItems(items);\n  };\n\n  const handleMarkAllMessage = async () => {\n    isCancel.current = false;\n\n    const params = {\n      url: '/message/mark_all',\n      params: { accesstoken },\n    };\n\n    const { success } = await post(params);\n\n    if (!isCancel.current && success) {\n      markAllMessage();\n      dispatch({ type: 'READ_ALL_MESSAGE' });\n    }\n  };\n\n  React.useEffect(() => {\n    if (!Boolean(accesstoken)) {\n      return;\n    }\n\n    (async () => {\n      const params = {\n        url: '/messages',\n        params: {\n          accesstoken,\n          mdrender: false,\n        },\n      };\n\n      const {\n        success,\n        data: {\n          hasnot_read_messages: unRead = [],\n          has_read_messages: hasRead = [],\n        },\n        err_msg,\n      } = await getData(params);\n\n      if (isCancel.current) {\n        return;\n      }\n\n      if (success) {\n        dispatch({ type: 'UPDATE_MESSAGE', data: unRead.length });\n\n        setState({ status: 'success' });\n        setItems([ ...unRead, ...hasRead ]);\n      } else {\n        setState(prevState => ({\n          status: 'error',\n          err_msg: err_msg ? err_msg : prevState.err_msg,\n        }));\n      }\n    })();\n\n    return () => isCancel.current = true;\n  }, [accesstoken, dispatch]);\n\n  React.useEffect(() => {\n    if (!isAuthed) {\n      history.push('/');\n    }\n  }, [isAuthed, history]);\n\n  return (\n    <AppWrapper title=\"\">\n      <div className=\"wrapper\">\n        <Grid container alignItems=\"center\" justify=\"flex-end\" className={classes.spacings}>\n          <Grid item className={clsx(classes.text, {\n            [classes.opacity]: state.status !== 'success' || message.count === 0,\n            [classes.error]: state.status === 'error',\n          })}>\n            <Fade unmountOnExit in={state.status === 'loading'}>\n              <span></span>\n            </Fade>\n            <Fade unmountOnExit in={state.status === 'error'}>\n              <span>{state.err_msg}</span>\n            </Fade>\n            <Fade unmountOnExit in={state.status === 'success' && !Boolean(items.length)}>\n              <span></span>\n            </Fade>\n            <Fade unmountOnExit in={state.status === 'success' && Boolean(items.length) && !Boolean(message.count)}>\n              <span></span>\n            </Fade>\n            <Fade unmountOnExit in={state.status === 'success' && Boolean(message.count)}>\n              <span>{message.count} </span>\n            </Fade>\n          </Grid>\n          <Tooltip\n            title=\"\"\n            enterDelay={500}\n            placement=\"left-start\"\n            disableTouchListener\n          >\n            <span>\n            <IconButton\n              onClick={handleMarkAllMessage}\n              disabled={state.status !== 'success' || message.count === 0}\n              disableRipple\n            >\n              <MarkAllIcon />\n            </IconButton>\n            </span>\n          </Tooltip>\n        </Grid>\n\n        {items.map(item => (\n          <MessageCard key={item.id} item={item} hasRead={item.has_read} />\n        ))}\n      </div>\n\n      <div className=\"status wrapper\">\n        <Progress status={state.status} />\n      </div>\n    </AppWrapper>\n  );\n};\n\nexport default Message;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport { useTheme, makeStyles } from '@material-ui/core/styles';\nimport withWidth, { isWidthDown } from '@material-ui/core/withWidth';\n\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport Button from '@material-ui/core/Button';\nimport Switch from '@material-ui/core/Switch';\nimport Paper from '@material-ui/core/Paper';\nimport Slider from '@material-ui/core/Slider';\n\nimport Brightness4Icon from '@material-ui/icons/Brightness4';\nimport Brightness7Icon from '@material-ui/icons/Brightness7';\n\nimport { AppWrapper } from '../../Layout';\nimport './settings.styl';\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    marginTop: 30,\n    marginBottom: 14,\n    paddingLeft: 1,\n    paddingRight: 1,\n    fontSize: 15,\n  },\n  mark: {\n    backgroundColor: 'transparent',\n  },\n}));\n\nconst Settings = (props) => {\n  const theme = useTheme();\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const {\n    auth: { isAuthed },\n    settings,\n  } = useSelector(state => state);\n\n  const handleToggleThemeMode = () => {\n    const themeMode = theme.palette.type === 'light' ? 'dark' : 'light';\n    dispatch({\n      type: 'UPDATE_SETTINGS',\n      data: { ...settings, themeMode },\n    });\n  };\n\n  const handleChangeAutoFollow = () => {\n    const autoFollow = !settings.autoFollow;\n    dispatch({\n      type: 'UPDATE_SETTINGS',\n      data: { ...settings, autoFollow },\n    });\n  };\n\n  const handleCardPreview = () => {\n    dispatch({\n      type: 'UPDATE_SETTINGS',\n      data: {\n        ...settings,\n        cardPreview: !settings.cardPreview,\n      },\n    });\n  };\n\n  const handleChangeTime = (event, value) => {\n    dispatch({\n      type: 'UPDATE_SETTINGS',\n      data: {\n        ...settings,\n        time: value * 60,\n      },\n    });\n  };\n\n  const handleRestoreSettings = () => {\n    dispatch({ type: 'RESTORE_SETTINGS' });\n  };\n\n  return (\n    <AppWrapper title=\"\">\n      <div id=\"settings\" className=\"wrapper\">\n        <Typography className={classes.title}></Typography>\n        <Paper>\n          <div className=\"setting\">\n            <div className=\"setting-label\"></div>\n            <IconButton\n              color=\"inherit\"\n              onClick={handleToggleThemeMode}\n              disabled={settings.autoFollow}\n            >\n              {settings.themeMode === 'light' ? <Brightness4Icon /> : <Brightness7Icon />}\n            </IconButton>\n          </div>\n          <div className=\"setting\">\n            <div className=\"setting-label\"></div>\n            <Switch\n              className=\"switch\"\n              checked={settings.autoFollow}\n              onChange={handleChangeAutoFollow}\n              color=\"primary\"\n            />\n          </div>\n        </Paper>\n\n        <Typography className={classes.title}></Typography>\n        <Paper>\n          <div className=\"setting\">\n            <div className=\"setting-label\"></div>\n            <Switch\n              className=\"switch\"\n              checked={settings.cardPreview}\n              onChange={handleCardPreview}\n              color=\"primary\"\n            />\n          </div>\n        </Paper>\n\n        <Typography className={classes.title}></Typography>\n        <Paper>\n          <div\n            className={clsx('setting', {\n              'nano': isWidthDown('xs', props.width),\n            })}\n          >\n            <div className=\"setting-label\"></div>\n            <div className=\"setting-wrapper\">\n              <Slider\n                disabled={!isAuthed}\n                min={0}\n                max={10}\n                step={null}\n                value={settings.time / 60}\n                marks={[\n                  { value: 0, label: '' },\n                  { value: 1, label: '1' },\n                  { value: 3, label: '3' },\n                  { value: 5, label: '5' },\n                  { value: 10, label: '10' },\n                ]}\n                onChange={handleChangeTime}\n                classes={{\n                  mark: classes.mark,\n                  markActive: classes.mark,\n                }}\n              />\n            </div>\n          </div>\n        </Paper>\n\n        <Typography className={classes.title}></Typography>\n        <Paper>\n          <div className=\"setting\">\n            <div className=\"setting-label\"></div>\n            <Button\n              onClick={handleRestoreSettings}\n              variant=\"outlined\"\n            >\n              \n            </Button>\n          </div>\n        </Paper>\n      </div>\n    </AppWrapper>\n  );\n};\n\nSettings.propTypes = {\n  width: PropTypes.string.isRequired,\n};\n\nexport default withWidth()(Settings);\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => React.createElement(\"svg\", _extends({\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 512 512\"\n}, props), React.createElement(\"path\", {\n  d: \"M369.5 32H142.4C81.5 32 32 82.6 32 144.6v222.8c0 62 49.5 112.6 110.4 112.6h227.2c60.9 0 110.5-50.6 110.5-112.6V144.6C480 82.6 430.5 32 369.5 32zM175 251v.7c0 10.9-9.1 20.4-19.9 20.4h-23.3c-10.8 0-19.9-9.5-19.9-20.4V148.1c1-10.8 9.2-20.2 19.9-20.2h23.3c10.9 0 19.9 9.8 19.9 20.8V251zm122 147.4c0 11.4-8.9 17.6-20.1 17.6h-41.8c-11.2 0-20.1-8.1-20.1-19.6v-29.3c0-23.3 18.1-42.3 41-42.3s41 19 41 42.3v31.3zM400 251v.7c0 10.9-9.1 20.4-19.9 20.4h-24.3c-10.8 0-19.9-9.5-19.9-20.4V148.1c1-10.8 9.2-20.2 19.9-20.2h24.3c10.8 0 19.9 9.8 19.9 20.8V251z\"\n})));","import React from 'react';\nimport clsx from 'clsx';\nimport { useHistory } from 'react-router-dom';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\n\nimport { AppWrapper } from '../../Layout';\nimport MdOutletIcon from '../../static/ionicons_md_outlet.svg';\n\nconst useStyles = makeStyles(theme => ({\n  main: {\n    paddingTop: 120,\n    flexDirection: 'column',\n    [theme.breakpoints.down('sm')]: {\n      position: 'fixed',\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0,\n      padding: 0,\n      overflow: 'hidden',\n    },\n  },\n  center: {\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  wrapper: {\n    flexDirection: 'row',\n    marginBottom: 40,\n    [theme.breakpoints.down('sm')]: {\n      flexDirection: 'column',\n      marginBottom: 62,\n      marginTop: -32,\n    },\n  },\n  h1: {\n    marginRight: 45,\n    paddingRight: 45,\n    fontSize: 80,\n    borderRight: '3px solid #7b7b7b',\n    [theme.breakpoints.down('sm')]: {\n      marginRight: 0,\n      marginBottom: 32,\n      paddingRight: 0,\n      border: 'none',\n    },\n  },\n  p: {\n    fontSize: 20,\n    textAlign: 'left',\n    flexDirection: 'column',\n  },\n  icon: {\n    width: '1em',\n    height: '1em',\n    fontSize: 60,\n    fill: theme.palette.text.primary,\n  },\n  button: {\n    paddingTop: 10,\n    paddingBottom: 10,\n    [theme.breakpoints.down('sm')]: {\n      marginBottom: 32,\n    },\n  },\n}));\n\nconst NotFound = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const handleBackToHome = () => {\n    history.push('/');\n  };\n\n  return (\n    <AppWrapper title=\"404\" withHeader={false}>\n      <div className={clsx(\n        'flex',\n        classes.main,\n        classes.center,\n      )}>\n        <div className={clsx(\n          'flex',\n          classes.wrapper,\n          classes.center,\n        )}>\n          <h1 className={classes.h1}>404</h1>\n          <p className={clsx(\n            'flex',\n            classes.p,\n            classes.center,\n          )}>\n            <MdOutletIcon className={classes.icon} />\n            <span>Page not Found</span>\n          </p>\n        </div>\n        <Button\n          className={classes.button}\n          variant=\"outlined\"\n          onClick={handleBackToHome}\n        >\n          Back to Home\n        </Button>\n      </div>\n    </AppWrapper>\n  );\n};\n\nexport default NotFound;\n","import React from 'react';\nimport {\n  BrowserRouter,\n  Route,\n  Switch,\n  Redirect,\n} from 'react-router-dom';\n\nimport { Provider, useSelector } from 'react-redux';\nimport store from './store';\n\nimport ThemeProvider from './Components/Theme';\nimport ScrollToTop from './Components/ScrollToTop';\nimport Loadding from './Components/Loadding';\n\nimport { AppFrame } from './Layout';\nimport Home from './Views/Home';\nimport Topic from './Views/Topic';\nimport User from './Views/User';\nimport Signin from './Views/Signin';\nimport Message from './Views/Message';\nimport Settings from './Views/Settings';\nimport NotFound from './Views/404';\n\nlet Test = NotFound;\n\nif (process.env.NODE_ENV === 'development') {\n  Test = React.lazy(() => import('./Views/Test'));\n}\n\nconst PrivateRoute = ({ component: Component, ...rest }) => {\n  const { isAuthed } = useSelector(({ auth }) => auth);\n\n  return (\n    <Route\n      {...rest}\n      render={props => (\n        isAuthed ? (\n          <Component {...props} />\n        ) : (\n          <Redirect to=\"/\" />\n        )\n      )}\n    />\n  );\n};\n\nconst App = () => {\n  return (\n    <Provider store={store}>\n      <ThemeProvider>\n        <BrowserRouter basename={process.env.PUBLIC_URL}>\n          <AppFrame>\n            <ScrollToTop />\n            <React.Suspense fallback={<Loadding />}>\n              <Switch>\n                <Route exact path=\"/\" component={Home} />\n                <Route exact path=\"/topic/:topic_id\" component={Topic} />\n                <Route exact path=\"/user/:uname\" component={User} />\n                <Route exact path=\"/signin/\" component={Signin} />\n                <PrivateRoute exact path=\"/message/\" component={Message} />\n                <Route exact path=\"/settings/\" component={Settings} />\n                <Route exact path=\"/test/\" component={Test} />\n                <Route path=\"*\" component={NotFound} />\n              </Switch>\n            </React.Suspense>\n          </AppFrame>\n        </BrowserRouter>\n      </ThemeProvider>\n    </Provider>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}