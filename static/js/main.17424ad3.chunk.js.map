{"version":3,"sources":["static/images/houses_beautiful_beach_photo_wallpaper.jpg","common/validateUUID.js","routers.js","common/navTabs.js","common/navIsActive.js","common/topicTypes.js","common/matchTab.js","common/URI.js","common/getNewData.js","store/reducers/auth.js","store/reducers/message.js","store/reducers/editor.js","store/reducers/share.js","store/reducers/zoom.js","store/reducers/notification.js","store/reducers/settings.js","store/reducers/colors.js","store/reducers/index.js","store/index.js","Components/Prism/index.js","Components/Theme/themeOptions.js","Components/Theme/index.jsx","Components/ScrollToTop/index.jsx","Components/Loadding/index.jsx","Layout/Helper.js","fetch/getBingImage.js","fetch/index.js","Components/Icons/Github.jsx","Components/Icons/SignOut.jsx","Components/Icons/index.jsx","static/avatar.svg","Components/Me/index.jsx","static/cnodejs/cnodejs.svg","Components/Logo/index.jsx","Layout/Nav/NormalNav.jsx","Components/TopicTypeIcon/index.jsx","Layout/Nav/DrawerNav.jsx","Layout/Header/index.jsx","Layout/Notice.jsx","Layout/AppFrame.jsx","Layout/AppWrapper.js","Components/Avatar/index.jsx","Components/Moment/index.jsx","Components/TopiCard/index.jsx","common/removeHtmlTags.js","common/randomNumber.js","Components/TopiCards/index.jsx","Components/Progress/index.jsx","Components/ActionDial/index.jsx","Components/Notification/index.jsx","Components/Markdown/MarkdownEditor.jsx","Components/Markdown/markdownToHtml/markdown-it.js","Components/Markdown/markdownToHtml/markdownToHtml.js","Components/Markdown/MarkdownRender.jsx","Components/Editor/EditorHeader.jsx","Components/Editor/Preview.jsx","Components/Editor/index.jsx","Components/useLoadmore/index.js","Views/Home/index.jsx","Views/Topic/TopicReply.jsx","Components/ImageZoom/index.jsx","Components/ShareDialog/index.jsx","Views/Topic/index.jsx","Views/User/index.jsx","static/google_signin.svg","Views/Signin/index.jsx","Views/Message/MessageCard.jsx","Views/Message/index.jsx","Views/Settings/index.jsx","static/ionicons_md_outlet.svg","Views/404/index.jsx","App.jsx","serviceWorker.js","index.js"],"names":["module","exports","uuid","validate","devRouters","routers","tab","all","path","name","isTopicType","good","share","ask","job","dev","topic","user","navTabsArray","navTabsObject","tabs","push","navIsActive","location","pathname","search","topicTypes","match","formatArr","arr","Array","map","value","join","orgURIRexStr","_orgURIRexStr","key","Object","keys","transformOrgURL","string","restr","regex","RegExp","replace","$0","$1","$2","$3","$4","baseURL","window","protocol","host","process","isGoBack","open","response","_","isEmpty","defaultState","accesstoken","undefined","avatar","uname","uid","isAuthed","initialState","JSON","parse","localStorage","getItem","validateUUID","auth","state","type","data","other","setItem","stringify","removeItem","count","message","Math","max","editor","action","url","post","zoom","status","notification","autoFollow","themeMode","cardPreview","time","settings","colors","rootReducer","combineReducers","store","createStore","applyMiddleware","Prism","alias","styleNode","document","querySelector","lightThemeOptions","primary","main","dark","light","background","default","darkThemeOptions","contrastText","secondary","active","text","divider","ThemeProvider","props","systemThemeMode","useMediaQuery","useSelector","paletteType","React","useEffect","theme","textContent","setPrismTheme","lightPrismTheme","darkPrismTheme","useMemo","createMuiTheme","palette","children","ScrollToTop","useLocation","scrollTo","useStyles","makeStyles","root","position","top","left","right","Loadding","classes","className","LinearProgress","changeElementAttributes","element","attrs","documentElement","body","contains","assign","id","class","forEach","Boolean","setAttribute","removeAttribute","bingAxios","axios","create","timeout","defaultImage","copyright","image","getBingImage","a","get","console","warn","Date","toISOString","cnodeAxios","fetch","method","params","success","err_msg","error_msg","trim","GithubIcon","SvgIcon","viewBox","githubSvg","d","SignOutIcon","signOutSvgPath","_extends","target","i","arguments","length","source","prototype","hasOwnProperty","call","apply","this","styles","createElement","xmlns","fill","cx","cy","r","badge","content","marginTop","marginRight","width","height","borderRadius","opacity","transition","backgroundColor","boxShadow","animation","border","transform","hidden","visibility","Me","s","dispatch","useDispatch","history","useHistory","timerMessage","useRef","timerSignout","isCancel","anchorEl","useState","setOpen","handleClose","event","current","handleInfo","handleMessage","handleSettings","handleSignin","handleSignout","clearTimeout","setTimeout","fetchUnreadCount","Grid","item","container","alignContent","alignItems","justify","IconButton","buttonRef","node","aria-owns","aria-haspopup","onClick","prevState","clsx","Avatar","src","alt","Popper","disablePortal","TransitionProps","placement","Grow","style","transformOrigin","Paper","ClickAwayListener","onClickAway","MenuList","MenuItem","ListItemIcon","ListItemText","Badge","badgeContent","fillRule","clipRule","pathsID","lightVariant","Logo","useTheme","reverse","color","NormalNav","isActive","navTabs","to","activeClassName","Button","disableFocusRipple","TopicTypeIcon","rest","typeIcon","drawerPaper","toolbar","display","justifyContent","mixins","logo","paddingLeft","breakpoints","up","marginBottom","spacing","DrawerNav","onClose","SwipeableDrawer","variant","onOpen","paper","ModalProps","keepMounted","List","ListItem","button","component","selected","handleClick","header","backgroundImage","navPlaceholder","navHidden","withWidth","isMobile","drawerOpen","setState","handleToggleNav","isWidthUp","Fragment","AppBar","Toolbar","currentTarget","animateScroll","duration","smooth","Hidden","xsDown","smDown","implementation","mdUp","sleep","delay","Promise","resolve","messages","getMessages","result","json","Notice","setMessage","lastSeen","seen","parseInt","getLastSeenNotice","unseenMessages","filter","msg","mounted","test","navigator","userAgent","Snackbar","anchorOrigin","vertical","horizontal","ContentProps","dangerouslySetInnerHTML","__html","size","autoHideDuration","onExited","initialOptions","title","htmlAttributes","bodyAttributes","withHeader","AppFrameContext","createContext","AppFrame","useReducer","payload","Error","options","changeTitle","Provider","CssBaseline","AppWrapper","changeApp","useContext","useCallback","reset","useChangeApp","propTypes","PropTypes","isRequired","object","bool","objectFit","fontSize","lineHeight","textIndent","CustomAvatar","aria-label","Moment","globalLocale","padding","fontWeight","fontFamily","letterSpacing","textTransform","expand","margin","transitions","shortest","expandOpen","simple","expanded","setExpanded","targetRefs","collectTrgetRefs","ref","Card","includes","author","loginname","avatar_url","Typography","CardActions","aria-expanded","wrap","zeroMinWidth","fromNow","create_at","last_reply_at","reply_count","visit_count","Collapse","in","unmountOnExit","CardContent","str","len","min","ceil","floor","random","randomNumber","substr","substrContent","TopiCards","items","card","Progress","CSSTransition","classNames","enter","exit","CircularProgress","svg","appbar","bottom","wrapper","fabMoveUp","enteringScreen","easing","easeOut","fabMoveDown","leavingScreen","sharp","single","signedUname","visible","notificationIsOpen","topic_id","useParams","favorite","shareURL","handleFavorite","handleUpdate","config","handleOpenEditor","origin","is_collect","Zoom","Fab","SpeedDial","ariaLabel","onMouseEnter","onMouseLeave","icon","SpeedDialIcon","openIcon","SpeedDialAction","tooltipTitle","reply_id","error","info","warning","iconVariant","variantIcon","CheckCircleIcon","WarningIcon","ErrorIcon","InfoIcon","Notification","handleExit","Icon","getTime","SnackbarContent","aria-describedby","close","flex","minHeight","MarkdownEditor","inputRef","disabled","updateContent","onUpdateContent","TextField","multiline","rows","fullWidth","placeholder","onChange","md","MarkdownIt","html","linkify","typographer","quotes","highlight","code","lang","toLocaleLowerCase","languages","use","checkbox","emoji","sub","sup","footnote","atToHtml","prevSpaces","nextSpaces","href","renderer","rules","tokens","idx","env","self","link_open","attrPush","hrefIdx","attrIndex","hrefSrc","level","renderToken","blacklist","markdownString","sanitizeHtml","markdownRender","render","allowedTags","exclusiveFilter","frame","tag","borderLeftColor","borderBottomColor","borderColor","borderTopColor","MarkdownRender","mdRef","getAttribute","from","querySelectorAll","img","addEventListener","markdownToHtml","paddingRight","paddingTop","paddingBottom","back","marginLeft","EditorHeader","publishTab","onPublishTab","onPreview","onFullScreen","fullScreen","moreOpen","setMoreOpen","selectOpen","setSelectOpen","handleCloseSelect","handleCloseMore","Popover","anchorReference","anchorPosition","Dialog","maxWidth","DialogTitle","DialogContent","RadioGroup","FormControlLabel","label","control","Radio","borderBottomWidth","borderBottomStyle","isWidthDown","disableTypography","actions","minWidth","doit","cancel","Transition","forwardRef","Slide","direction","validation","isOK","isDiff","preview","titleRef","contentRef","eState","eDispatch","closeEditor","handleChange","handleClosePreview","checkTab","handleSubmit","request","matchTab","change","PaperProps","TransitionComponent","onEntered","focus","rowsMax","DialogActions","useLoadmore","loadmore","setLoadmore","threshold","handleScroll","documentHeight","offsetHeight","scrollHeight","scrollTop","windowHeight","innerHeight","removeEventListener","Home","isFetching","isFetched","page","setTab","topics","setTopics","setStatus","fetchTopics","limit","mdrender","getData","editorData","newDataCreate","dtime","author_id","getNewDataCreate","index","topicAuthor","hash","sharePrefixURL","setSharePrefixURL","ups","isUped","is_uped","upData","setUpData","createAt","handleUp","timer","appHeaderHight","replieSpacings","scroller","offset","backdrop","zIndex","maxHeight","userSelect","outline","overflow","loading","box","transitionDuration","transitionDelay","cursor","flexWrap","btn","x","y","iX","iY","sX","sY","mX","mY","scale","scaleLevel","scaleLevels","spacings","dragSpacings","disabledUp","disabledDown","disabledReset","dragEnabled","dragActive","isTouch","ready","dragIsActive","zoomWrapRef","zoomBoxRef","zoomRef","initState","naturalWidth","naturalHeight","wrapWidth","clientWidth","wrapHeight","clientHeight","initialHeight","initialWidth","getTransformPos","currentWidth","currentHeight","tX","tY","getDragThreshold","getEventPos","touches","pageX","clientX","pageY","clientY","dragStart","preventDefault","dragMove","dragEnd","eStart","eMove","eEnd","eCancel","bindEvents","viewport","head","setViewport","handleZoom","maxScaleLevel","onEnter","complete","resetViewport","BackdropProps","onKeyUp","role","tabIndex","Fade","ShareDialog","handleCopy","copy","inputProps","readOnly","autoFocus","setTopic","replies","setReplies","dialTopic","setDialTopic","reps","newDataReply","getNewDataReply","newDataUpdate","getNewDataUpdate","cover","progress","colorPrimary","barColorPrimary","down","tips","indicator","labelIndex","show","collections","bingImgRef","bingImage","setBingImage","setIndex","profile","setProfile","toUpperCase","setBingImageLoadComplete","recent_topics","recent_replies","swipeableViewsRef","aria-hidden","format","githubUsername","score","smUp","Tabs","centered","Tab","onChangeIndex","enableMouseEvents","animateHeight","slideStyle","SwipeableViewsTab","getChildContext","swipeableViews","slideUpdateHeight","preserveAspectRatio","Signin","authRest","isUUID","diff","validateUser","noValidate","autoComplete","onSubmit","spellCheck","condition","onFocus","onBlur","goBack","unRead","summary","moreUnRead","sizeAt","sizeReply","gray","MessageCard","disptach","markMessage","has_read","hasRead","ExpansionPanel","ExpansionPanelSummary","expandIcon","noWrap","reply","ExpansionPanelDetails","Divider","ExpansionPanelActions","Link","pointerEvents","whiteSpace","Message","setItems","handleMarkAllMessage","hasnot_read_messages","has_read_messages","Tooltip","enterDelay","disableTouchListener","disableRipple","mark","Switch","checked","Slider","step","marks","markActive","flexDirection","center","h1","borderRight","p","textAlign","NotFound","Test","PrivateRoute","Component","App","Theme","basename","Suspense","fallback","exact","Topic","User","Settings","isLocalhost","hostname","registerValidSW","swUrl","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","log","onUpdate","onSuccess","catch","ReactDOM","getElementById","URL","headers","contentType","indexOf","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.17424ad3.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/houses_beautiful_beach_photo_wallpaper.b764c878.jpg\";","import validate from 'uuid-validate';\n\n/**\n * repo: https://github.com/cnodejs/nodeclub\n * file: proxy/user.js\n * line: 106\n */\nconst uuidVersion = 4;\n\nexport default (uuid) => {\n  return validate(uuid, uuidVersion);\n};\n","const devRouters = process.env.NODE_ENV === 'development' ? {\n  // markdown render test\n  devMD: {\n    path: '/test',\n    name: 'MD-TEST',\n  },\n} : {};\n\nconst routers = {\n  tab: {\n    all: {\n      path: '/',\n      name: '',\n      isTopicType: false,\n    },\n    good: {\n      path: '/?tab=good',\n      name: '',\n      isTopicType: false,\n    },\n    share: {\n      path: '/?tab=share',\n      name: '',\n      isTopicType: true,\n    },\n    ask: {\n      path: '/?tab=ask',\n      name: '',\n      isTopicType: true,\n    },\n    job: {\n      path: '/?tab=job',\n      name: '',\n      isTopicType: true,\n    },\n    dev: {\n      path: '/?tab=dev',\n      name: '',\n      isTopicType: true,\n    },\n    ...devRouters,\n  },\n  topic: {\n    path: '/topic',\n    name: '',\n  },\n  user: {\n    path: '/user',\n    name: '',\n  },\n};\n\nexport default routers;\n","import routers from '../routers';\n\nlet navTabsArray = [];\nlet navTabsObject = {};\nconst tabs = routers.tab;\n\nfor (let tab in tabs) {\n  if (typeof tabs !== 'object') {\n    continue;\n  }\n\n  navTabsArray.push({\n    ...tabs[tab],\n    tab,\n  });\n\n  navTabsObject = {\n    ...navTabsObject,\n    [tab]: tabs[tab],\n  };\n}\n\nexport { navTabsArray, navTabsObject };\n","export const navIsActive = (path, location = {}) => {\n  const { pathname, search } = location;\n  return !!path && path === `${pathname}${search}`;\n};\n","import routers from '../routers';\n\nlet topicTypes = [];\nconst tabs = routers.tab;\n\nfor (let tab in tabs) {\n  if (tabs[tab].isTopicType) {\n    topicTypes.push(tab);\n  }\n}\n\nexport { topicTypes };\n","export default (location = {}) => {\n  const { pathname, search = '' } = location;\n  const tab = search.match(/\\?tab=(\\w+)/);\n\n  return (\n    tab\n      ? tab[1]\n      : pathname === '/'\n        ? 'all'\n        : null\n  );\n};\n","import routers from '../routers';\n\nconst cnodeURL = 'cnodejs.org';\n\nconst formatArr = arr => {\n  if (arr instanceof Array) {\n    return arr.map(value => {\n      return `(${value})`;\n    }).join('|');\n  }\n};\n\nconst orgURIRexStr = (() => {\n  let _orgURIRexStr = [ '/?' ];\n\n  for (let key in routers) {\n    if (key === 'tab') {\n      _orgURIRexStr.push(`/\\\\?tab=(${formatArr(Object.keys(routers[key]))})`);\n    } else {\n      _orgURIRexStr.push(`/${key}/\\\\w+`);\n    }\n  }\n\n  return formatArr(_orgURIRexStr);\n})();\n\nconst transformOrgURL = string => {\n  const restr = `^(http(s)?://)?(www.)?${cnodeURL}(${orgURIRexStr})$`;\n  const regex = new RegExp(restr, 'i');\n\n  return string.replace(regex, ($0, $1, $2, $3, $4) => {\n    let baseURL = cnodeURL;\n\n    if (typeof window !== 'undefined') {\n      $1 = $1 && `${window.location.protocol}//`;\n      baseURL = window.location.host;\n    }\n\n    $1 = $1 || '';\n\n    return `${$1}${baseURL}${process.env.PUBLIC_URL}${$4}`;\n  });\n};\n\nexport { transformOrgURL };\nexport default orgURIRexStr;\n","import _ from 'lodash';\n\nconst isGoBack = ({ open, response = {} }) => {\n  return open || _.isEmpty(response);\n};\n\nconst getNewDataCreate = ({ action, ...props }) => {\n  if (isGoBack(props) || action !== 'create') {\n    return null;\n  }\n\n  const dtime = new Date();\n  const { uid, uname, avatar } = props;\n  const { tab, title, content } = props.request;\n  const { topic_id: id } = props.response;\n\n  return [{\n    author: {\n      loginname: uname,\n      avatar_url: avatar,\n    },\n    author_id: uid,\n    id,\n    tab,\n    title,\n    content,\n    create_at: dtime,\n    last_reply_at: dtime,\n    reply_count: 0,\n    visit_count: 0,\n    good: false,\n    top: false,\n  }];\n};\n\nconst getNewDataUpdate = ({ action, ...props }) => {\n  if (isGoBack(props) || action !== 'update') {\n    return null;\n  }\n\n  const { tab, title, content } = props.request;\n\n  return { tab, title, content };\n};\n\nconst getNewDataReply = ({ action, ...props }) => {\n  if (isGoBack(props) || action !== 'reply') {\n    return null;\n  }\n\n  const { uname, avatar } = props;\n  const { content, reply_id } = props.request;\n  const { reply_id: id } = props.response;\n  const { topic_id } = props.match.params;\n\n  return {\n    author: {\n      loginname: uname,\n      avatar_url: avatar,\n    },\n    id,\n    ups: [],\n    is_uped: false,\n    create_at: new Date(),\n    content,\n    reply_id: reply_id !== topic_id ? reply_id : null,\n  };\n};\n\nexport {\n  getNewDataCreate,\n  getNewDataUpdate,\n  getNewDataReply,\n};\n","import { validateUUID } from '../../common';\n\nconst defaultState = {\n  accesstoken: undefined,\n  avatar: undefined,\n  uname: undefined,\n  uid: undefined,\n  isAuthed: false,\n};\n\nlet initialState = JSON.parse(localStorage.getItem('AUTH'));\n\nif (initialState !== null && validateUUID(initialState.accesstoken)) {\n  initialState = {\n    ...initialState,\n    isAuthed: true,\n  };\n} else {\n  initialState = defaultState;\n}\n\nconst auth = (state = initialState, { type, data }) => {\n  switch (type) {\n    case 'UPDATE_AUTH':\n      const { isAuthed, ...other } = data;\n      localStorage.setItem('AUTH', JSON.stringify({\n        ...other,\n      }));\n      return { ...data };\n    case 'DELETE_AUTH':\n      localStorage.removeItem('AUTH');\n      return defaultState;\n    default:\n      return state;\n  }\n};\n\nexport default auth;\n","const initialState = {\n  count: 0,\n};\n\nconst message = (state = initialState, { type, data }) => {\n  switch (type) {\n    case 'READ_MESSAGE':\n      let { count } = state;\n      count = Math.max(--count, 0);\n      return { count };\n    case 'READ_ALL_MESSAGE':\n      return initialState;\n    case 'UPDATE_MESSAGE':\n      return { count: data };\n    case 'CLEAN_MESSAGE':\n      return initialState;\n    default:\n      return state;\n  }\n};\n\nexport default message;\n","const initialState = {\n  open: false,\n};\n\nconst editor = (state = initialState, { type, data }) => {\n  switch (type) {\n    case 'OPEN_EDITOR':\n      const { action, ...other } = data;\n      return {\n        open: true,\n        action: action || 'create',\n        ...other,\n      };\n    case 'CLOSE_EDITOR':\n      return {\n        ...data,\n        open: false,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default editor;\n","const initialState = {\n  url: '',\n  open: false,\n};\n\nconst share = (state = initialState, { type, data }) => {\n  switch (type) {\n    case 'OPEN_SHARE':\n      if (typeof data === 'string') {\n        data = {\n          url: data,\n          post: null,\n        };\n      }\n      return {\n        ...data,\n        open: true,\n      };\n    case 'CLOSE_SHARE':\n      return {\n        ...state,\n        open: false,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default share;\n","const initialState = {\n  open: false,\n};\n\nconst zoom = (state = initialState, { type, data }) => {\n  switch (type) {\n    case 'OPEN_ZOOM':\n      return {\n        ...data,\n        open: true,\n      };\n    case 'CLOSE_ZOOM':\n      return {\n        ...state,\n        open: false,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default zoom;\n","const initialState = {\n  message: '',\n  status: 'success',\n  open: false,\n};\n\nconst notification = (state = initialState, { type, data }) => {\n  switch (type) {\n    case 'OPEN_NOTIFICATION':\n      if (typeof data === 'string') {\n        data = {\n          message: data,\n          status: 'success',\n        };\n      }\n      return {\n        ...data,\n        open: true,\n      };\n    case 'CLOSE_NOTIFICATION':\n      return {\n        ...state,\n        open: false,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default notification;\n","const defaultState = {\n  autoFollow: true,\n  themeMode: 'light',\n  cardPreview: false,\n  time: 0,\n};\n\nlet initialState = JSON.parse(localStorage.getItem('SETTINGS')) || {};\n\nconst {\n  autoFollow = true,\n  themeMode = 'light',\n  cardPreview = false,\n  time = 0,\n} = initialState;\n\ninitialState = {\n  autoFollow,\n  themeMode,\n  cardPreview,\n  time,\n};\n\nconst settings = (state = initialState, { type, data }) => {\n  switch (type) {\n    case 'UPDATE_SETTINGS':\n      localStorage.setItem('SETTINGS', JSON.stringify({\n        ...data,\n      }));\n      return { ...data };\n    case 'RESTORE_SETTINGS':\n      localStorage.removeItem('SETTINGS');\n      return defaultState;\n    default:\n      return state;\n  }\n};\n\nexport default settings;\n","const initialState = JSON.parse(localStorage.getItem('THEME'));\n\nconst colors = (state = initialState, action) => {\n  switch (action.type) {\n    case 'UPDATE_COLORS':\n      return {\n        ...action.data,\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default colors;\n","import { combineReducers } from 'redux';\nimport auth from './auth';\nimport message from './message';\nimport editor from './editor';\nimport share from './share';\nimport zoom from './zoom';\nimport notification from './notification';\nimport settings from './settings';\nimport colors from './colors';\n\nconst rootReducer = combineReducers({\n  auth,\n  message,\n  editor,\n  share,\n  zoom,\n  notification,\n  settings,\n  colors,\n});\n\nexport default rootReducer;\n","import { applyMiddleware, createStore } from 'redux';\nimport rootReducer from './reducers';\n\nlet middlewares = [];\n\nif (process.env.NODE_ENV === 'development') {\n  const { createLogger } = require('redux-logger');\n\n  middlewares = [ ...middlewares, createLogger() ];\n}\n\nconst store = createStore(\n  rootReducer,\n  applyMiddleware(...middlewares),\n);\n\nexport default store;\n","import Prism from 'prismjs';\n\nimport 'prismjs/components/prism-bash';\nimport 'prismjs/components/prism-c';\nimport 'prismjs/components/prism-clike';\nimport 'prismjs/components/prism-cpp';\nimport 'prismjs/components/prism-css';\nimport 'prismjs/components/prism-diff';\nimport 'prismjs/components/prism-docker';\nimport 'prismjs/components/prism-erlang';\nimport 'prismjs/components/prism-git';\nimport 'prismjs/components/prism-go';\nimport 'prismjs/components/prism-java';\nimport 'prismjs/components/prism-javascript';\nimport 'prismjs/components/prism-json';\nimport 'prismjs/components/prism-jsx';\nimport 'prismjs/components/prism-lua';\nimport 'prismjs/components/prism-makefile';\nimport 'prismjs/components/prism-markdown';\nimport 'prismjs/components/prism-markup';\nimport 'prismjs/components/prism-objectivec';\n\n/**\n * https://github.com/PrismJS/prism/issues/1423\n * Cannot read property 'tokenizePlaceholders' of undefined\n */\nimport 'prismjs/components/prism-markup-templating';\nimport 'prismjs/components/prism-php';\n\nimport 'prismjs/components/prism-python';\nimport 'prismjs/components/prism-sql';\nimport 'prismjs/components/prism-swift';\nimport 'prismjs/components/prism-tsx';\nimport 'prismjs/components/prism-typescript';\nimport 'prismjs/components/prism-yaml';\n\nexport default Prism;\n\nexport { default as lightPrismTheme } from 'prismjs/themes/prism.css';\nexport { default as darkPrismTheme } from 'prismjs/themes/prism-okaidia.css';\n\n// alias => prism\nexport const alias = {\n  'h': 'c',\n  'rb': 'ruby',\n  'py': 'python',\n  'sh': 'bash',\n  'yml': 'yaml',\n  'golang': 'go',\n  'dockerfile': 'docker',\n  'tex': 'latex',\n  'bat': 'batch',\n  'ps1': 'powershell',\n  'psm1': 'powershell',\n};\n\nconst styleNode = document.querySelector('#prismjs');\n\nexport const setPrismTheme = theme => {\n  styleNode.textContent = theme;\n};\n","export const lightThemeOptions = {\n  primary: {\n    main: '#0082ea',\n    dark: '#0376d2', // :hover\n    light: '#2092ec',\n  },\n  background: {\n    default: '#f4f4f4',\n  },\n};\n\nexport const darkThemeOptions = {\n  primary: {\n    main: '#0963ab',\n    contrastText: '#ccc',\n  },\n  secondary: {\n    main: '#ab003d',\n    contrastText: '#ccc',\n  },\n  action: {\n    active: '#ccc',\n  },\n  text: {\n    primary: '#ccc',\n  },\n  background: {\n    default: '#212121',\n  },\n  divider: 'rgba(128,128,128,.12)',\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useSelector } from 'react-redux';\n\nimport { ThemeProvider as MuiThemeProvider } from '@material-ui/styles';\nimport { createMuiTheme } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\n\nimport { setPrismTheme, lightPrismTheme, darkPrismTheme } from '../Prism';\nimport { lightThemeOptions, darkThemeOptions } from './themeOptions';\n\nexport const useSystemThemeMode = () => {\n  const prefersLightMode = useMediaQuery('(prefers-color-scheme: light)');\n  return prefersLightMode ? 'light' : 'dark';\n};\n\nconst ThemeProvider = (props) => {\n  const systemThemeMode = useSystemThemeMode();\n  const { autoFollow, themeMode } = useSelector(state => state.settings);\n  const paletteType = autoFollow ? systemThemeMode : themeMode;\n\n  React.useEffect(() => {\n    setPrismTheme(paletteType === 'light' ? lightPrismTheme : darkPrismTheme);\n  }, [paletteType]);\n\n  const theme = React.useMemo(() => (createMuiTheme({\n    palette: {\n      ...(paletteType === 'light' ? lightThemeOptions : darkThemeOptions),\n      type: paletteType,\n    },\n  })), [paletteType]);\n\n  React.useEffect(() => {\n    if (process.env.NODE_ENV === 'development') {\n      window.theme = theme;\n    }\n  }, [theme]);\n\n  return (\n    <MuiThemeProvider theme={theme}>\n      {props.children}\n    </MuiThemeProvider>\n  );\n};\n\nThemeProvider.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default ThemeProvider;\n","import React from 'react';\nimport { useLocation } from 'react-router-dom';\n\nconst ScrollToTop = () => {\n  const { pathname, search } = useLocation();\n\n  React.useEffect(() => {\n    // const element = document.querySelector('#root');\n    // element.scrollIntoView({ behavior: 'smooth', block: 'start' });\n    window.scrollTo(0, 0);\n  }, [pathname, search]);\n\n  return null;\n};\n\nexport default ScrollToTop;\n","import React from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport LinearProgress from '@material-ui/core/LinearProgress';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    position: 'fixed',\n    top: 0,\n    left: 0,\n    right: 0,\n  },\n}));\n\n\nconst Loadding = () => {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <LinearProgress />\n    </div>\n  );\n};\n\nexport default Loadding;\n","export const changeTitle = title => {\n  document.title = Boolean(title) ? title : 'RCNode';\n};\n\nconst changeElementAttributes = (element, attrs) => {\n  if (element === 'html') {\n    element = document.documentElement;\n  } else if (element === 'body') {\n    element = document.body;\n  } else if (!document.body.contains(element)) {\n    return;\n  }\n\n  attrs = Object.assign({ id: null, class: null }, attrs);\n\n  Object.keys(attrs).forEach(name => {\n    const value = attrs[name];\n\n    if (Boolean(value)) {\n      element.setAttribute(name, value);\n    } else {\n      element.removeAttribute(name);\n    }\n  });\n};\n\nexport const changeHtmlAttributes = attrs => {\n  changeElementAttributes('html', attrs);\n};\n\nexport const changeBodyAttributes = attrs => {\n  changeElementAttributes('body', attrs);\n};\n","import axios from 'axios';\nimport image from '../static/images/houses_beautiful_beach_photo_wallpaper.jpg';\n\nconst bingAxios = axios.create({\n  timeout: 3300,\n});\n\nconst defaultImage = {\n  copyright: '',\n  url: image,\n};\n\n/**\n * fetch Bing Image\n * @param {string} url proxy address\n */\nexport const getBingImage = async url => {\n  url = url ||\n        process.env.NODE_ENV === 'production'\n          ? 'https://bing.fansaly.com'\n          : 'http://localhost:3003';\n\n  try {\n    const { data } = await bingAxios.get(url);\n    return data;\n  } catch (e) {\n    console.warn('Get Bing\\'s image failed.');\n    return {\n      ...defaultImage,\n      time: new Date().toISOString(),\n    };\n  }\n};\n","import axios from 'axios';\nexport { getBingImage } from './getBingImage';\n\nconst cnodeAxios = axios.create({\n  baseURL: 'https://cnodejs.org/api/v1',\n  timeout: 0,\n});\n\n/**\n * @param {string} url\n * @param {string} method\n * @param {object} params\n */\nconst fetch = async ({ url, method = 'GET', params = {} }) => {\n  params = method === 'GET' ? { params } : { data: params };\n\n  try {\n    const { data } = await cnodeAxios({ method, url, ...params });\n\n    return {\n      success: true,\n      data: method === 'GET' ? data.data : data,\n    };\n\n  } catch ({ response }) {\n    if (!Boolean(response)) {\n      return {\n        success: false,\n        err_msg: '',\n      };\n    }\n\n    const { status, data: { error_msg = '' } } = response;\n\n    return {\n      success: false,\n      err_msg: !Boolean(error_msg) && process.env.NODE_ENV === 'development'\n               ? `${status} => ${url}`\n               : error_msg,\n    };\n  }\n};\n\nexport const get = async ({ url, params }) => {\n  return await fetch({ method: 'GET', url, params });\n};\n\nexport const post = async ({ url, params }) => {\n  return await fetch({ method: 'POST', url, params });\n};\n\n","export default {\n  viewBox: '-2 -2 20 20', // 0 0 16 16\n  path: 'M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z',\n};\n"," const path = `\n  M 19 3\n  c 1.1 0 2 0.9 2 2\n  v 4\n  h -2\n  V 5\n  H 5\n  v 14\n  h 14\n  v -4\n  h 2\n  v 4\n  c 0 1.11 -0.9 2 -2 2\n  H 5\n  c -1.11 0 -2 -0.9 -2 -2\n  V 5\n  c 0 -1.1 0.89 -2 2 -2\n  Z\n\n  M 13.09 15.59\n  L 14.5 17\n  l 5 -5\n  l -5 -5\n  l -1.41 1.41\n  L 15.67 11\n  h -9.67\n  v 2\n  h 9.67\n  l -2.58 2.59\n  Z\n`.replace(/\\s{2,}/g, ' ').trim();\n\nexport default path;\n","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\nimport githubSvg from './Github';\nimport signOutSvgPath from './SignOut';\n\nconst GithubIcon = (\n  <SvgIcon viewBox={githubSvg.viewBox}>\n    <path d={githubSvg.path} />\n  </SvgIcon>\n);\n\nconst SignOutIcon = (\n  <SvgIcon>\n    <path d={signOutSvgPath} />\n  </SvgIcon>\n);\n\nexport { GithubIcon, SignOutIcon };\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => React.createElement(\"svg\", _extends({\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\"\n}, props), React.createElement(\"path\", {\n  fill: \"#4AC6C6\",\n  d: \"M12 24C5.4 24 0 18.6 0 12S5.4 0 12 0s12 5.4 12 12-5.4 12-12 12z\"\n}), React.createElement(\"path\", {\n  fill: \"#FFF\",\n  d: \"M11.9 4.5c-4.1.1-7.3 3.6-7.3 7.7v5.5c0 1 1.1 1.6 1.9 1.1.5-.3.9-.6 1.8-.6 1.9 0 1.9 1.3 3.7 1.3s1.9-1.3 3.7-1.3c.9 0 1.3.3 1.8.6.8.5 1.9-.1 1.9-1.1V12c.1-4.2-3.3-7.6-7.5-7.5z\"\n}), React.createElement(\"circle\", {\n  fill: \"#2A5083\",\n  cx: \"9.5\",\n  cy: \"10.1\",\n  r: \".6\"\n}), React.createElement(\"circle\", {\n  fill: \"#2A5083\",\n  cx: \"14.5\",\n  cy: \"10.1\",\n  r: \".6\"\n}), React.createElement(\"path\", {\n  fill: \"#2A5083\",\n  d: \"M12 15.3c1.2 0 2.3-.8 2.6-1.9.1-.5-.2-.9-.7-.9H10c-.5 0-.8.5-.7.9.4 1.1 1.5 1.9 2.7 1.9z\"\n}), React.createElement(\"path\", {\n  fill: \"#FF4E4A\",\n  d: \"M12 13.9c-.7 0-1.2.4-1.6.9.4.3 1 .5 1.6.5.6 0 1.1-.2 1.5-.5-.3-.5-.8-.9-1.5-.9z\"\n}), React.createElement(\"path\", {\n  fill: \"#DBF4F4\",\n  d: \"M6.5 18.8c.4-.3.8-.6 1.7-.6v-.6c0-2.5-1.5-4.6-3.6-5.5v5.7c-.1.9 1 1.5 1.9 1zM16.3 18.3c.6.1.9.3 1.3.6.8.5 1.9-.1 1.9-1.1v-3.5c-1.6.9-2.7 2.3-3.2 4z\"\n})));","import React from 'react';\nimport clsx from 'clsx';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { get } from '../../fetch';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Badge from '@material-ui/core/Badge';\nimport Avatar from '@material-ui/core/Avatar';\nimport IconButton from '@material-ui/core/IconButton';\n\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport Grow from '@material-ui/core/Grow';\nimport Paper from '@material-ui/core/Paper';\nimport Popper from '@material-ui/core/Popper';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport MenuList from '@material-ui/core/MenuList';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nimport PersonIcon from '@material-ui/icons/Person';\nimport NotificationsIcon from '@material-ui/icons/Notifications';\nimport SettingsIcon from '@material-ui/icons/SettingsRounded';\nimport SignInIcon from '@material-ui/icons/ExitToApp';\nimport { SignOutIcon } from '../../Components/Icons';\n\nimport AvatarSvg from '../../static/avatar.svg';\nimport './me.styl';\n\nconst useStyles = makeStyles(theme => ({\n  badge: {\n    '&:before, &:after': {\n      content: '\"\"',\n      position: 'absolute',\n      top: 0,\n      right: 0,\n      marginTop: 6,\n      marginRight: 6,\n      width: 6,\n      height: 6,\n      borderRadius: '50%',\n      opacity: 0,\n      transition: 'opacity .3s linear',\n    },\n    '&.has-message:before': {\n      opacity: 1,\n      backgroundColor: 'rgba(128, 189, 1, .85)',\n      boxShadow: '0 0 4px rgba(0, 0, 0, .15)',\n    },\n    '&.has-message:after': {\n      animation: '$ripple 1.2s infinite ease-in-out',\n      border: '1px solid #44b700',\n    },\n  },\n  '@keyframes ripple': {\n    '0%': {\n      transform: 'scale(.8)',\n      opacity: 1,\n    },\n    '100%': {\n      transform: 'scale(2.4)',\n      opacity: 0,\n    },\n  },\n  hidden: {\n    '& span': {\n      visibility: 'hidden',\n    },\n  },\n}));\n\nconst Me = () => {\n  const { isAuthed, accesstoken, uname, avatar } = useSelector(({ auth }) => auth);\n  const { time } = useSelector(({ settings }) => settings);\n  const message = useSelector(s => s.message);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const classes = useStyles();\n\n  const timerMessage = React.useRef(null);\n  const timerSignout = React.useRef(null);\n  const isCancel = React.useRef();\n  const anchorEl = React.useRef(null);\n\n  const [open, setOpen] = React.useState(false);\n\n  const handleToggle = () => {\n    setOpen(prevState => !prevState);\n  };\n\n  const handleClose = event => {\n    if (anchorEl.current.contains(event.target)) {\n      return;\n    }\n\n    setOpen(false);\n  };\n\n  const handleInfo = event => {\n    handleClose(event);\n    history.push(`/user/${uname}`);\n  };\n\n  const handleMessage = event => {\n    const messagePath = '/message';\n    const { pathname } = history.location;\n\n    handleClose(event);\n\n    if (pathname === messagePath) {\n      history.replace(messagePath);\n    } else {\n      history.push(messagePath);\n    }\n  };\n\n  const handleSettings = event => {\n    handleClose(event);\n    history.push('/settings');\n  };\n\n  const handleSignin = event => {\n    handleClose(event);\n    history.push('/signin');\n  };\n\n  const handleSignout = event => {\n    handleClose(event);\n\n    clearTimeout(timerSignout.current);\n\n    timerSignout.current = setTimeout(() => {\n      dispatch({ type: 'DELETE_AUTH' });\n      dispatch({ type: 'CLEAN_MESSAGE' });\n    }, 330);\n  };\n\n  React.useEffect(() => {\n    return () => clearTimeout(timerSignout.current);\n  }, []);\n\n  React.useEffect(() => {\n    isCancel.current = false;\n\n    clearTimeout(timerMessage.current);\n\n    const fetchUnreadCount = async () => {\n      if (!isAuthed) { return; }\n\n      const params = {\n        url: '/message/count',\n        params: { accesstoken },\n      };\n\n      const { success, data: count } = await get(params);\n\n      if (isCancel.current) {\n        return;\n      }\n\n      if (success) {\n        dispatch({ type: 'UPDATE_MESSAGE', data: count });\n      }\n\n      if (time > 0) {\n        timerMessage.current = setTimeout(() => {\n          fetchUnreadCount();\n        }, time * 1e3);\n      }\n    };\n\n    fetchUnreadCount();\n\n    return () => {\n      isCancel.current = true;\n      clearTimeout(timerMessage.current);\n    };\n  }, [isAuthed, accesstoken, dispatch, time]);\n\n  return (\n    <Grid item className=\"flex\">\n      <Grid\n        container\n        alignContent=\"center\"\n        alignItems=\"center\"\n        justify=\"center\"\n        className={isAuthed ? 'info' : 'signin'}\n      >\n        <IconButton\n          buttonRef={node => {\n            anchorEl.current = node;\n          }}\n          aria-owns={open ? 'menu-list-grow' : null}\n          aria-haspopup=\"true\"\n          onClick={handleToggle}\n          className={clsx('me', classes.badge, {\n            'has-message': Boolean(message.count),\n          })}\n        >\n          <Avatar className=\"flex avatar\">\n            {isAuthed ? (\n              <img src={avatar} alt=\"U\" />\n            ) : (\n              <AvatarSvg />\n            )}\n          </Avatar>\n        </IconButton>\n        <Popper open={open} anchorEl={anchorEl.current} transition disablePortal>\n          {({ TransitionProps, placement }) => (\n            <Grow\n              {...TransitionProps}\n              id=\"menu-list-grow\"\n              style={{ transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom' }}\n            >\n              <Paper>\n                <ClickAwayListener onClickAway={handleClose}>\n                  <MenuList>\n                    {isAuthed &&\n                      <MenuItem onClick={handleInfo}>\n                        <ListItemIcon>\n                          <PersonIcon />\n                        </ListItemIcon>\n                        <ListItemText primary=\"\" />\n                      </MenuItem>\n                    }\n                    {isAuthed &&\n                      <MenuItem onClick={handleMessage}>\n                        <ListItemIcon>\n                          <Badge\n                            badgeContent={message.count}\n                            className={clsx('badge', {\n                              [classes.hidden]: message.count <= 0,\n                            })}\n                          >\n                            <NotificationsIcon />\n                          </Badge>\n                        </ListItemIcon>\n                        <ListItemText primary=\"\" />\n                      </MenuItem>\n                    }\n                    <MenuItem onClick={handleSettings}>\n                      <ListItemIcon>\n                        <SettingsIcon />\n                      </ListItemIcon>\n                      <ListItemText primary=\"\" />\n                    </MenuItem>\n                    {isAuthed ? (\n                      <MenuItem onClick={handleSignout}>\n                        <ListItemIcon>\n                          {SignOutIcon}\n                        </ListItemIcon>\n                        <ListItemText primary=\"\" />\n                      </MenuItem>\n                    ) : (\n                      <MenuItem onClick={handleSignin}>\n                        <ListItemIcon>\n                          <SignInIcon />\n                        </ListItemIcon>\n                        <ListItemText primary=\"\" />\n                      </MenuItem>\n                    )}\n                  </MenuList>\n                </ClickAwayListener>\n              </Paper>\n            </Grow>\n          )}\n        </Popper>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default Me;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => React.createElement(\"svg\", _extends({\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 427.3 100.4\"\n}, props), React.createElement(\"path\", {\n  id: \"cell-n\",\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  fill: \"#46483E\",\n  d: \"M127.987 52.994c0-1.084-.57-2.08-1.506-2.617l-24.937-14.352a2.934 2.934 0 00-1.373-.396h-.258a2.973 2.973 0 00-1.377.396L73.598 50.377a3.023 3.023 0 00-1.508 2.617l.055 38.644c0 .538.279 1.038.752 1.301a1.446 1.446 0 001.496 0l14.821-8.485a3.036 3.036 0 001.507-2.613V63.784a3 3 0 011.504-2.606l6.311-3.636a3 3 0 013.008 0l6.308 3.636a3 3 0 011.506 2.606V81.84c0 1.074.578 2.062 1.51 2.613l14.816 8.485a1.464 1.464 0 001.506 0c.459-.263.748-.763.748-1.301l.049-38.643z\"\n}), React.createElement(\"path\", {\n  id: \"cell-d\",\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  fill: \"#46483E\",\n  d: \"M261.147-.129a1.508 1.508 0 00-2.241 1.315v38.271c0 .376-.201.724-.525.913a1.06 1.06 0 01-1.056 0l-6.246-3.599a3.013 3.013 0 00-3.01.001L223.122 51.17a3.007 3.007 0 00-1.506 2.607v28.801c0 1.076.573 2.07 1.505 2.609l24.946 14.408a3.011 3.011 0 003.014 0l24.95-14.408a3.012 3.012 0 001.506-2.609V10.786a3.013 3.013 0 00-1.545-2.631L261.147-.129zm-2.314 73.244c0 .27-.145.519-.378.651l-8.564 4.938a.749.749 0 01-.752 0l-8.566-4.938a.752.752 0 01-.377-.651v-9.891c0-.269.145-.517.376-.651l8.566-4.947a.752.752 0 01.754 0l8.564 4.947a.756.756 0 01.377.651v9.891z\"\n}), React.createElement(\"path\", {\n  id: \"cell-e\",\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  fill: \"#46483E\",\n  d: \"M350.4 62.966a3.011 3.011 0 001.499-2.604v-6.979a3.012 3.012 0 00-1.5-2.605l-24.787-14.392a3.015 3.015 0 00-3.02-.004l-24.938 14.397a3.012 3.012 0 00-1.506 2.609v28.793c0 1.083.58 2.081 1.521 2.616l24.783 14.122a3.015 3.015 0 002.954.018l14.989-8.332c.477-.266.772-.765.774-1.308a1.503 1.503 0 00-.755-1.315L315.32 73.576a1.503 1.503 0 01-.758-1.306v-9.024c0-.538.287-1.036.755-1.304l7.811-4.504a1.505 1.505 0 011.503 0l7.815 4.504c.467.268.754.766.754 1.304v7.101a1.507 1.507 0 002.263 1.303l14.937-8.684z\"\n}), React.createElement(\"path\", {\n  id: \"cell-o\",\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  fill: \"#80bd01\",\n  d: \"M173.35 36.23a3.012 3.012 0 013.012 0l24.943 14.395a3.008 3.008 0 011.508 2.609v28.811a3.014 3.014 0 01-1.506 2.61L176.363 99.06a3.016 3.016 0 01-3.014 0l-24.938-14.405a3.014 3.014 0 01-1.506-2.61V53.233c0-1.076.574-2.071 1.507-2.608L173.35 36.23z\"\n}), React.createElement(\"path\", {\n  id: \"cell-j\",\n  fill: \"#80bd01\",\n  d: \"M398.833 99.472a4.941 4.941 0 01-2.468-.66l-7.853-4.646c-1.172-.656-.601-.888-.213-1.023 1.563-.543 1.881-.668 3.551-1.614.173-.099.404-.062.584.045l6.033 3.582a.775.775 0 00.728 0l23.522-13.577a.739.739 0 00.358-.636V53.796a.757.757 0 00-.364-.647l-23.513-13.565a.736.736 0 00-.724 0L374.97 53.152a.754.754 0 00-.373.644v27.146c0 .26.144.506.371.629l6.442 3.722c3.496 1.748 5.638-.31 5.638-2.379v-26.8c0-.379.305-.678.683-.678h2.983a.68.68 0 01.682.678v26.8c0 4.666-2.541 7.342-6.965 7.342-1.36 0-2.43 0-5.418-1.472l-6.168-3.551a4.97 4.97 0 01-2.467-4.291V53.796c0-1.763.942-3.41 2.467-4.287l23.521-13.592c1.489-.841 3.468-.841 4.944 0l23.519 13.592a4.967 4.967 0 012.472 4.287v27.146a4.979 4.979 0 01-2.472 4.291L401.31 98.812a4.944 4.944 0 01-2.477.66\"\n}), React.createElement(\"path\", {\n  id: \"cell-s\",\n  fill: \"#80bd01\",\n  d: \"M406.099 80.771c-10.294 0-12.449-4.725-12.449-8.687 0-.377.303-.678.68-.678h3.041a.68.68 0 01.675.575c.459 3.097 1.828 4.658 8.054 4.658 4.954 0 7.064-1.121 7.064-3.75 0-1.515-.598-2.64-8.299-3.394-6.437-.638-10.416-2.06-10.416-7.208 0-4.745 4-7.576 10.707-7.576 7.535 0 11.263 2.615 11.736 8.227a.688.688 0 01-.181.523.692.692 0 01-.498.217h-3.052a.679.679 0 01-.661-.531c-.731-3.258-2.513-4.299-7.345-4.299-5.41 0-6.039 1.885-6.039 3.297 0 1.711.742 2.209 8.047 3.176 7.229.955 10.662 2.309 10.662 7.39 0 5.125-4.274 8.06-11.726 8.06\"\n}), React.createElement(\"path\", {\n  id: \"cell-.\",\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  fill: \"#80bd01\",\n  d: \"M323.735 61.618a.573.573 0 01.577 0l4.787 2.762c.18.103.289.294.289.5v5.527a.577.577 0 01-.289.501l-4.787 2.763a.577.577 0 01-.577 0l-4.783-2.763a.577.577 0 01-.289-.501V64.88c0-.206.109-.397.289-.5l4.783-2.762z\"\n}), React.createElement(\"path\", {\n  id: \"cell-c\",\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  fill: \"#46483E\",\n  d: \"M36.28 61.87c1.098.65 1.358.255 1.742.035.385-.221 14.695-8.411 15.606-8.857.912-.446 1.315-1.915.114-2.61-1.201-.697-25.41-14.721-24.241-14.12 1.259.646-1.202-.829-2.626-.175-1.425.654-23.231 13.192-24.777 14.075-1.545.883-2.032 1.731-2.027 2.907.004 1.176-.078 27.253 0 28.801.078 1.548.69 2.052 1.506 2.609.816.558 22.901 13.505 24.572 14.41 1.671.907 2.768.597 3.853-.04 1.085-.639 22.727-13.003 23.593-13.554.866-.551 1.653-1.969-.157-2.992-1.811-1.022-14.779-8.693-15.279-8.943s-.796-.255-1.52.151c-.724.408-7.222 4.062-8.013 4.524s-.904.254-1.283.033c-.378-.222-7.085-4.135-7.859-4.571s-.866-.656-.868-1.25c-.001-.593-.018-8.121.023-8.998.04-.877.165-1.074.962-1.548.797-.474 6.695-3.978 7.166-4.293.47-.315 1.459-.345 2.231.108.772.452 6.184 3.647 7.282 4.298\"\n})));","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\n\nimport { useTheme, makeStyles } from '@material-ui/core/styles';\nimport CNodeLogo from '../../static/cnodejs/cnodejs.svg';\n\nlet pathsID = '& ';\npathsID += [\n  '#cell-c',\n  '#cell-n',\n  '#cell-d',\n  '#cell-e',\n].join(',& ');\n\nconst useStyles = makeStyles({\n  light: {\n    [pathsID]: { fill: '#fff' },\n  },\n  lightVariant: {\n    [pathsID]: { fill: '#ccc' },\n  },\n});\n\nconst Logo = (props) => {\n  const theme = useTheme();\n  const classes = useStyles();\n  const { className, reverse, color } = props;\n\n  const isLight =\n    Boolean(color)\n    ? color === 'light'\n    : Boolean(reverse)\n      ? theme.palette.type !== 'light'\n      : theme.palette.type === 'light';\n\n  const style = isLight && (\n    theme.palette.type === 'light'\n    ? classes.light\n    : classes.lightVariant\n  );\n\n  return <CNodeLogo className={clsx(style, className)} />;\n};\n\nLogo.propTypes = {\n  className: PropTypes.string,\n  reverse: PropTypes.bool,\n  color: PropTypes.oneOf(['light', 'dark']),\n};\n\nexport default Logo;\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport {\n  navTabsArray as navTabs,\n  navIsActive,\n} from '../../common';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\n\nimport './normal-nav.styl';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    '& .type': {\n      color: `${theme.palette.type === 'light' ? '#fff' : '#ccc'} !important`,\n    },\n  },\n}));\n\nconst NormalNav = () => {\n  const classes = useStyles();\n\n  const isActive = path => (match, location) => {\n    return navIsActive(path, location);\n  };\n\n  return (\n    <Grid\n      container\n      justify=\"center\"\n      alignItems=\"center\"\n      className=\"type-content\"\n    >\n      {navTabs.map(({ path, name }) => (\n        <NavLink\n          to={path}\n          key={path}\n          activeClassName={`${classes.root} current`}\n          isActive={isActive(path)}\n        >\n          <Button\n            className=\"type\"\n            disableFocusRipple\n          >\n            {name}\n          </Button>\n        </NavLink>\n      ))}\n    </Grid>\n  );\n};\n\nexport default NormalNav;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport NotesIcon from '@material-ui/icons/Notes';\nimport TopIcon from '@material-ui/icons/Publish';\nimport GoodIcon from '@material-ui/icons/ThumbUp';\nimport QAIcon from '@material-ui/icons/Chat';\nimport ShareIcon from '@material-ui/icons/Share';\nimport JobIcon from '@material-ui/icons/Work';\nimport DevIcon from '@material-ui/icons/Build';\nimport UnknownIcon from '@material-ui/icons/HelpOutline';\n\nconst TopicTypeIcon = (props) => {\n  const {\n    all,\n    good,\n    top,\n    tab,\n    ...rest\n  } = props;\n\n  let typeIcon = <UnknownIcon {...rest} />;\n\n  if (all) {\n    typeIcon = <NotesIcon {...rest} />;\n  } else if (top) {\n    typeIcon = <TopIcon {...rest} />;\n  } else if (good) {\n    typeIcon = <GoodIcon {...rest} />;\n  } else {\n    switch (tab) {\n      case 'ask':\n        typeIcon = <QAIcon {...rest} />;\n        break;\n      case 'share':\n        typeIcon = <ShareIcon {...rest} />;\n        break;\n      case 'job':\n        typeIcon = <JobIcon {...rest} />;\n        break;\n      case 'dev':\n        typeIcon = <DevIcon {...rest} />;\n        break;\n      default:\n        break;\n    }\n  }\n\n  return typeIcon;\n};\n\nTopicTypeIcon.propTypes = {\n  tab: PropTypes.string,\n  all: PropTypes.bool,\n  top: PropTypes.bool,\n  good: PropTypes.bool,\n};\n\nexport default TopicTypeIcon;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport {\n  navTabsArray as navTabs,\n  navIsActive,\n} from '../../common';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport SwipeableDrawer from '@material-ui/core/SwipeableDrawer';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nimport TopicTypeIcon from '../../Components/TopicTypeIcon';\nimport Logo from '../../Components/Logo';\n\nconst useStyles = makeStyles(theme => ({\n  drawerPaper: {\n    width: 214,\n    backgroundColor: theme.palette.type === 'light' ? 'rgba(255,255,255,.96)' : 'rgba(66,66,66,.98)',\n  },\n  toolbar: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    ...theme.mixins.toolbar,\n  },\n  logo: {\n    paddingLeft: 16,\n    [theme.breakpoints.up('sm')]: {\n      paddingLeft: 24,\n    },\n    '& svg': {\n      height: 32,\n      marginBottom: 2,\n    },\n  },\n  spacing: {\n    marginRight: 6,\n  },\n}));\n\nconst DrawerNav = (props) => {\n  const classes = useStyles();\n  const history = useHistory();\n  const location = useLocation();\n\n  const isActive = path => {\n    return navIsActive(path, location);\n  };\n\n  const handleClose = () => {\n    props.onClose();\n  };\n\n  const handleClick = path => {\n    history.push(path);\n    handleClose();\n  };\n\n  return (\n    <SwipeableDrawer\n      open={props.open}\n      variant=\"temporary\"\n      onClose={handleClose}\n      onOpen={()=>{}}\n      classes={{\n        paper: classes.drawerPaper,\n      }}\n      ModalProps={{\n        keepMounted: true,\n      }}\n    >\n      <div className={`${classes.toolbar} ${classes.logo}`}>\n        <Logo reverse />\n      </div>\n\n      <List>\n        {navTabs.map(({ tab, path, name }) => (\n          <ListItem\n            button\n            key={tab}\n            component=\"a\"\n            selected={isActive(path)}\n            onClick={event => handleClick(path)}\n          >\n            <ListItemIcon className={classes.spacing}>\n              <TopicTypeIcon\n                color=\"inherit\"\n                all={tab === 'all'}\n                good={tab === 'good'}\n                tab={tab}\n              />\n            </ListItemIcon>\n            <ListItemText primary={name} />\n          </ListItem>\n        ))}\n      </List>\n    </SwipeableDrawer>\n  );\n};\n\nDrawerNav.propTypes = {\n  open: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n};\n\nexport default DrawerNav;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { useLocation, Link } from 'react-router-dom';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport withWidth, { isWidthUp } from '@material-ui/core/withWidth';\n\nimport Hidden from '@material-ui/core/Hidden';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\n\nimport Me from '../../Components/Me';\nimport Logo from '../../Components/Logo';\nimport NormalNav from '../Nav/NormalNav';\nimport DrawerNav from '../Nav/DrawerNav';\n\nimport { animateScroll } from 'react-scroll';\nimport './header.styl';\n\nconst useStyles = makeStyles(theme => ({\n  header: theme.palette.type === 'light' ? {\n    backgroundColor: '#2196f3',\n    backgroundImage: 'linear-gradient(150deg, #21d6f3, #2196f3 28%, #ff7ed7 110%)',\n    '@media (max-width: 960px)': {\n      backgroundImage: 'linear-gradient(150deg, #21d6f3, #2196f3 32%, #ff7ed7 106%)',\n    },\n    '@media (max-width: 768px)': {\n      backgroundImage: 'linear-gradient(150deg, #21d6f3, #2196f3 34%, #ff7ed7 104%)',\n    },\n    '@media (max-width: 500px)': {\n      backgroundImage: 'linear-gradient(150deg, #21d6f3, #2196f3 36%, #ff7ed7 102%)',\n    },\n  } : {\n    backgroundColor: '#363636',\n  },\n  toolbar: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    ...theme.mixins.toolbar,\n  },\n  navPlaceholder: {\n    height: 48,\n    '@media (max-width: 768px)': {\n      height: 38,\n    },\n  },\n  navHidden: {\n    height: 0,\n  },\n}));\n\nconst Header = (props) => {\n  const { width } = props;\n  const classes = useStyles();\n  const location = useLocation();\n\n  const [state, setState] = React.useState({\n    isMobile: false,\n    navHidden: false,\n    drawerOpen: false,\n  });\n\n  const handleScrollToTop = event => {\n    if (event.target === event.currentTarget) {\n      animateScroll.scrollTo(0, {\n        duration: 500,\n        smooth: 'easeInOutQuart',\n      });\n    }\n  };\n\n  const handleToggleNav = () => {\n    let { navHidden, drawerOpen } = state;\n\n    if (isWidthUp('md', width)) {\n      navHidden = !navHidden;\n      drawerOpen = false;\n    } else {\n      drawerOpen = !drawerOpen;\n    }\n\n    setState(prevState => ({ ...prevState, navHidden, drawerOpen }));\n  };\n\n  React.useEffect(() => {\n    const { pathname } = location;\n    const navHidden = pathname !== '/';\n\n    setState(prevState => ({ ...prevState, navHidden }));\n  }, [location]);\n\n  return (\n    <React.Fragment>\n      <div className={classes.toolbar} />\n      <div className={clsx(classes.navPlaceholder, {\n        [classes.navHidden]: !isWidthUp('md', width) || state.navHidden || state.drawerOpen,\n      })} />\n      <AppBar id=\"header\" className={classes.header} position=\"fixed\">\n        <Toolbar onClick={handleScrollToTop}>\n          <IconButton\n            color=\"inherit\"\n            onClick={handleToggleNav}\n          >\n            <MenuIcon />\n          </IconButton>\n          <div id=\"logo\">\n            <Hidden xsDown>\n              <Link to=\"/\">\n                <Logo className=\"logo\" color=\"light\" />\n              </Link>\n            </Hidden>\n          </div>\n\n          <Me />\n        </Toolbar>\n        <Hidden smDown implementation=\"css\">\n          {!state.navHidden && <NormalNav />}\n        </Hidden>\n      </AppBar>\n\n      <Hidden mdUp>\n        <DrawerNav\n          open={state.drawerOpen}\n          onClose={handleToggleNav}\n        />\n      </Hidden>\n    </React.Fragment>\n  );\n};\n\nHeader.propTypes = {\n  width: PropTypes.string.isRequired,\n};\n\nexport default withWidth()(Header);\n","import React from 'react';\n\nimport Button from '@material-ui/core/Button';\nimport Snackbar from '@material-ui/core/Snackbar';\n\nfunction sleep(delay = 0) {\n  return new Promise(resolve => {\n    setTimeout(resolve, delay);\n  });\n}\n\nfunction getLastSeenNotice() {\n  const seen = localStorage.getItem('lastSeenNotice');\n  return !Boolean(seen) ? 0 : parseInt(seen, 10);\n}\n\nlet messages = null;\n\nasync function getMessages() {\n  try {\n    if (!messages) {\n      await sleep(1500); // Soften the pressure on the main thread.\n      const result = await fetch(\n        'https://raw.githubusercontent.com/Fansaly/RCNode/master/messages.json',\n      );\n      messages = await result.json();\n    }\n  } catch (err) {\n    // Swallow the exceptions.\n  }\n\n  messages = messages || [];\n}\n\nconst Notice = () => {\n  const [open, setOpen] = React.useState(false);\n  const [message, setMessage] = React.useState({});\n\n  const handleMessage = () => {\n    const lastSeen = getLastSeenNotice();\n    const unseenMessages = messages.filter(msg => msg.id > lastSeen);\n\n    if (unseenMessages.length > 0) {\n      setMessage(unseenMessages[0]);\n      setOpen(true);\n    }\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n    localStorage.setItem('lastSeenNotice', message.id);\n  };\n\n  React.useEffect(() => {\n    let mounted = true;\n\n    // Prevent search engines from indexing the notification.\n    if (/glebot/.test(navigator.userAgent)) {\n      return;\n    }\n\n    (async () => {\n      await getMessages();\n      if (mounted) {\n        handleMessage();\n      }\n    })();\n\n    return () => mounted = false;\n  }, []);\n\n  return (\n    <Snackbar\n      key={message.id}\n      anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n      ContentProps={{ 'aria-describedby': 'notification-message' }}\n      message={\n        <span\n          id=\"notification-message\"\n          // eslint-disable-next-line react/no-danger\n          dangerouslySetInnerHTML={{ __html: message.text }}\n        />\n      }\n      action={\n        <Button size=\"small\" color=\"secondary\" onClick={handleClose}>\n          \n        </Button>\n      }\n      open={open}\n      autoHideDuration={20e3}\n      onClose={handleClose}\n      onExited={handleMessage}\n    />\n  );\n};\n\nexport default Notice;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport CssBaseline from '@material-ui/core/CssBaseline';\n\nimport {\n  changeTitle,\n  changeHtmlAttributes,\n  changeBodyAttributes,\n} from './Helper';\nimport Header from './Header';\nimport Notice from './Notice';\nimport './app.styl';\n\nconst initialOptions = {\n  title: 'RCNode',\n  htmlAttributes: null,\n  bodyAttributes: null,\n  withHeader: true,\n};\n\nconst AppFrameContext = React.createContext(null);\n\nconst AppFrame = (props) => {\n  const [options, dispatch] = React.useReducer((state, { type, payload }) => {\n    switch (type) {\n      case 'CHANGE':\n        return {\n          ...state,\n          title: payload.title || state.title,\n          htmlAttributes: payload.htmlAttributes,\n          bodyAttributes: payload.bodyAttributes,\n          withHeader: payload.withHeader,\n        };\n      case 'RESET':\n        return {\n          ...initialOptions,\n        };\n      default:\n        throw new Error(`Unrecognized type ${type}`);\n    }\n  }, initialOptions);\n\n  const { title, htmlAttributes, bodyAttributes, withHeader } = options;\n\n  React.useEffect(() => {\n    changeTitle(title);\n  }, [title]);\n\n  React.useEffect(() => {\n    changeHtmlAttributes(htmlAttributes);\n  }, [htmlAttributes]);\n\n  React.useEffect(() => {\n    changeBodyAttributes(bodyAttributes);\n  }, [bodyAttributes]);\n\n  return (\n    <AppFrameContext.Provider value={dispatch}>\n      <CssBaseline />\n\n      {withHeader && (\n        <React.Fragment>\n          <Header />\n          <Notice />\n        </React.Fragment>\n      )}\n\n      {props.children}\n    </AppFrameContext.Provider>\n  );\n};\n\nAppFrame.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default AppFrame;\n\nexport const useChangeApp = () => {\n  const dispatch = React.useContext(AppFrameContext);\n\n  return React.useCallback(options => {\n    const type = options.reset ? 'RESET' : 'CHANGE';\n    dispatch({ type, payload: options });\n  }, [dispatch]);\n};\n","import PropTypes from 'prop-types';\n\nimport { useChangeApp } from './AppFrame';\n\nconst AppWrapper = (props) => {\n  const changeApp = useChangeApp();\n  const {\n    title,\n    htmlAttributes,\n    bodyAttributes,\n    withHeader = true,\n    reset = false,\n  } = props;\n\n  changeApp({\n    title,\n    htmlAttributes,\n    bodyAttributes,\n    withHeader,\n    reset,\n  });\n\n  return props.children;\n};\n\nAppWrapper.propTypes = {\n  children: PropTypes.node.isRequired,\n  title: PropTypes.string,\n  htmlAttributes: PropTypes.object,\n  bodyAttributes: PropTypes.object,\n  withHeader: PropTypes.bool,\n  reset: PropTypes.bool,\n};\n\nexport default AppWrapper;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Avatar from '@material-ui/core/Avatar';\n\nconst useStyles = makeStyles(theme => ({\n  avatar: {\n    '& a': {\n      display: 'flex',\n    },\n    '& img': {\n      display: 'inline-flex',\n      width: '100%',\n      height: '100%',\n      objectFit: 'contain',\n      color: 'rgba(255, 255, 255, 0.9)',\n      fontSize: 12,\n      lineHeight: 0,\n      textIndent: 20,\n    },\n  },\n}));\n\nconst CustomAvatar = (props) => {\n  const classes = useStyles();\n  const {\n    className,\n    name,\n    image,\n    url,\n  } = props;\n\n  return (\n    <Avatar\n      aria-label=\"Recipe\"\n      className={clsx(\n        classes.avatar,\n        className,\n      )}\n    >\n      {url ? (\n        <Link to={name ? url : '/'}>\n          {image &&\n            <img src={image} alt={name || ''} />\n          }\n        </Link>\n      ) : (\n        <a>\n          {image &&\n            <img src={image} alt={name || ''} />\n          }\n        </a>\n      )}\n    </Avatar>\n  );\n};\n\nCustomAvatar.propTypes = {\n  className: PropTypes.string,\n};\n\nexport default CustomAvatar;\n","import Moment from 'react-moment';\nimport 'moment/locale/zh-cn';\n\nMoment.globalLocale = 'zh-cn';\n\nexport default Moment;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { useSelector } from 'react-redux';\nimport { useHistory, Link } from 'react-router-dom';\nimport {\n  randomNumber,\n  removeHtmlTags,\n} from '../../common';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport withWidth, { isWidthUp } from '@material-ui/core/withWidth';\n\nimport Grid from '@material-ui/core/Grid';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardActions from '@material-ui/core/CardActions';\nimport Typography from '@material-ui/core/Typography';\nimport Collapse from '@material-ui/core/Collapse';\nimport Button from '@material-ui/core/Button';\n\nimport IconButton from '@material-ui/core/IconButton';\nimport CreateIcon from '@material-ui/icons/Create';\nimport ViewIcon from '@material-ui/icons/Visibility';\nimport ReplyIcon from '@material-ui/icons/Comment';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nimport TopicTypeIcon from '../../Components/TopicTypeIcon';\nimport Avatar from '../../Components/Avatar';\nimport Moment from '../../Components/Moment';\nimport './topicard.styl';\n\nconst useStyles = makeStyles(theme => ({\n  button: {\n    display: 'flex',\n    padding: 0,\n    fontWeight: 'inherit',\n    fontFamily: 'inherit',\n    lineHeight: 'inherit',\n    letterSpacing: 'inherit',\n    textTransform: 'inherit',\n  },\n  expand: {\n    margin: 0,\n    transform: 'rotate(0deg)',\n    transition: theme.transitions.create('transform', {\n      duration: theme.transitions.duration.shortest,\n    }),\n  },\n  expandOpen: {\n    transform: 'rotate(180deg)',\n  },\n  title: {\n    '& h5': {\n      color: theme.palette.type === 'light' ? 'rgba(0,0,0,.92)' : 'rgba(200,200,200,.95)',\n    },\n  },\n  state: {\n    color: theme.palette.type === 'light' ? 'rgba(0,0,0,.5)' : 'rgba(125,125,125,.5)',\n    '& button': {\n      color: theme.palette.type === 'light' ? 'rgba(0,0,0,.4)' : 'rgba(125,125,125,.4)',\n    },\n  },\n}));\n\nconst TopiCard = (props) => {\n  const {\n    item,\n    simple = false,\n    className,\n    width,\n  } = props;\n\n  const classes = useStyles();\n  const history = useHistory();\n  const { cardPreview } = useSelector(state => state.settings);\n  const [expanded, setExpanded] = React.useState(cardPreview);\n\n  let targetRefs = [];\n\n  const collectTrgetRefs = ref => {\n    if (ref !== null) {\n      targetRefs = [...targetRefs, ref];\n    }\n  };\n\n  const substrContent = content => {\n    const len = randomNumber({ min: 200, max: 400 });\n    return removeHtmlTags(content).substr(0, len);\n  };\n\n  const handleExpandClick = () => {\n    setExpanded(prevState => !prevState);\n  };\n\n  const handleClick = event => {\n    if (targetRefs.includes(event.target)) {\n      history.push(`/topic/${item.id}`);\n    }\n  };\n\n  return (\n    <Card className={clsx('topicard', className, {\n      'expanded': !simple && expanded,\n    })}>\n      <Button\n        component=\"div\"\n        className={classes.button}\n        onClick={handleClick}\n        disableFocusRipple\n      >\n        <Grid\n          container\n          alignItems=\"center\"\n          className=\"topicard-header-wrapper\"\n        >\n          <Grid\n            container\n            alignItems=\"center\"\n            justify=\"flex-start\"\n            className=\"topicard-header\"\n            ref={ref => collectTrgetRefs(ref)}\n          >\n            <Avatar\n              className=\"avatar\"\n              name={item.author.loginname}\n              image={item.author.avatar_url}\n              url={`/user/${item.author.loginname}`}\n            />\n            <Grid\n              container\n              alignItems=\"center\"\n              justify=\"flex-start\"\n              className=\"topicard-title\"\n            >\n              <Grid item className={clsx('title', classes.title)}>\n                {!simple &&\n                  <Grid item className=\"type\">\n                    <IconButton>\n                      <TopicTypeIcon\n                        tab={item.tab}\n                        good={item.good}\n                        top={item.top}\n                      />\n                    </IconButton>\n                  </Grid>\n                }\n                <Typography variant=\"h5\" ref={ref => collectTrgetRefs(ref)}>\n                  <Link to={`/topic/${item.id}`}>{item.title}</Link>\n                </Typography>\n                {!simple &&\n                  <CardActions className=\"action\">\n                    <IconButton\n                      className={clsx(classes.expand, {\n                        [classes.expandOpen]: expanded,\n                      })}\n                      onClick={handleExpandClick}\n                      aria-expanded={expanded}\n                      aria-label=\"Show more\"\n                    >\n                      <ExpandMoreIcon />\n                    </IconButton>\n                  </CardActions>\n                }\n              </Grid>\n            </Grid>\n          </Grid>\n          <Grid container wrap=\"nowrap\" alignItems=\"center\" className=\"state-wrapper\"\n            ref={ref => collectTrgetRefs(ref)}\n          >\n            <Grid container wrap=\"nowrap\" alignItems=\"center\" className={clsx('state', classes.state)}\n              ref={ref => collectTrgetRefs(ref)}\n            >\n              <Grid container item zeroMinWidth wrap=\"nowrap\" alignItems=\"center\"\n                ref={ref => collectTrgetRefs(ref)}\n              >\n                <Grid item zeroMinWidth className=\"author\">\n                  <Link to={`/user/${item.author.loginname}`}>\n                    {item.author.loginname}\n                  </Link>\n                </Grid>\n                {!simple &&\n                  <Grid item className=\"create\">\n                    <IconButton><CreateIcon /></IconButton>\n                    <Moment fromNow>{item.create_at}</Moment>\n                  </Grid>\n                }\n              </Grid>\n              <Grid item className=\"count\">\n                <Grid item className=\"reply\">\n                  <IconButton><ReplyIcon /></IconButton>\n                  {!simple ? (\n                    <span>{item.reply_count}</span>\n                  ) : (\n                    <Moment fromNow>{item.last_reply_at}</Moment>\n                  )}\n                </Grid>\n                {!simple &&\n                  <Grid item className=\"visit\">\n                    <IconButton><ViewIcon /></IconButton>\n                    <span>{item.visit_count}</span>\n                  </Grid>\n                }\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Button>\n      {!simple &&\n        <Collapse\n          className=\"collapse\"\n          in={expanded}\n          timeout=\"auto\"\n          unmountOnExit={isWidthUp('sm', width)}\n        >\n          <CardContent className=\"context\">\n            <Typography>\n              {substrContent(item.content)}\n            </Typography>\n          </CardContent>\n        </Collapse>\n      }\n    </Card>\n  );\n};\n\nTopiCard.propTypes = {\n  item: PropTypes.object.isRequired,\n  simple: PropTypes.bool,\n  className: PropTypes.string,\n  width: PropTypes.string.isRequired,\n};\n\nexport default withWidth()(TopiCard);\n","export default (str) => {\n  return str.replace(/<[^>]+>/g, '');\n};\n","export const randomNumber = ({ min = 0, max = 1 }) => {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport TopiCard from '../TopiCard';\n\nconst useStyles = makeStyles(theme => ({\n  margin: {\n    marginTop: 20,\n    '&:first-child': {\n      marginTop: 0,\n    },\n    '@media (max-width: 768px)': {\n      marginTop: 16,\n    },\n  },\n}));\n\nconst TopiCards = ({ items, simple = false, className, classes = {}, ...rest }) => {\n  const styles = useStyles();\n\n  return (\n    <div className={clsx(styles.margin, className, classes.root)} {...rest}>\n      {items.map(item => (\n        <TopiCard className={clsx(classes.card)} simple={simple} item={item} key={item.id} />\n      ))}\n    </div>\n  );\n};\n\nTopiCards.propTypes = {\n  className: PropTypes.string,\n  classes: PropTypes.object,\n  simple: PropTypes.bool,\n  items: PropTypes.array.isRequired,\n};\n\nexport default TopiCards;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\n\nimport Grid from '@material-ui/core/Grid';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { CSSTransition } from 'react-transition-group';\n\nimport './progress.styl';\n\nconst Progress = (props) => {\n  const { className, status, unmountOnExit = true } = props;\n\n  const handleExited = () => {\n    const { onExited } = props;\n    Boolean(onExited) && onExited();\n  };\n\n  return (\n    <Grid item id=\"progress\" className={clsx(className)}>\n      <CSSTransition\n        className=\"progress loading\"\n        classNames=\"progress\"\n        in={status === 'loading'}\n        timeout={{ enter: 100, exit: 550 }}\n        onExited={handleExited}\n        unmountOnExit={unmountOnExit}\n      >\n        <CircularProgress classes={{ svg: 'loop-color' }} />\n      </CSSTransition>\n    </Grid>\n  );\n};\n\nProgress.propTypes = {\n  status: PropTypes.oneOf(['idle', 'loading', 'success', 'error']).isRequired,\n  onExited: PropTypes.func,\n  unmountOnExit: PropTypes.bool,\n};\n\nexport default Progress;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useParams } from 'react-router-dom';\nimport { post } from '../../fetch';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport withWidth, { isWidthUp } from '@material-ui/core/withWidth';\n\nimport Fab from '@material-ui/core/Fab';\nimport Zoom from '@material-ui/core/Zoom';\nimport AppBar from '@material-ui/core/AppBar';\nimport EditIcon from '@material-ui/icons/Edit';\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport ReplyIcon from '@material-ui/icons/ModeComment';\nimport ShareIcon from '@material-ui/icons/Share';\n\nimport SpeedDial from '@material-ui/lab/SpeedDial';\nimport SpeedDialIcon from '@material-ui/lab/SpeedDialIcon';\nimport SpeedDialAction from '@material-ui/lab/SpeedDialAction';\n\nconst useStyles = makeStyles(theme => ({\n  appbar: {\n    top: 'auto',\n    bottom: 0,\n    boxShadow: 'none',\n  },\n  wrapper: {\n    position: 'relative',\n  },\n  action: {\n    position: 'absolute',\n    right: theme.spacing(3.5),\n    bottom: theme.spacing(4),\n  },\n  fabMoveUp: {\n    transform: 'translate3d(0, -56px, 0)',\n    transition: theme.transitions.create('transform', {\n      duration: theme.transitions.duration.enteringScreen,\n      easing: theme.transitions.easing.easeOut,\n    }),\n  },\n  fabMoveDown: {\n    transform: 'translate3d(0, 0, 0)',\n    transition: theme.transitions.create('transform', {\n      duration: theme.transitions.duration.leavingScreen,\n      easing: theme.transitions.easing.sharp,\n    }),\n  },\n}));\n\nconst ActionDial = (props) => {\n  const {\n    width,\n    single = false,\n    topic = null,\n  } = props;\n\n  const {\n    isAuthed,\n    accesstoken,\n    uname: signedUname,\n  } = useSelector(({ auth }) => auth);\n\n  const visible = useSelector(({ editor }) => !editor.open);\n  const notificationIsOpen = useSelector(({ notification }) => notification.open);\n  const dispatch = useDispatch();\n  const classes = useStyles();\n  const { topic_id } = useParams();\n  const isCancel = React.useRef(false);\n\n  const [state, setState] = React.useState({\n    favorite: undefined,\n    expanded: false,\n    shareURL: null,\n  });\n\n  const handleOpen = () => {\n    if (!visible) {\n      return;\n    }\n\n    setState(prevState => ({\n      ...prevState,\n      expanded: true,\n    }));\n  };\n\n  const handleClose = () => {\n    setState(prevState => ({\n      ...prevState,\n      expanded: false,\n    }));\n  };\n\n  const handleClick = event => {\n    const { expanded } = state;\n\n    setState(prevState => ({\n      ...prevState,\n      expanded: !expanded,\n    }));\n\n    if (expanded && signedUname === topic.uname) {\n      handleUpdate();\n    }\n  };\n\n  const handleShare = event => {\n    handleClose();\n    dispatch({ type: 'OPEN_SHARE', data: state.shareURL });\n  };\n\n  const handleFavorite = async event => {\n    const { favorite } = state;\n\n    const params = {\n      url: favorite\n            ? '/topic_collect/de_collect'\n            : '/topic_collect/collect',\n      params: {\n        accesstoken,\n        topic_id: topic.topic_id,\n      },\n    };\n\n    handleClose();\n\n    const { success, err_msg } = await post(params);\n\n    if (isCancel.current) {\n      return;\n    }\n\n    const message = success\n                    ? favorite ? '' : ''\n                    : {\n                      message: err_msg || '',\n                      status: 'error',\n                    };\n\n    success && setState(prevState => ({\n      ...prevState,\n      expanded: true,\n      favorite: !favorite,\n    }));\n\n    dispatch({ type: 'OPEN_NOTIFICATION', data: message });\n  };\n\n  const handleReply = event => {\n\n    const config = {\n      action: 'reply',\n      url: `/topic/${topic_id}/replies`,\n      reply_id: topic_id,\n      content: '',\n    };\n\n    handleClose();\n    handleOpenEditor(config);\n  };\n\n  const handleUpdate = () => {\n    const config = {\n      action: 'update',\n      url: '/topics/update',\n      tab: topic.tab,\n      title: topic.title,\n      content: topic.content,\n      topic_id: topic.topic_id,\n    };\n\n    handleOpenEditor(config);\n  };\n\n  const handleCreate = () => {\n    const config = {\n      action: 'create',\n      url: '/topics',\n    };\n\n    handleOpenEditor(config);\n  };\n\n  const handleOpenEditor = config => {\n    dispatch({ type: 'OPEN_EDITOR', data: config });\n  };\n\n  React.useEffect(() => {\n    const { origin, pathname } = window.location;\n\n    setState(prevState => ({\n      ...prevState,\n      shareURL: `${origin}${pathname}`,\n    }));\n\n    return () => isCancel.current = true;\n  }, []);\n\n  React.useEffect(() => {\n    if (topic === null) {\n      return;\n    }\n\n    setState(prevState => ({\n      ...prevState,\n      favorite: typeof prevState.favorite === 'boolean'\n                ? prevState.favorite\n                : Boolean(topic)\n                  ? topic.is_collect\n                  : undefined,\n    }));\n  }, [topic]);\n\n  return (isAuthed &&\n    <AppBar\n      color=\"default\"\n      component=\"div\"\n      className={classes.appbar}\n    >\n      <div className={classes.wrapper}>\n        {single ? (\n          <Zoom in={visible} unmountOnExit>\n            <Fab\n              color=\"secondary\"\n              aria-label=\"Edit\"\n              className={classes.action}\n              onClick={handleCreate}\n            >\n              <EditIcon />\n            </Fab>\n          </Zoom>\n        ) : (Boolean(topic) &&\n          <SpeedDial\n            ariaLabel=\"SpeedDial\"\n            className={clsx(classes.action, {\n              [classes.fabMoveUp]: !isWidthUp('md', width) && notificationIsOpen,\n              [classes.fabMoveDown]: !isWidthUp('md', width) && !notificationIsOpen,\n            })}\n            color=\"secondary\"\n            hidden={!visible}\n            open={state.expanded}\n            onClick={handleClick}\n            onClose={handleClose}\n            onMouseEnter={handleOpen}\n            onMouseLeave={handleClose}\n            icon={signedUname === topic.uname ? (\n              <SpeedDialIcon openIcon={<EditIcon />} />\n            ) : (\n              <SpeedDialIcon />\n            )}\n          >\n            <SpeedDialAction\n              icon={<ReplyIcon />}\n              tooltipTitle=\"\"\n              onClick={handleReply}\n            />\n            <SpeedDialAction\n              icon={state.favorite ? <FavoriteIcon /> : <FavoriteBorderIcon />}\n              tooltipTitle=\"\"\n              onClick={handleFavorite}\n            />\n            <SpeedDialAction\n              icon={<ShareIcon />}\n              tooltipTitle=\"\"\n              onClick={handleShare}\n            />\n          </SpeedDial>\n        )}\n      </div>\n    </AppBar>\n  );\n};\n\nActionDial.propTypes = {\n  width: PropTypes.string.isRequired,\n  single: PropTypes.bool,\n  topic: PropTypes.any,\n};\n\nexport default withWidth()(ActionDial);\n","import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\nimport IconButton from '@material-ui/core/IconButton';\n\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport WarningIcon from '@material-ui/icons/Warning';\nimport ErrorIcon from '@material-ui/icons/Error';\nimport InfoIcon from '@material-ui/icons/Info';\nimport CloseIcon from '@material-ui/icons/Close';\n\nconst useStyles = makeStyles(theme => ({\n  success: {\n    backgroundColor: '#43a047',\n  },\n  error: {\n    backgroundColor: '#d32f2f',\n  },\n  info: {\n    backgroundColor: '#1976d2',\n  },\n  warning: {\n    backgroundColor: '#ffa000',\n  },\n  icon: {\n    fontSize: 20,\n  },\n  iconVariant: {\n    opacity: 0.9,\n    marginRight: theme.spacing(1),\n  },\n  message: {\n    display: 'flex',\n    alignItems: 'center',\n  },\n}));\n\nconst variantIcon = {\n  success: CheckCircleIcon,\n  warning: WarningIcon,\n  error: ErrorIcon,\n  info: InfoIcon,\n};\n\nconst Notification = () => {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const {\n    open,\n    message,\n    status,\n  } = useSelector(({ notification }) => {\n    const statusType = ['success', 'warning', 'error', 'info'];\n\n    if (!statusType.includes(notification.status)) {\n      notification.status = 'info';\n    }\n\n    return notification;\n  });\n\n  const handleClose = React.useCallback(() => {\n    dispatch({ type: 'CLOSE_NOTIFICATION' });\n  }, [dispatch]);\n\n  const handleExit = React.useCallback(() => {\n    open && handleClose();\n  }, [open, handleClose]);\n\n  React.useEffect(() => {\n    return () => handleExit();\n  }, [handleExit]);\n\n  const Icon = variantIcon[status];\n  const key = new Date().getTime();\n\n  return (\n    <Snackbar\n      key={key}\n      open={open}\n      anchorOrigin={{\n        vertical: 'bottom',\n        horizontal: 'left',\n      }}\n      autoHideDuration={3000}\n      onClose={handleClose}\n    >\n      <SnackbarContent\n        className={classes[status]}\n        aria-describedby=\"snackbar-message-id\"\n        message={\n          <span id=\"snackbar-message-id\" className={classes.message}>\n            <Icon className={`${classes.icon} ${classes.iconVariant}`} />\n            {message}\n          </span>\n        }\n        action={\n          <IconButton\n            color=\"inherit\"\n            className={classes.close}\n            onClick={handleClose}\n          >\n            <CloseIcon className={classes.icon} />\n          </IconButton>\n        }\n      />\n    </Snackbar>\n  );\n};\n\nexport default Notification;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\n\nconst useStyles = makeStyles(theme => ({\n  flex: {\n    margin: 0,\n    '& *': {\n      flex: '1 1 auto',\n      minHeight: 210,\n      padding: 0,\n    },\n    '& textarea': {\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      width: '100%',\n      height: '100%',\n      lineHeight: 1.3125,\n    },\n  },\n}));\n\nconst MarkdownEditor = ({ inputRef, ...props }) => {\n  const classes = useStyles();\n  const {\n    content,\n    disabled,\n    onUpdateContent: updateContent,\n  } = props;\n\n  const handleUpdateContent = event => {\n    updateContent(event);\n  };\n\n  return (\n    <React.Fragment>\n      <TextField\n        className={classes.flex}\n        margin=\"normal\"\n        multiline\n        rows=\"3\"\n        fullWidth\n        id=\"textarea\"\n        placeholder=\"\"\n        inputRef={inputRef}\n        value={content}\n        disabled={disabled}\n        onChange={handleUpdateContent}\n      />\n    </React.Fragment>\n  );\n};\n\nMarkdownEditor.propTypes = {\n  content: PropTypes.string.isRequired,\n  disabled: PropTypes.bool.isRequired,\n  onUpdateContent: PropTypes.func.isRequired,\n};\n\nexport default MarkdownEditor;\n","import MarkdownIt from 'markdown-it';\nimport checkbox from 'markdown-it-task-checkbox';\nimport emoji from 'markdown-it-emoji';\nimport sub from 'markdown-it-sub';\nimport sup from 'markdown-it-sup';\nimport footnote from 'markdown-it-footnote';\nimport container from 'markdown-it-container';\n\nimport Prism, { alias } from '../../Prism';\nimport { transformOrgURL } from '../../../common';\n\nconst md = new MarkdownIt({\n  html: true,\n  linkify: true,\n  typographer: true,\n  quotes: '',\n  highlight: (code, lang) => {\n    lang = typeof lang === 'string' && lang.toLocaleLowerCase();\n    lang = alias[lang] || lang;\n\n    if (!Object.keys(Prism.languages).includes(lang)) {\n      if (Boolean(lang) && process.env.NODE_ENV === 'development') {\n        console.warn(`\\`${lang}' code is highlighted with \\`markup'.`);\n      }\n\n      lang = 'markup';\n    }\n\n    return Prism.highlight(code, Prism.languages[lang]);\n  },\n})\n.use(checkbox)\n.use(emoji)\n.use(sub)\n.use(sup)\n.use(footnote)\n.use(container);\n\nconst atToHtml = ({url, text, prevSpaces = '', nextSpaces = ''}) => {\n  const href = `${process.env.PUBLIC_URL}/user/${url}`;\n  return `${prevSpaces}<a target=\"_blank\" href=\"${href}\">${text}</a>${nextSpaces}`;\n};\n\nmd.renderer.rules.text = (tokens, idx, options, env, self) => {\n  let content = tokens[idx].content;\n\n  if (Boolean(content)) {\n    content = content\n      .replace(/^(@([\\w\\-_]+))$/, atToHtml({url: '$2', text: '$1'}))\n      .replace(/(\\s+)(@([\\w\\-_]+))/g, atToHtml({url: '$3', text: '$2', prevSpaces: '$1'}))\n      .replace(/(@([\\w\\-_]+))(\\s+)/g, atToHtml({url: '$2', text: '$1', nextSpaces: '$3'}));\n  }\n\n  return content;\n};\n\nmd.renderer.rules.link_open = (tokens, idx, options, env, self) => {\n  tokens[idx].attrPush(['target', '_blank']);\n\n  const hrefIdx = tokens[idx].attrIndex('href');\n  const hrefSrc = transformOrgURL(tokens[idx].attrs[hrefIdx][1]);\n\n  if (/^\\/\\w+.*$/.test(hrefSrc)) {\n    tokens[idx].attrs[hrefIdx][1] = `${process.env.PUBLIC_URL}${hrefSrc}`;\n  } else {\n    tokens[idx].attrs[hrefIdx][1] = hrefSrc;\n  }\n\n  for (var i = tokens.length - 1; i >= 0; i--) {\n    const { type, level, content } = tokens[i];\n\n    if (type === 'text' && level !== 0) {\n      tokens[i].content = transformOrgURL(content);\n    }\n  }\n\n  return self.renderToken(tokens, idx, options);\n};\n\nexport default md;\n","import sanitizeHtml from 'sanitize-html';\nimport markdownRender from './markdown-it';\n\nconst blacklist = [ 'style', 'script', 'textarea', 'noscript' ];\n\nexport default (markdownString) => {\n  return sanitizeHtml(markdownRender.render(markdownString), {\n    allowedTags: false,\n    exclusiveFilter: (frame) => {\n      return blacklist.includes(frame.tag);\n    },\n  });\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { useDispatch } from 'react-redux';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport markdownToHtml from './markdownToHtml';\nimport 'github-markdown-css/github-markdown.css';\nimport './markdown-render.styl';\n\nconst useStyles = makeStyles(theme => ({\n  root: theme.palette.type === 'light' ? {\n    color: '#24292e',\n    '& code': { backgroundColor: 'rgba(27,31,35,.05)' },\n    '& pre, & .highlight pre': { backgroundColor: '#f6f8fa' },\n    '& blockquote': { borderLeftColor: '#dfe2e5' },\n    '& h1, & h2': { borderBottomColor: '#eaecef' },\n    '& img': { backgroundColor: '#fff' },\n    '& a': { color: '#0366d6' },\n    '& hr': {\n      backgroundColor: '#e1e4e8',\n      borderBottomColor: '#eee',\n    },\n    '& table': {\n      '& th, & td': {\n        borderColor: '#dfe2e5',\n      },\n      '& tr': {\n        backgroundColor: '#fff',\n        borderTopColor: '#c6cbd1',\n        '&:nth-child(2n)': {\n          backgroundColor: '#f6f8fa',\n        },\n      },\n    },\n  } : {\n    color: theme.palette.text.primary,\n    '& code': { backgroundColor: 'rgba(200,200,200,.05)' },\n    '& pre, & .highlight pre': { backgroundColor: '#333' },\n    '& blockquote': { borderLeftColor: '#5a5a5a' },\n    '& h1, & h2': { borderBottomColor: '#5d5d5d' },\n    '& img': { backgroundColor: 'transparent' },\n    '& a': { color: '#1858a0' },\n    '& hr': {\n      backgroundColor: '#777',\n      borderBottomColor: '#7c7c7c',\n    },\n    '& table': {\n      '& th, & td': {\n        borderColor: '#3a3b3c',\n      },\n      '& tr': {\n        backgroundColor: 'transparent',\n        borderTopColor: '#2d2e2f',\n        '&:nth-child(2n)': {\n          backgroundColor: '#2a2b2c',\n        },\n      },\n    },\n  },\n}));\n\nconst MarkdownRender = (props) => {\n  const { className, markdownString } = props;\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const mdRef = React.useRef();\n\n  React.useEffect(() => {\n    const handleClick = event => {\n      const src = event.target.getAttribute('src');\n      dispatch({ type: 'OPEN_ZOOM', data: { src } });\n    };\n\n    const imgs = Array.from(mdRef.current.querySelectorAll('img'));\n    imgs.map(img => img.addEventListener('click', handleClick));\n  }, [dispatch]);\n\n  return (\n    <div\n      ref={mdRef}\n      className={clsx('markdown-body', className, classes.root)}\n      // eslint-disable-next-line react/no-danger\n      dangerouslySetInnerHTML={{\n        __html: markdownToHtml(markdownString),\n      }}\n    />\n  );\n};\n\nMarkdownRender.propTypes = {\n  className: PropTypes.string,\n  markdownString: PropTypes.string.isRequired,\n};\n\nexport default MarkdownRender;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { useSelector } from 'react-redux';\nimport {\n  navTabsObject as navTabs,\n  topicTypes,\n} from '../../common';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport Hidden from '@material-ui/core/Hidden';\n\nimport Popover from '@material-ui/core/Popover';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport ArrowRightIcon from '@material-ui/icons/ArrowRight';\nimport FullscreenIcon from '@material-ui/icons/Fullscreen';\nimport FullscreenExitIcon from '@material-ui/icons/FullscreenExit';\nimport PreviewIcon from '@material-ui/icons/LocalLibrary';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\n\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport Dialog from '@material-ui/core/Dialog';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport Radio from '@material-ui/core/Radio';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\n\nimport Avatar from '../../Components/Avatar';\nimport TopicTypeIcon from '../../Components/TopicTypeIcon';\nimport './editor-header.styl';\n\nconst useStyles = makeStyles(theme => ({\n  color: {\n    color: theme.palette.type === 'light' ? '#0366d6' : '#1858a0',\n    '& svg': {\n      color: theme.palette.type === 'light' ? 'rgba(0,0,0,.58)' : 'rgba(230,230,230,.58)',\n    },\n  },\n  text: {\n    padding: 0,\n    paddingRight: 2,\n  },\n  title: {\n    paddingTop: 20,\n    paddingBottom: 0,\n    '& h6': {\n      fontSize: '1.125rem',\n    },\n  },\n  back: {\n    marginLeft: -14,\n  },\n  content: {\n    paddingBottom: 20,\n  },\n}));\n\nconst EditorHeader = (props) => {\n  const {\n    publishTab,\n    onPublishTab,\n    onPreview,\n    onFullScreen,\n    fullScreen,\n    disabled,\n  } = props;\n\n  const { isAuthed, uname, avatar } = useSelector(({ auth }) => auth);\n  const { action } = useSelector(({ editor }) => editor);\n\n  const [moreOpen, setMoreOpen] = React.useState(false);\n  const [selectOpen, setSelectOpen] = React.useState(false);\n  const anchorEl = React.useRef(null);\n  const classes = useStyles();\n\n  const handleCloseSelect = () => {\n    setSelectOpen(false);\n  };\n\n  const handleOpenSelect = () => {\n    setSelectOpen(!disabled);\n  };\n\n  const handleChange = (event, value) => {\n    onPublishTab(value);\n    handleCloseSelect();\n  };\n\n  const handleCloseMore = () => {\n    setMoreOpen(false);\n  };\n\n  const handleOpenMore = () => {\n    setMoreOpen(true);\n  };\n\n  const handlePreview = () => {\n    handleCloseMore();\n    onPreview();\n  };\n\n  const handleFullScreen = () => {\n    handleCloseMore();\n    onFullScreen();\n  };\n\n  return (isAuthed &&\n    <React.Fragment>\n      <div className=\"flex editor-header\">\n        <Avatar\n          name={uname}\n          image={avatar}\n          className=\"avatar\"\n        />\n        <div className=\"flex box\">\n          <Typography className=\"flex editor-uname\">\n            {uname}\n            <ArrowRightIcon color=\"inherit\" />\n          </Typography>\n          {/(create)|(update)/.test(action) &&\n            <Typography className=\"flex editor-tpoic-type\">\n              <Typography\n                className={clsx('flex', classes.color, {\n                  'disabled': disabled,\n                })}\n                onClick={handleOpenSelect}\n                component=\"span\"\n              >\n                {publishTab ? navTabs[publishTab].name : ''}\n                <TopicTypeIcon tab={publishTab} />\n              </Typography>\n            </Typography>\n          }\n        </div>\n        <div className=\"editor-header-actions\">\n          <IconButton\n            buttonRef={node => {\n              anchorEl.current = node;\n            }}\n            variant=\"contained\"\n            onClick={handleOpenMore}\n          >\n            <MoreVertIcon />\n          </IconButton>\n        </div>\n      </div>\n\n      <Popover\n        open={moreOpen}\n        anchorEl={anchorEl.current}\n        anchorReference=\"anchorEl\"\n        anchorPosition={{ top: 30, left: 30 }}\n        onClose={handleCloseMore}\n        anchorOrigin={{\n          vertical: 'top',\n          horizontal: 'right',\n        }}\n        transformOrigin={{\n          vertical: 'top',\n          horizontal: 'right',\n        }}\n      >\n        <List>\n          <ListItem button onClick={handlePreview}>\n            <ListItemIcon>\n              <PreviewIcon color=\"inherit\" />\n            </ListItemIcon>\n            <ListItemText\n              className={classes.text}\n              primary=\"\"\n            />\n          </ListItem>\n          <Hidden xsDown>\n            <ListItem button onClick={handleFullScreen}>\n              <ListItemIcon>\n                {fullScreen ? (\n                  <FullscreenExitIcon color=\"inherit\" />\n                ) : (\n                  <FullscreenIcon color=\"inherit\" />\n                )}\n              </ListItemIcon>\n              <ListItemText\n                className={classes.text}\n                primary=\"\"\n              />\n            </ListItem>\n          </Hidden>\n        </List>\n      </Popover>\n\n      <Dialog\n        open={selectOpen}\n        maxWidth=\"xs\"\n        onClose={handleCloseSelect}\n      >\n        <DialogTitle className={classes.title}>\n          <IconButton\n            className={classes.back}\n            onClick={handleCloseSelect}\n          >\n            <ArrowBackIcon />\n          </IconButton>\n          \n        </DialogTitle>\n        <DialogContent className={classes.content}>\n          <RadioGroup\n            aria-label=\"topicType\"\n            name=\"topicType\"\n            value={publishTab}\n            onChange={handleChange}\n          >\n            {topicTypes.map(tab => (\n              <FormControlLabel\n                key={tab}\n                value={tab}\n                label={navTabs[tab].name}\n                control={<Radio />}\n              />\n            ))}\n          </RadioGroup>\n        </DialogContent>\n      </Dialog>\n    </React.Fragment>\n  );\n};\n\nEditorHeader.propTypes = {\n  onPublishTab: PropTypes.func,\n  publishTab: PropTypes.string,\n  onPreview: PropTypes.func.isRequired,\n  onFullScreen: PropTypes.func.isRequired,\n  fullScreen: PropTypes.bool.isRequired,\n  disabled: PropTypes.bool.isRequired,\n};\n\nexport default EditorHeader;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport withWidth, { isWidthDown } from '@material-ui/core/withWidth';\n\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport { MarkdownRender } from '../../Components/Markdown';\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    [theme.breakpoints.up('sm')]: {\n      paddingLeft: 36,\n      paddingRight: 36,\n    },\n    '& h2': {\n      position: 'relative',\n      padding: '15px 0',\n      fontSize: '1.25rem',\n      borderBottomWidth: 1,\n      borderBottomStyle: 'dashed',\n      borderBottomColor: theme.palette.type === 'light' ? 'rgba(0,0,0,.08)' : 'rgba(210,210,210,.08)',\n    },\n  },\n  close: {\n    position: 'absolute',\n    top: '50%',\n    right: -10,\n    transform: 'translateY(-50%)',\n  },\n  content: {\n    paddingBottom: 36,\n    [theme.breakpoints.up('sm')]: {\n      paddingLeft: 36,\n      paddingRight: 36,\n    },\n  },\n}));\n\nconst Preview = (props) => {\n  const handleClose = () => {\n    props.onClose();\n  };\n\n  const { width, open, content } = props;\n  const classes = useStyles();\n\n  return (\n    <Dialog\n      open={open}\n      fullWidth\n      maxWidth=\"md\"\n      fullScreen={isWidthDown('xs', width)}\n      onClose={handleClose}\n    >\n      <DialogTitle className={classes.title} disableTypography>\n        <Typography component=\"h2\">\n          \n          <IconButton\n            className={classes.close}\n            onClick={handleClose}\n          >\n            <CloseIcon />\n          </IconButton>\n        </Typography>\n      </DialogTitle>\n      <DialogContent className={classes.content}>\n        <MarkdownRender markdownString={content} />\n      </DialogContent>\n    </Dialog>\n  );\n};\n\nPreview.propTypes = {\n  width: PropTypes.string.isRequired,\n  open: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  content: PropTypes.string.isRequired,\n};\n\nexport default withWidth()(Preview);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useLocation } from 'react-router-dom';\nimport { topicTypes, matchTab } from '../../common';\nimport { post } from '../../fetch';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport withWidth, { isWidthUp } from '@material-ui/core/withWidth';\n\nimport Slide from '@material-ui/core/Slide';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\n\nimport { MarkdownEditor } from '../../Components/Markdown';\nimport EditorHeader from './EditorHeader';\nimport Preview from './Preview';\n\nconst useStyles = makeStyles(theme => ({\n  editor: {\n    '& #editor .editor-header': {\n      padding: '24px 0 14px 24px',\n    },\n  },\n  title: {\n    margin: 0,\n    padding: '0 24px 18px',\n  },\n  content: {\n    paddingTop: 0,\n    paddingBottom: 0,\n  },\n  actions: {\n    margin: 0,\n    padding: '10px 24px',\n  },\n  button: {\n    margin: 0,\n    minWidth: 110,\n  },\n  doit: {\n    marginLeft: 16,\n  },\n  cancel: {\n    marginLeft: 0,\n  },\n}));\n\nconst Transition = React.forwardRef((props, ref) => {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst initialState = {\n  /**\n   * status\n   * 1 idle\n   * 2 working\n   * 3 success\n   * 4 error\n   * -------------------------\n   * set it but never used ^_^\n   */\n  status: 'idle',\n  publishTab: null,\n  title: '',\n  content: '',\n  /**\n   * repo: https://github.com/cnodejs/nodeclub\n   * file: api/v1/topic.js\n   * line: 144\n   */\n  validation: {\n    title: {\n      max: 100,\n      min: 5,\n    },\n    content: {\n      max: null,\n      min: 3,\n    },\n  },\n  isOK: false,\n  isDiff: false,\n  preview: false,\n  fullScreen: false,\n  disabled: false,\n};\n\nconst Editor = (props) => {\n  const { width } = props;\n  const { isAuthed, accesstoken } = useSelector(({ auth }) => auth);\n  const dispatch = useDispatch();\n  const location = useLocation();\n  const classes = useStyles();\n  const isCancel = React.useRef();\n  const titleRef = React.useRef();\n  const contentRef = React.useRef();\n\n  const editor = useSelector(s => s.editor);\n  const { open, action, url, topic_id, reply_id } = editor;\n\n  const [eState, eDispatch] = React.useReducer((state, { type, data }) => {\n    switch (type) {\n      case 'INIT':\n        return { ...state, ...data };\n      case 'SET_PUBLISH_TAB':\n        return { ...state, publishTab: data };\n      case 'CHANGE':\n        return { ...state, ...data };\n      case 'IS_OK':\n        return { ...state, isOK: data };\n      case 'IS_DIFF':\n        return { ...state, isDiff: data };\n      case 'CLOSE_PREVIEW':\n        return { ...state, preview: false };\n      case 'OPEN_PREVIEW':\n        return { ...state, preview: true };\n      case 'TOGGLE_FULL_SCREEN':\n        return { ...state, fullScreen: !state.fullScreen };\n      case 'REQUEST':\n        return {\n          ...state,\n          status: 'working',\n          disabled: true,\n        };\n      case 'REQUEST_END':\n        return {\n          ...state,\n          status: data,\n          disabled: false,\n        };\n      default:\n        return state;\n    }\n  }, initialState);\n\n  const { publishTab, title, content, validation, isOK, preview, fullScreen, disabled } = eState;\n\n  const closeEditor = React.useCallback((data = {}) => {\n    dispatch({ type: 'CLOSE_EDITOR', data });\n  }, [dispatch]);\n\n  const handleClose = () => {\n    !disabled && closeEditor();\n  };\n\n  const handlePublishTab = tab => {\n    eDispatch({ type: 'SET_PUBLISH_TAB', data: tab });\n  };\n\n  const handleFocus = () => {\n    if (['create', 'update'].includes(action)) {\n      titleRef.current.focus();\n    } else {\n      contentRef.current.focus();\n    }\n  };\n\n  const handleChange = name => event => {\n    let value = event.target.value;\n\n    if (name === 'title') {\n      value = value.replace(/\\n/g, '');\n    }\n\n    eDispatch({\n      type: 'CHANGE',\n      data: { [name]: value },\n    });\n  };\n\n  const handleOpenPreview = () => {\n    if (!Boolean(content) || content.trim().length < validation.content.min) {\n      dispatch({\n        type: 'OPEN_NOTIFICATION',\n        data: {\n          message: '',\n          status: 'info',\n        },\n      });\n    } else {\n      eDispatch({ type: 'OPEN_PREVIEW' });\n    }\n  };\n\n  const handleClosePreview = () => {\n    eDispatch({ type: 'CLOSE_PREVIEW' });\n  };\n\n  const handleFullScreen = () => {\n    eDispatch({ type: 'TOGGLE_FULL_SCREEN' });\n  };\n\n  const checkTab = () => {\n    if (/(reply)/.test(action)) {\n      return true;\n    }\n\n    const result = topicTypes.includes(publishTab);\n\n    if (!result) {\n      dispatch({\n        type: 'OPEN_NOTIFICATION',\n        data: {\n          message: '',\n          status: 'error',\n        },\n      });\n    }\n\n    return result;\n  };\n\n  const handleSubmit = async () => {\n    if (!isOK || !checkTab()) {\n      return;\n    }\n\n    isCancel.current = false;\n    eDispatch({ type: 'REQUEST' });\n\n    const params = {\n      accesstoken,\n      tab: publishTab || undefined,\n      title,\n      content,\n      reply_id,\n      topic_id,\n    };\n\n    const { success, err_msg, data } = await post({ url, params });\n\n    if (isCancel.current) {\n      return;\n    }\n\n    eDispatch({\n      type: 'REQUEST_END',\n      data: success ? 'success' : 'error',\n    });\n\n    if (success) {\n      closeEditor({\n        action,\n        request: { ...params },\n        response: { ...data },\n      });\n    }\n\n    const message = success\n      ? action === 'create'\n        ? ' ^_^'\n        : action === 'update'\n          ? ' ^_^'\n          : action === 'reply'\n            ? ' ^_^'\n            : ''\n      : {\n        status: 'error',\n        message: err_msg\n          ? err_msg\n          : action === 'create'\n            ? ' :('\n            : action === 'update'\n              ? ' :('\n              : action === 'reply'\n                ? ' :('\n                : '',\n      };\n\n    dispatch({ type: 'OPEN_NOTIFICATION', data: message });\n  };\n\n  React.useEffect(() => {\n    let tab = matchTab(location);\n    tab = topicTypes.includes(tab) ? tab : '';\n\n    eDispatch({ type: 'SET_PUBLISH_TAB', data: tab });\n  }, [location]);\n\n  React.useEffect(() => {\n    if (!editor.open) {\n      return;\n    }\n\n    eDispatch({\n      type: 'INIT',\n      data: {\n        ...(editor.tab ? { publishTab: editor.tab } : {}),\n        title: editor.title || '',\n        content: editor.content || '',\n      },\n    });\n  }, [editor]);\n\n  React.useEffect(() => {\n    if (!open) {\n      return;\n    }\n\n    const checkTitle = () => {\n      return (\n        /(reply)/.test(action)\n          ? true\n          : typeof title === 'string'\n            ? title.length >= validation.title.min && title.length <= validation.title.max\n            : false\n      );\n    };\n\n    const checkContent = () => {\n      return (\n        typeof content === 'string'\n          ? content.length >= validation.content.min\n          : false\n      );\n    };\n\n    const result = checkTitle() && checkContent();\n    eDispatch({ type: 'IS_OK', data: result });\n\n    const change = title !== editor.title || content !== editor.content;\n    eDispatch({ type: 'IS_DIFF', data: change });\n  }, [\n    // observed deps\n    title, content, validation,\n    // other deps\n    open, action, editor.title, editor.content,\n  ]);\n\n  React.useEffect(() => {\n    return () => {\n      if (open) {\n        handleClosePreview();\n        closeEditor();\n      }\n    };\n  }, [open, location, closeEditor]);\n\n  return (isAuthed &&\n    <React.Fragment>\n      <Dialog\n        className={classes.editor}\n        PaperProps={{id: 'editor'}}\n        open={open}\n        onClose={handleClose}\n        TransitionComponent={Transition}\n        maxWidth=\"sm\"\n        fullWidth\n        fullScreen={!isWidthUp('sm', width) || fullScreen}\n        keepMounted={!isWidthUp('sm', width)}\n        onEntered={handleFocus}\n      >\n        <EditorHeader\n          publishTab={publishTab}\n          onPublishTab={handlePublishTab}\n          onPreview={handleOpenPreview}\n          onFullScreen={handleFullScreen}\n          fullScreen={fullScreen}\n          disabled={disabled}\n        />\n        {['create', 'update'].includes(action) &&\n          <TextField\n            className={classes.title}\n            margin=\"normal\"\n            multiline\n            rows=\"1\"\n            rowsMax=\"3\"\n            fullWidth\n            placeholder=\"...\"\n            inputRef={titleRef}\n            value={title}\n            disabled={disabled}\n            onChange={handleChange('title')}\n          />\n        }\n        <DialogContent className={clsx('flex', classes.content)}>\n          <MarkdownEditor\n            disabled={disabled}\n            content={content}\n            inputRef={contentRef}\n            onUpdateContent={handleChange('content')}\n          />\n        </DialogContent>\n        <DialogActions className={classes.actions}>\n          <Button\n            className={clsx(classes.button, classes.cancel)}\n            onClick={handleClose}\n            disabled={disabled}\n            color=\"default\"\n            size=\"large\"\n          >\n            \n          </Button>\n          <Button\n            className={clsx(classes.button, classes.doit)}\n            variant=\"contained\"\n            onClick={handleSubmit}\n            disabled={!isOK || disabled}\n            color=\"primary\"\n            size=\"large\"\n          >\n            {action === 'create' ? (\n              ''\n            ) : action === 'update' ? (\n              ''\n            ) : (\n              ''\n            )}\n          </Button>\n        </DialogActions>\n      </Dialog>\n\n      <Preview\n        open={preview}\n        content={content}\n        onClose={handleClosePreview}\n      />\n    </React.Fragment>\n  );\n};\n\nEditor.propTypes = {\n  width: PropTypes.string.isRequired,\n};\n\nexport default withWidth()(Editor);\n","import React from 'react';\n\nconst useLoadmore = (options = {}) => {\n  const [loadmore, setLoadmore] = React.useState(false);\n\n  React.useEffect(() => {\n    const { threshold = 20 } = options;\n\n    const handleScroll = () => {\n      const documentHeight = document.documentElement.offsetHeight || document.body.offsetHeight;\n      const scrollHeight = document.documentElement.scrollTop || document.body.scrollTop;\n      const windowHeight = window.innerHeight;\n\n      if (documentHeight > windowHeight && documentHeight - (windowHeight + scrollHeight) <= threshold) {\n        setLoadmore(true);\n      } else {\n        setLoadmore(false);\n      }\n    };\n\n    document.addEventListener('scroll', handleScroll);\n\n    return () => document.removeEventListener('scroll', handleScroll);\n  }, [options]);\n\n  return loadmore;\n};\n\nexport default useLoadmore;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { useLocation } from 'react-router-dom';\nimport {\n  matchTab,\n  getNewDataCreate,\n} from '../../common';\nimport { get as getData } from '../../fetch';\n\nimport { AppWrapper } from '../../Layout';\nimport TopiCards from '../../Components/TopiCards';\nimport Progress from '../../Components/Progress';\nimport ActionDial from '../../Components/ActionDial';\nimport Notification from '../../Components/Notification';\nimport Editor from '../../Components/Editor';\nimport useLoadmore from '../../Components/useLoadmore';\n\nconst Home = () => {\n  const isFetching = React.useRef(false);\n  const isFetched = React.useRef(false);\n  const isCancel = React.useRef();\n  const page = React.useRef(1);\n  const { pathname, search } = useLocation();\n\n  const [tab, setTab] = React.useState(null);\n  const [topics, setTopics] = React.useState([]);\n  const [status, setStatus] = React.useState('idle');\n  const loadmore = useLoadmore();\n\n  const fetchTopics = React.useCallback(async options => {\n    isFetching.current = true;\n    setStatus('loading');\n\n    const params = {\n      url: '/topics',\n      params: {\n        tab: options.tab,\n        page: page.current,\n        limit: 20,\n        // limit: isFetched.current ? 1 : 20,\n        mdrender: true,\n      },\n    };\n\n    const { success, data } = await getData(params);\n\n    if (isCancel.current) {\n      return;\n    }\n\n    if (success) {\n      setTopics(prevState => (isFetched.current ? [ ...prevState, data ] : [data]));\n      setStatus('success');\n      isFetched.current = true;\n      page.current += 1;\n    } else {\n      setStatus('error');\n    }\n\n    isFetching.current = false;\n  }, []);\n\n  React.useEffect(() => {\n    isFetching.current = false;\n    isFetched.current = false;\n    page.current = 1;\n\n    setTopics([]);\n    setTab(matchTab({pathname, search}));\n  }, [pathname, search]);\n\n  React.useEffect(() => {\n    if (tab === null || isFetching.current || (isFetched.current && !loadmore)) {\n      return;\n    }\n\n    isCancel.current = false;\n\n    fetchTopics({ tab });\n\n    return () => {\n      isFetching.current = false;\n      isCancel.current = true;\n    };\n  }, [tab, loadmore, fetchTopics]);\n\n  const editorData = useSelector(state => state.editor);\n\n  React.useEffect(() => {\n    const newDataCreate = getNewDataCreate(editorData);\n    newDataCreate && setTopics(prevState => ([ newDataCreate, ...prevState ]));\n  }, [editorData]);\n\n  return (\n    <AppWrapper title=\"RCNode\">\n      <div id=\"container\">\n        <div className=\"wrapper\">\n          <div className=\"topic-list-container\">\n            {topics.map((items, index) => (\n              <TopiCards key={index} items={items} />\n            ))}\n          </div>\n        </div>\n\n        <div className=\"status wrapper\">\n          <Progress status={status} />\n        </div>\n      </div>\n\n      <ActionDial single />\n      <Editor />\n      <Notification />\n    </AppWrapper>\n  );\n};\n\nexport default Home;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useLocation, useParams, Link } from 'react-router-dom';\n\nimport { post } from '../../fetch';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport withWidth, { isWidthDown } from '@material-ui/core/withWidth';\n\nimport Grid from '@material-ui/core/Grid';\nimport Avatar from '@material-ui/core/Avatar';\nimport IconButton from '@material-ui/core/IconButton';\n\nimport Popover from '@material-ui/core/Popover';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\n\nimport ThumbUpIcon from '@material-ui/icons/ThumbUpAlt';\nimport ThumbUpCancelIcon from '@material-ui/icons/ThumbUpAltOutlined';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport ReplyIcon from '@material-ui/icons/Reply';\nimport ShareIcon from '@material-ui/icons/Share';\n\nimport { MarkdownRender } from '../../Components/Markdown';\nimport Moment from '../../Components/Moment';\nimport { scroller } from 'react-scroll';\n\nconst useStyles = makeStyles(theme => ({\n  icon: {\n    minWidth: 'auto',\n  },\n}));\n\nconst TopicReply = (props) => {\n  const { topicAuthor, width } = props;\n  const { topic_id } = useParams();\n  const { hash } = useLocation();\n  const classes = useStyles();\n  const isCancel = React.useRef();\n  const anchorEl = React.useRef(null);\n  const [moreOpen, setMoreOpen] = React.useState(false);\n  const [sharePrefixURL, setSharePrefixURL] = React.useState('');\n\n  const {\n    isAuthed,\n    accesstoken,\n    uname: signedUname,\n  } = useSelector(state => state.auth);\n  const dispatch = useDispatch();\n\n  const [upData, setUpData] = React.useState({\n    ups: props.item.ups.length,\n    isUped: props.item.is_uped,\n  });\n\n  const {\n    author: {\n      loginname: uname,\n      avatar_url: avatar,\n    },\n    id,\n    create_at: createAt,\n    content,\n  } = props.item;\n\n  const handleUp = async () => {\n    if (!isAuthed) {\n      dispatch({ type: 'OPEN_NOTIFICATION', data: '  ~' });\n      return;\n    }\n\n    if (uname === signedUname) {\n      dispatch({ type: 'OPEN_NOTIFICATION', data: '  ~' });\n      return;\n    }\n\n    isCancel.current = false;\n\n    const params = {\n      url: `/reply/${id}/ups`,\n      params: { accesstoken },\n    };\n\n    const { success, err_msg } = await post(params);\n\n    if (isCancel.current) {\n      return;\n    }\n\n    if (success) {\n      setUpData(prevState => {\n        const { ups, isUped } = prevState;\n        return {\n          ups: isUped ? ups - 1 : ups + 1,\n          isUped: !isUped,\n        };\n      });\n    } else if (err_msg) {\n      dispatch({\n        type: 'OPEN_NOTIFICATION',\n        data: {\n          status: 'error',\n          message: err_msg,\n        },\n      });\n    }\n  };\n\n  const handleShare = () => {\n    handleCloseMore();\n    dispatch({\n      type: 'OPEN_SHARE',\n      data: `${sharePrefixURL}#${id}`,\n    });\n  };\n\n  const handleCloseMore = () => {\n    setMoreOpen(false);\n  };\n\n  const handleOpenMore = () => {\n    setMoreOpen(true);\n  };\n\n  const handleReply = () => {\n    handleCloseMore();\n\n    const config = {\n      action: 'reply',\n      url: `/topic/${topic_id}/replies`,\n      reply_id: id,\n      content: `@${uname} `,\n    };\n\n    dispatch({ type: 'OPEN_EDITOR', data: config });\n  };\n\n  const timer = React.useRef();\n\n  React.useEffect(() => {\n    if (hash !== `#${id}`) {\n      return;\n    }\n\n    clearTimeout(timer.current);\n\n    const appHeaderHight = isWidthDown('xs', width) ? 56 : 64;\n    const replieSpacings = 32;\n    let threshold = 10;\n\n    if (isWidthDown('xs', width)) {\n      threshold += replieSpacings / 2;\n    }\n\n    timer.current = setTimeout(() => {\n      scroller.scrollTo(hash, {\n        duration: 500,\n        smooth: 'easeInOutQuart',\n        /**\n         * appHeaderHight => app header height\n         * replieSpacings => spacings between replies\n         * threshold => the highlight reply top offset\n         */\n        offset: -(appHeaderHight + replieSpacings / 2 + threshold),\n      });\n    }, 0);\n\n    return () => clearTimeout(timer.current);\n  }, [hash, id, width]);\n\n  React.useEffect(() => {\n    const { origin, pathname } = window.location;\n    setSharePrefixURL(`${origin}${pathname}`);\n\n    return () => isCancel.current = true;\n  }, []);\n\n  return (\n    <div id={`#${id}`} className={clsx('topic-reply', {\n      'hilite': hash === `#${id}`,\n      'owned': uname === topicAuthor,\n    })}>\n      <div className=\"reply-content\">\n        <Grid container wrap=\"nowrap\" className={clsx('reply-header', classes.header)}>\n          <Avatar aria-label=\"Recipe\" className=\"reply-avatar\">\n            <Link to={uname ? `/user/${uname}` : '/'}>\n              {avatar &&\n                <img\n                  src={avatar}\n                  alt={uname || ''}\n                />\n              }\n            </Link>\n          </Avatar>\n\n          <Grid container item zeroMinWidth wrap=\"nowrap\" className=\"reply-attrs\">\n            <Grid container wrap=\"nowrap\" className=\"group\">\n              <Grid container item zeroMinWidth wrap=\"nowrap\" className=\"uname-text\">\n                <Grid item zeroMinWidth>\n                  <Link\n                    className=\"uname\"\n                    to={uname ? `/user/${uname}` : '/'}\n                  >\n                    {uname ? uname : ''}\n                  </Link>\n                </Grid>\n                {uname === topicAuthor &&\n                  <Grid item className=\"text\">\n                    []\n                  </Grid>\n                }\n              </Grid>\n              <Grid item className=\"time\">\n                <Moment fromNow>{createAt}</Moment>\n              </Grid>\n            </Grid>\n          </Grid>\n\n          <Grid item className=\"reply-actions\">\n            <IconButton\n              className=\"action up\"\n              onClick={handleUp}\n            >\n              {upData.isUped ? (\n                <ThumbUpIcon />\n              ) : (\n                <ThumbUpCancelIcon />\n              )}\n            </IconButton>\n            {Boolean(upData.ups) &&\n              <span className=\"num\">{upData.ups}</span>\n            }\n            <IconButton\n              className=\"action more\"\n              buttonRef={node => {\n                anchorEl.current = node;\n              }}\n              variant=\"contained\"\n              onClick={handleOpenMore}\n            >\n              <MoreVertIcon />\n            </IconButton>\n            <Popover\n              open={moreOpen}\n              anchorEl={anchorEl.current}\n              anchorReference=\"anchorEl\"\n              anchorPosition={{ top: 30, left: 30 }}\n              onClose={handleCloseMore}\n              anchorOrigin={{\n                vertical: 'top',\n                horizontal: 'right',\n              }}\n              transformOrigin={{\n                vertical: 'top',\n                horizontal: 'right',\n              }}\n            >\n              <List>\n                <ListItem\n                  className=\"action post\"\n                  onClick={handleShare}\n                  button\n                >\n                  <ListItemIcon className={classes.icon}>\n                    <ShareIcon />\n                  </ListItemIcon>\n                </ListItem>\n                {isAuthed &&\n                  <ListItem\n                    className=\"action reply\"\n                    onClick={handleReply}\n                    button\n                  >\n                    <ListItemIcon className={classes.icon}>\n                      <ReplyIcon />\n                    </ListItemIcon>\n                  </ListItem>\n                }\n              </List>\n            </Popover>\n          </Grid>\n        </Grid>\n\n        <div className=\"markdown-container\">\n          <MarkdownRender markdownString={content} />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nTopicReply.propTypes = {\n  topicAuthor: PropTypes.string.isRequired,\n  item: PropTypes.object.isRequired,\n  width: PropTypes.string.isRequired,\n};\n\nexport default withWidth()(TopicReply);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport withWidth, { isWidthDown } from '@material-ui/core/withWidth';\n\nimport Grid from '@material-ui/core/Grid';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport IconButton from '@material-ui/core/IconButton';\nimport Fade from '@material-ui/core/Fade';\nimport Button from '@material-ui/core/Button';\nimport CloseIcon from '@material-ui/icons/Close';\nimport ShareIcon from '@material-ui/icons/Share';\nimport ZoomInIcon from '@material-ui/icons/Add';\nimport ZoomOutIcon from '@material-ui/icons/Remove';\nimport ZoomResetIcon from '@material-ui/icons/Search';\n\nconst useStyles = makeStyles(theme => ({\n  fill: {\n    flex: 1,\n  },\n  backdrop: {\n    backgroundColor: theme.palette.type === 'light' ? 'rgba(255,255,255,.85)' : 'rgba(0,0,0,.92)',\n  },\n  actions: {\n    position: 'fixed',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    zIndex: 1,\n    top: 0,\n    left: 0,\n    right: 0,\n    height: 56,\n    padding: '0 18px',\n    backgroundColor: theme.palette.type === 'light' ? '#fff' : '#212121',\n    boxShadow: '0 0 1px rgba(0,0,0,.03), 0 0 2px rgba(0,0,0,.08)',\n    [theme.breakpoints.up('sm')]: {\n      height: 64,\n      padding: '0 24px',\n    },\n  },\n  container: {\n    display: 'flex',\n    margin: 0,\n    paddingTop: 56,\n    width: '100%',\n    height: '100%',\n    maxWidth: 'none',\n    maxHeight: 'none',\n    backgroundColor: 'transparent',\n    boxShadow: 'none',\n    userSelect: 'none',\n    outline: 'none',\n    borderRadius: 0,\n    [theme.breakpoints.up('sm')]: {\n      paddingTop: 64,\n    },\n  },\n  content: {\n    display: 'flex',\n    padding: 0,\n  },\n  wrap: {\n    position: 'relative',\n    display: 'flex',\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    overflow: 'hidden',\n    outline: 'none',\n  },\n  loading: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    marginTop: -20,\n    marginLeft: -20,\n  },\n  box: {\n    position: 'relative',\n    opacity: 0,\n    transform: 'scale(.9)',\n    transition: 'transform .15s cubic-bezier(0,0,.2,1), opacity 85ms linear 65ms',\n    '&.ready': {\n      opacity: 1,\n      transform: 'none',\n      transitionDuration: '.18s, 85ms',\n      transitionDelay: '0s, 0s',\n    },\n  },\n  target: {\n    display: 'block',\n    position: 'relative',\n    transition: 'transform .3s cubic-bezier(.4,0,.2,1)',\n    boxShadow: ' 0 2px 6px rgba(0,0,0,.16), 0 1px 4px rgba(0,0,0,.03)',\n    cursor: 'default',\n    '&.drag-enabled': {\n      cursor: 'grab',\n      '&.drag-active': {\n        cursor: 'grabbing',\n        transition: 'none',\n      },\n    },\n  },\n  zoom: {\n    position: 'fixed',\n    display: 'flex',\n    flexWrap: 'nowrap',\n    padding: '0 8px',\n    left: 30,\n    bottom: 32,\n    borderRadius: 22,\n    overflow: 'hidden',\n    backgroundColor: theme.palette.type === 'light' ? '#fff' : '#212121',\n    boxShadow: '0 0 2px rgba(0,0,0,.1), 0 2px 5px rgba(0,0,0,.16)',\n    zIndex: 1,\n  },\n  btn: {\n    padding: 10,\n    minWidth: 44,\n    borderRadius: 0,\n  },\n}));\n\nconst defaultState = {\n  /**\n   * position\n   * ------------------\n   *  x, y => transform\n   * iX,iY => initial transform pos for drag beginning\n   * sX,sY => drag start\n   * mX,mY => drag move\n   */\n  x: 0,\n  y: 0,\n  iX: 0,\n  iY: 0,\n  sX: 0,\n  sY: 0,\n  mX: 0,\n  mY: 0,\n  /**\n   * scale\n   * ------------------------\n   * scale => transform scale\n   */\n  scale: 1,\n  scaleLevel: 1,\n  scaleLevels: [ .68, 1, 1.38, 2, 3.21, 4.96 ],\n  /**\n   * spacings\n   * --------\n   * spacings => initial, between zoomRef and zoomWrapRef\n   * dragSpacings => drag, between zoomRef and zoomWrapRef\n   */\n  spacings: 16,\n  dragSpacings: 50,\n  disabledUp: false,\n  disabledDown: false,\n  disabledReset: true,\n  dragEnabled: false,\n  dragActive: false,\n  isTouch: undefined,\n  ready: false,\n};\n\nconst ImageZoom = (props) => {\n  const { width } = props;\n  const { open, src } = useSelector(({ zoom }) => zoom);\n  const [state, setState] = React.useState(defaultState);\n  const dragIsActive = React.useRef();\n  const zoomWrapRef = React.useRef();\n  const zoomBoxRef = React.useRef();\n  const zoomRef = React.useRef();\n  const dispatch = useDispatch();\n  const classes = useStyles();\n\n  const handleClick = event => {\n    const { target } = event;\n    if (\n      !state.ready\n      || target === zoomWrapRef.current\n      || target === zoomBoxRef.current\n    ) {\n      handleClose();\n    }\n  };\n\n  const handleShare = () => {\n    const url = zoomRef.current.src;\n    dispatch({ type: 'OPEN_SHARE', data: url });\n  };\n\n  const handleClose = React.useCallback(() => {\n    dispatch({ type: 'CLOSE_ZOOM' });\n  }, [dispatch]);\n\n  React.useEffect(() => {\n    return () => open && handleClose();\n  }, [open, handleClose]);\n\n  const setViewport = () => {\n    const viewport = document.head.querySelector('meta[name=\"viewport\"]');\n    const content = viewport.content;\n    const scalable = 'user-scalable=no';\n\n    viewport.content = `${content}, ${scalable}`;\n\n    setState(prevState => ({\n      ...prevState,\n      viewport,\n      content,\n    }));\n  };\n\n  const resetViewport = () => {\n    const { viewport, content } = state;\n    viewport && (viewport.content = content);\n  };\n\n  const zoomExit = () => {\n    resetViewport();\n    setState(defaultState);\n  };\n\n  const zoomInit = () => {\n    if (zoomRef.current.complete) {\n      initState();\n    } else {\n      zoomRef.current.addEventListener('load', initState);\n    }\n  };\n\n  const initState = () => {\n    const { spacings } = defaultState;\n    const isTouch = 'ontouchstart' in window;\n\n    const { naturalWidth, naturalHeight } = zoomRef.current;\n\n    const wrapWidth = zoomWrapRef.current.clientWidth;\n    const wrapHeight = zoomWrapRef.current.clientHeight;\n\n    const maxWidth = wrapWidth - 2 * spacings;\n    const maxHeight = wrapHeight - 2 * spacings;\n\n    let initialHeight = naturalHeight;\n\n    if (naturalWidth > maxWidth) {\n      initialHeight *= maxWidth / naturalWidth;\n    }\n\n    if (initialHeight > maxHeight) {\n      initialHeight = maxHeight;\n    }\n\n    const initialWidth = naturalWidth * initialHeight / naturalHeight;\n\n    setState({\n      ...defaultState,\n      ready: true,\n      isTouch,\n      wrapWidth,\n      wrapHeight,\n      maxWidth,\n      maxHeight,\n      naturalWidth,\n      naturalHeight,\n      initialWidth,\n      initialHeight,\n    });\n  };\n\n  // bind drag events, set viewport\n  React.useEffect(() => {\n    const isTouch = state.isTouch;\n\n    if (typeof isTouch !== 'boolean') {\n      return;\n    }\n\n    const getDragThreshold = options => {\n      const {\n        scale,\n        wrapWidth,\n        wrapHeight,\n        maxWidth,\n        maxHeight,\n        initialWidth,\n        initialHeight,\n      } = options;\n      const { dragSpacings } = defaultState;\n\n      const currentWidth = initialWidth * scale;\n      const currentHeight = initialHeight * scale;\n\n      const tX = currentWidth > maxWidth\n                 ? Math.max(0, (currentWidth - wrapWidth) / 2 + dragSpacings)\n                 : 0;\n      const tY = currentHeight > maxHeight\n                 ? Math.max(0, (currentHeight - wrapHeight) / 2 + dragSpacings)\n                 : 0;\n\n      return { tX, tY };\n    };\n\n    const getTransformPos = options => {\n      const { iX, iY, sX, sY, mX, mY } = options;\n      const { tX, tY } = getDragThreshold(options);\n\n      let x, y;\n\n      x = iX + mX - sX;\n      y = iY + mY - sY;\n\n      x = Math.min(tX, Math.max(-tX, x));\n      y = Math.min(tY, Math.max(-tY, y));\n\n      return { x, y };\n    };\n\n    const getEventPos = event => {\n      const x = isTouch ? event.touches[0].pageX : event.clientX;\n      const y = isTouch ? event.touches[0].pageY : event.clientY;\n\n      return { x, y };\n    };\n\n    const dragStart = event => {\n      event.preventDefault();\n\n      if (!state.dragEnabled) { return; }\n\n      const { x, y } = getEventPos(event);\n\n      setState(prevState => ({\n        ...prevState,\n        sX: x,\n        sY: y,\n        dragActive: true,\n      }));\n    };\n\n    const dragMove = event => {\n      event.preventDefault();\n\n      if (!dragIsActive.current) { return; }\n\n      const { x: mX, y: mY } = getEventPos(event);\n\n      setState(prevState => {\n        const { x, y } = getTransformPos({ ...prevState, mX, mY });\n        return { ...prevState, x, y, mX, mY };\n      });\n    };\n\n    const dragEnd = event => {\n      event.preventDefault();\n\n      if (!dragIsActive.current) { return; }\n\n      setState(prevState => ({\n        ...prevState,\n        iX: prevState.x,\n        iY: prevState.y,\n        dragActive: false,\n      }));\n    };\n\n    const bindEvents = () => {\n      const eStart = isTouch ? 'touchstart' : 'mousedown';\n      const eMove = isTouch ? 'touchmove' : 'mousemove';\n      const eEnd = isTouch ? 'touchend' : 'mouseup';\n      const eCancel = isTouch ? 'touchcancel' : 'mouseleave';\n\n      zoomRef.current.addEventListener(eStart, dragStart);\n      zoomRef.current.addEventListener(eMove, dragMove);\n      zoomRef.current.addEventListener(eEnd, dragEnd);\n      zoomRef.current.addEventListener(eCancel, dragEnd);\n    };\n\n    bindEvents();\n    setViewport();\n  }, [state.isTouch, state.dragEnabled]);\n\n  React.useEffect(() => {\n    dragIsActive.current = state.dragActive;\n  }, [state.dragActive]);\n\n  const handleZoom = action => event => {\n    let { scaleLevel, scaleLevels } = state;\n\n    const baseScaleLevel = 1;\n    const minScaleLevel = 0;\n    const maxScaleLevel = scaleLevels.length - 1;\n\n    switch (action) {\n      case 'up':\n        scaleLevel++;\n        break;\n      case 'down':\n        scaleLevel--;\n        break;\n      case 'reset':\n        scaleLevel = baseScaleLevel;\n        break;\n      default:\n        return;\n    }\n\n    scaleLevel = Math.min(\n      Math.max(scaleLevel, minScaleLevel),\n      maxScaleLevel\n    );\n\n    const scale = scaleLevels[scaleLevel];\n    const disabledUp = scaleLevel === maxScaleLevel;\n    const disabledDown = scaleLevel === minScaleLevel;\n    const disabledReset = scaleLevel === baseScaleLevel;\n\n    setState(prevState => ({\n      ...prevState,\n      x: 0,\n      y: 0,\n      iX: 0,\n      iY: 0,\n      scale,\n      scaleLevel,\n      disabledUp,\n      disabledDown,\n      disabledReset,\n    }));\n  };\n\n  // update drag status\n  React.useEffect(() => {\n    if (!state.ready) {\n      return;\n    }\n\n    const scale = state.scale;\n    const maxWidth = state.maxWidth;\n    const maxHeight = state.maxHeight;\n    const initialWidth = state.initialWidth;\n    const initialHeight = state.initialHeight;\n\n    const currentWidth = initialWidth * scale;\n    const currentHeight = initialHeight * scale;\n\n    const dragEnabled = currentWidth > maxWidth || currentHeight > maxHeight;\n\n    setState(prevState => ({\n      ...prevState,\n      dragEnabled,\n    }));\n  }, [\n    // observed deps\n    state.scale,\n    // other deps\n    state.ready,\n    state.maxWidth, state.maxHeight, state.initialWidth, state.initialHeight,\n  ]);\n\n  // update transform style\n  React.useEffect(() => {\n    if (!Boolean(zoomRef.current)) {\n      return;\n    }\n\n    const transform = `translate(${state.x}px, ${state.y}px) scale(${state.scale})`;\n    zoomRef.current.style.transform = transform;\n  }, [state.x, state.y, state.scale]);\n\n  return (\n    <Dialog\n      open={open}\n      fullWidth\n      maxWidth={false}\n      onClose={handleClose}\n      onEnter={zoomInit}\n      onExited={zoomExit}\n      BackdropProps={{ className: classes.backdrop }}\n      PaperProps={{ className: classes.container }}\n      keepMounted={isWidthDown('xs', width)}\n    >\n      <Grid className={classes.actions}>\n        <Grid className={classes.fill}>\n          <IconButton\n            className={classes.close}\n            onClick={handleClose}\n          >\n            <CloseIcon />\n          </IconButton>\n        </Grid>\n        <IconButton\n          className={classes.share}\n          onClick={handleShare}\n          disabled={!state.ready}\n        >\n          <ShareIcon />\n        </IconButton>\n      </Grid>\n      <DialogContent className={classes.content}>\n        <div\n          ref={zoomWrapRef}\n          className={classes.wrap}\n          onClick={handleClick}\n          onKeyUp={() => {}}\n          role=\"grid\"\n          tabIndex=\"-1\"\n        >\n          <Fade\n            in={!state.ready}\n            className={classes.loading}\n          >\n            <CircularProgress />\n          </Fade>\n          <div\n            ref={zoomBoxRef}\n            className={clsx(classes.box, {\n              'ready': state.ready,\n            })}\n          >\n            <img\n              ref={zoomRef}\n              className={clsx(classes.target, {\n                'drag-enabled': state.dragEnabled,\n                'drag-active': state.dragActive,\n              })}\n              style={{ height: state.initialHeight || 'auto' }}\n              src={src}\n              alt=\"zoom\"\n            />\n          </div>\n        </div>\n        <Grid className={classes.zoom}>\n          <Button\n            className={classes.btn}\n            disabled={state.disabledDown || !state.ready}\n            onClick={handleZoom('down')}\n          >\n            <ZoomOutIcon />\n          </Button>\n          <Button\n            className={classes.btn}\n            disabled={state.disabledReset || !state.ready}\n            onClick={handleZoom('reset')}\n          >\n            <ZoomResetIcon />\n          </Button>\n          <Button\n            className={classes.btn}\n            disabled={state.disabledUp || !state.ready}\n            onClick={handleZoom('up')}\n          >\n            <ZoomInIcon />\n          </Button>\n        </Grid>\n      </DialogContent>\n    </Dialog>\n  );\n};\n\nImageZoom.propTypes = {\n  width: PropTypes.string.isRequired,\n};\n\nexport default withWidth()(ImageZoom);\n","import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport TextField from '@material-ui/core/TextField';\n\nimport copy from 'clipboard-copy';\n\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    margin: 10,\n    width: 'calc(100% - 20px)',\n    maxWidth: process.env.NODE_ENV === 'production' ? 615 : 540,\n  },\n  content: {\n    padding: 24,\n    display: 'flex',\n    flexWrap: 'nowrap',\n    alignItems: 'flex-end',\n  },\n  button: {\n    marginLeft: 16,\n    padding: '4px 10px',\n  },\n}));\n\nconst ShareDialog = () => {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  let { url, open, post } = useSelector(state => state.share);\n\n  const handleCopy = async () => {\n    try {\n      await copy(url);\n    } finally {\n      handleClose();\n    }\n  };\n\n  const getLabel = () => {\n    post = Boolean(post)\n            ? ` - #${post}`\n            : '';\n\n    return `${post}`;\n  };\n\n  const handleClose = React.useCallback(() => {\n    dispatch({ type: 'CLOSE_SHARE' });\n  }, [dispatch]);\n\n  const handleExit = React.useCallback(() => {\n    open && handleClose();\n  }, [open, handleClose]);\n\n  React.useEffect(() => {\n    return () => handleExit();\n  }, [handleExit]);\n\n  return (\n    <Dialog\n      open={open}\n      onClose={handleClose}\n      classes={{\n        paper: classes.paper,\n      }}\n    >\n      <DialogContent className={classes.content}>\n        <TextField\n          inputProps={{ readOnly: true }}\n          label={`${getLabel()}`}\n          value={url}\n          fullWidth\n        />\n        <Button\n          className={classes.button}\n          onClick={handleCopy}\n          variant=\"outlined\"\n          size=\"small\"\n          autoFocus\n        >\n          \n        </Button>\n      </DialogContent>\n    </Dialog>\n  );\n};\n\nexport default ShareDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { useSelector } from 'react-redux';\nimport { useParams, Link } from 'react-router-dom';\nimport {\n  navTabsObject as navTabs,\n  getNewDataUpdate,\n  getNewDataReply,\n} from '../../common';\nimport { get as getData } from '../../fetch';\n\nimport { useTheme } from '@material-ui/core/styles';\nimport withWidth, { isWidthDown } from '@material-ui/core/withWidth';\n\nimport Fade from '@material-ui/core/Fade';\nimport Typography from '@material-ui/core/Typography';\nimport CreateIcon from '@material-ui/icons/Create';\nimport ViewIcon from '@material-ui/icons/LocalLibrary';\nimport TagIcon from '@material-ui/icons/LocalOffer';\n\nimport { AppWrapper } from '../../Layout';\nimport TopicReply from './TopicReply';\nimport { MarkdownRender } from '../../Components/Markdown';\nimport ImageZoom from '../../Components/ImageZoom';\nimport Progress from '../../Components/Progress';\n\nimport Avatar from '../../Components/Avatar';\nimport Editor from '../../Components/Editor';\nimport ActionDial from '../../Components/ActionDial';\nimport ShareDialog from '../../Components/ShareDialog';\nimport Notification from '../../Components/Notification';\nimport Moment from '../../Components/Moment';\nimport './topic.styl';\n\nconst Topic = (props) => {\n  const theme = useTheme();\n  const { topic_id } = useParams();\n  const { accesstoken } = useSelector(state => state.auth);\n\n  const [status, setStatus] = React.useState('loading');\n  const [topic, setTopic] = React.useState({});\n  const [replies, setReplies] = React.useState([]);\n  const [dialTopic, setDialTopic] = React.useState(null);\n  const [message, setMessage] = React.useState(null);\n\n  const isCancel = React.useRef();\n  React.useEffect(() => {\n    isCancel.current = false;\n\n    (async () => {\n      const params = {\n        url: `/topic/${topic_id}`,\n        params: { mdrender: false, accesstoken },\n      };\n\n      const { success, data, err_msg } = await getData(params);\n\n      if (isCancel.current) {\n        return;\n      }\n\n      if (success) {\n        const { replies: reps, ...rest } = data;\n\n        setStatus('success');\n        setTopic({ ...rest });\n        setReplies([ ...reps ]);\n        setDialTopic({\n          uname: rest.author.loginname,\n          is_collect: rest.is_collect,\n          content: rest.content,\n          title: rest.title,\n          tab: rest.tab,\n          topic_id,\n        });\n      } else {\n        setStatus('error');\n        setMessage(err_msg);\n      }\n    })();\n\n    return () => isCancel.current = true;\n  }, [topic_id, accesstoken]);\n\n  const editorData = useSelector(state => state.editor);\n\n  React.useEffect(() => {\n    const newDataReply = getNewDataReply(editorData);\n\n    if (newDataReply) {\n      setReplies(prevState => ([\n        ...prevState,\n        newDataReply,\n      ]));\n    }\n\n    const newDataUpdate = getNewDataUpdate(editorData);\n\n    if (newDataUpdate) {\n      setTopic(prevState => ({\n        ...prevState,\n        ...newDataUpdate,\n      }));\n\n      setDialTopic(prevState => ({\n        ...prevState,\n        uname: newDataUpdate.author.loginname,\n        is_collect: newDataUpdate.is_collect,\n        content: newDataUpdate.content,\n        title: newDataUpdate.title,\n        tab: newDataUpdate.tab,\n      }));\n    }\n  }, [editorData]);\n\n  return (\n    <AppWrapper\n      title={topic.title}\n      bodyAttributes={{\n        class: clsx('topic-view', {\n          'error-tips': status === 'error',\n          'zero-spacings': isWidthDown('xs', props.width),\n        }),\n      }}\n    >\n      <div id=\"container\">\n        <Fade in={Boolean(message)}>\n          <div className=\"wrapper tips error\">\n            {message}\n          </div>\n        </Fade>\n\n        {Boolean(topic.title) &&\n          <div id=\"topic\" className={clsx('wrapper', {\n            'dark': theme.palette.type === 'dark',\n          })}>\n            <div className=\"topic-main\">\n              <Typography variant=\"h5\" className=\"title\">\n                {topic.title}\n              </Typography>\n              <div className=\"topic-attrs-wrap\">\n                <div className=\"topic-attrs\">\n                  <span className=\"attr-author\">\n                    <Avatar\n                      className=\"avatar\"\n                      image={topic.author.avatar_url}\n                      name={topic.author.loginname}\n                    />\n                    <Link to={`/user/${topic.author.loginname}`}>\n                      {topic.author.loginname}\n                    </Link>\n                  </span>\n                  <span className=\"attr-create\">\n                    <CreateIcon />\n                    <Moment fromNow>{topic.create_at}</Moment>\n                  </span>\n                  <span className=\"attr-visit\">\n                    <ViewIcon />\n                    <em>{topic.visit_count}</em>\n                    \n                  </span>\n                  {topic.tab &&\n                    <span className=\"attr-tab\">\n                      <TagIcon />\n                      <span className={topic.tab}>\n                        {navTabs[topic.tab].name}\n                      </span>\n                    </span>\n                  }\n                </div>\n              </div>\n\n              <div className=\"markdown-container\">\n                <MarkdownRender markdownString={topic.content} />\n              </div>\n            </div>\n\n            {Boolean(replies.length) &&\n              <div className=\"topic-replies\">\n                {replies.map((item, index) => (\n                  <TopicReply\n                    topicAuthor={topic.author.loginname}\n                    item={item}\n                    key={item.id}\n                  />\n                ))}\n              </div>\n            }\n          </div>\n        }\n\n        <div className=\"status wrapper\">\n          <Progress className=\"mini\" status={status} />\n        </div>\n      </div>\n\n      <ActionDial topic={dialTopic} />\n      <Editor />\n      <ImageZoom />\n      <ShareDialog />\n      <Notification />\n    </AppWrapper>\n  );\n};\n\nTopic.propTypes = {\n  width: PropTypes.string.isRequired,\n};\n\nexport default withWidth()(Topic);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { useParams } from 'react-router-dom';\nimport { getBingImage, get as getData } from '../../fetch';\n\nimport { makeStyles } from '@material-ui/core';\nimport withWidth, { isWidthUp } from '@material-ui/core/withWidth';\n\nimport SwipeableViews from 'react-swipeable-views';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport Fade from '@material-ui/core/Fade';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Hidden from '@material-ui/core/Hidden';\n\nimport Avatar from '@material-ui/core/Avatar';\nimport PersonIcon from '@material-ui/icons/Person';\nimport SchoolIcon from '@material-ui/icons/School';\nimport AccessTimeIcon from '@material-ui/icons/AccessTime';\n\nimport { AppWrapper } from '../../Layout';\nimport TopiCard from '../../Components/TopiCard';\nimport Progress from '../../Components/Progress';\nimport Moment from '../../Components/Moment';\nimport { GithubIcon } from '../../Components/Icons';\nimport './user.styl';\n\nconst useStyles = makeStyles(theme => ({\n  cover: {\n    backgroundColor: theme.palette.type === 'light' ? 'rgba(83,156,98,.8)' : 'rgba(69,97,74,.8)',\n  },\n  progress: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    height: 3,\n  },\n  colorPrimary: {\n    backgroundColor: theme.palette.type === 'light' ? 'rgba(165,211,247,.8)' : 'rgba(165,211,247,.8)',\n  },\n  barColorPrimary: {\n    backgroundColor: theme.palette.type === 'light' ? '#2698f3' : '#2698f3',\n  },\n  spacings: {\n    marginTop: 30,\n    [theme.breakpoints.down('xs')]: {\n      marginTop: 0,\n    },\n  },\n  tips: {\n    marginTop: 40,\n  },\n  tab: {\n    fontSize: 16,\n  },\n  selected: {\n    color: '#2ac2f9',\n  },\n  indicator: {\n    backgroundColor: '#2ac2f9',\n  },\n}));\n\nconst labelIndex = ['topics', 'replies', 'collections'];\nconst initialState = {\n  topics: {\n    name: '',\n    data: [],\n    show: true,\n  },\n  replies: {\n    name: '',\n    data: [],\n    show: false,\n  },\n  collections: {\n    name: '',\n    data: [],\n    show: false,\n  },\n};\n\nconst User = (props) => {\n  const { uname } = useParams();\n  const isCancel = React.useRef();\n  const bingImgRef = React.useRef();\n  const [bingImage, setBingImage] = React.useState({ complete: false });\n  const [index, setIndex] = React.useState(0);\n  const [status, setStatus] = React.useState('loading');\n  const [message, setMessage] = React.useState(null);\n  const [profile, setProfile] = React.useState({ uname });\n\n  const [state, dispatch] = React.useReducer((prevState, { type, data }) => {\n    switch (type) {\n      case 'SET_TOPICS':\n        return {\n          ...prevState,\n          topics: {\n            ...prevState.topics,\n            ...data,\n          },\n        };\n      case 'SET_REPLIES':\n        return {\n          ...prevState,\n          replies: {\n            ...prevState.replies,\n            ...data,\n          },\n        };\n      case 'SET_COLLECTIONS':\n        return {\n          ...prevState,\n          collections: {\n            ...prevState.collections,\n            ...data,\n          },\n        };\n      case 'RESTORE':\n        return {\n          ...initialState,\n        };\n      default:\n        throw new Error(`Unrecognized type ${type}`);\n    }\n  }, initialState);\n\n  const handleChange = (event, idx) => {\n    setIndex(idx);\n\n    const type = `SET_${labelIndex[idx].toUpperCase()}`;\n    dispatch({ type, data: { show: true } });\n  };\n\n  const handleChangeIndex = idx => {\n    handleChange(null, idx);\n  };\n\n  React.useEffect(() => {\n    if (!Boolean(bingImgRef.current)) {\n      return;\n    }\n\n    const setBingImageLoadComplete = () => {\n      setBingImage(prevState => ({...prevState, complete: true}));\n    };\n\n    if (!!bingImgRef.current.complete) {\n      setBingImageLoadComplete();\n    } else {\n      bingImgRef.current.addEventListener('load', setBingImageLoadComplete);\n    }\n\n    return () => {\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      bingImgRef.current.removeEventListener('load', setBingImageLoadComplete);\n    };\n  }, [bingImage.time]);\n\n\n  React.useEffect(() => {\n    isCancel.current = false;\n\n    setStatus('loading');\n    setProfile({ uname });\n    dispatch({ type: 'RESTORE' });\n    setIndex(0);\n\n    (async () => {\n      const params = {\n        url: `/user/${uname}`,\n        params: { mdrender: false },\n      };\n\n      const { success, data, err_msg } = await getData(params);\n\n      if (isCancel.current) {\n        return;\n      }\n\n      if (success) {\n        const { recent_topics, recent_replies, ...rest } = data;\n\n        setProfile({ ...rest });\n        dispatch({ type: 'SET_TOPICS', data: { data: recent_topics } });\n        dispatch({ type: 'SET_REPLIES', data: { data: recent_replies } });\n        setStatus('success');\n      } else {\n        setStatus('error');\n        setMessage(err_msg);\n      }\n    })();\n\n    (async () => {\n      const params = {\n        url: `/topic_collect/${uname}`,\n        params: { mdrender: false },\n      };\n\n      const { success, data } = await getData(params);\n\n      if (!isCancel.current && success) {\n        dispatch({ type: 'SET_COLLECTIONS', data: { data } });\n      }\n    })();\n\n    setBingImage(prevState => ({...prevState, complete: false}));\n\n    (async () => {\n      const data = await getBingImage();\n\n      if (!isCancel.current) {\n        setBingImage(prevState => ({ ...prevState, ...data }));\n      }\n    })();\n\n    return () => isCancel.current = true;\n  }, [uname]);\n\n  const { width } = props;\n  const classes = useStyles();\n  const swipeableViewsRef = React.useRef();\n\n  return (\n    <AppWrapper\n      title={uname}\n      bodyAttributes={{ class: 'user-view' }}\n    >\n      <div className={clsx('cover blur', classes.cover)}>\n        <div className={clsx('bing-image', {\n          'complete': bingImage.complete,\n        })}>\n          {bingImage.url &&\n            <img\n              ref={bingImgRef}\n              src={bingImage.url}\n              alt=\"background image\"\n              title={bingImage.copyright}\n              aria-hidden\n            />\n          }\n        </div>\n        <Fade in={!bingImage.complete}>\n          <LinearProgress\n            className={classes.progress}\n            classes={{\n              colorPrimary: classes.colorPrimary,\n              barColorPrimary: classes.barColorPrimary,\n            }}\n          />\n        </Fade>\n\n        {profile.loginname &&\n          <div className=\"user wrapper\">\n            <Avatar id=\"avatar\" aria-label=\"Recipe\">\n              <img src={profile.avatar_url} alt={profile.loginname} />\n            </Avatar>\n            <div className=\"items\">\n              <Hidden xsDown>\n                <div>\n                  <div className=\"item name\">\n                    <PersonIcon />\n                    {profile.loginname}\n                  </div>\n                  <div className=\"item create\">\n                    <AccessTimeIcon />\n                    <Moment format=\"YYYY-MM-DD HH:mm:ss\">\n                      {profile.create_at}\n                    </Moment>\n                  </div>\n                </div>\n                <div>\n                  {profile.githubUsername &&\n                    <div className=\"item github\">\n                      {GithubIcon}\n                      <a\n                        target=\"_blank\"\n                        href={`https://github.com/${profile.githubUsername}`}\n                      >\n                        {profile.githubUsername}\n                      </a>\n                    </div>\n                  }\n                  <div className=\"item score\">\n                    <SchoolIcon />\n                    {profile.score}\n                  </div>\n                </div>\n              </Hidden>\n              <Hidden smUp>\n                <div>\n                  {profile.githubUsername &&\n                    <div className=\"item github\">\n                      {GithubIcon}\n                      <a\n                        target=\"_blank\"\n                        href={`https://github.com/${profile.githubUsername}`}\n                      >\n                        {profile.githubUsername}\n                      </a>\n                    </div>\n                  }\n                </div>\n                <div>\n                  <div className=\"item create\">\n                    <AccessTimeIcon />\n                    <Moment format=\"YYYY-MM-DD HH:mm:ss\">\n                      {profile.create_at}\n                    </Moment>\n                  </div>\n                </div>\n              </Hidden>\n            </div>\n          </div>\n        }\n      </div>\n\n      <div className={clsx('tab-list', classes.spacings)}>\n        <div className=\"wrapper\">\n          <Tabs\n            classes={{\n              indicator: classes.indicator,\n            }}\n            value={index}\n            onChange={handleChange}\n            centered\n            {\n              ...!isWidthUp('md', width)\n              ? { variant: 'fullWidth' }\n              : {}\n            }\n          >\n            {Object.keys(state).map(key => (\n              <Tab\n                classes={{\n                  root: classes.tab,\n                  selected: classes.selected,\n                }}\n                label={state[key].name}\n                key={state[key].name}\n                disabled={status !== 'success'}\n              />\n            ))}\n          </Tabs>\n        </div>\n      </div>\n\n      <Fade in={Boolean(message)}>\n        <div className={clsx('tips error', {\n          [classes.tips]: Boolean(message),\n        })}>\n          {message}\n        </div>\n      </Fade>\n\n      <div className=\"recent wrapper\">\n        <SwipeableViews\n          index={index}\n          onChangeIndex={handleChangeIndex}\n          enableMouseEvents\n          animateHeight\n          slideStyle={{ overflow: 'hidden' }}\n          ref={swipeableViewsRef}\n        >\n          {Object.keys(state).map(key => (\n            <div className={`r-${key}`} key={key}>\n              <SwipeableViewsTab\n                data={state[key].data}\n                show={state[key].show}\n                ref={swipeableViewsRef}\n              />\n            </div>\n          ))}\n        </SwipeableViews>\n      </div>\n\n      <div className=\"status wrapper\">\n        <Progress className=\"mini\" status={status} />\n      </div>\n    </AppWrapper>\n  );\n};\n\nUser.propTypes = {\n  width: PropTypes.string.isRequired,\n};\n\nexport default withWidth()(User);\n\nconst SwipeableViewsTab = React.forwardRef((props, ref) => {\n  const { data, show } = props;\n  const timer = React.useRef();\n\n  React.useEffect(() => {\n    if (!show) {\n      return;\n    }\n\n    clearTimeout(timer.current);\n\n    timer.current = setTimeout(() => {\n      ref\n        .current\n        .getChildContext()\n        .swipeableViews\n        .slideUpdateHeight();\n    }, 0 * 1e3);\n\n    return () => clearTimeout(timer.current);\n  }, [ref, show, data]);\n\n  return (show && data.map(item => (\n    <TopiCard className=\"profile\" item={item} simple key={item.id} />\n  )));\n});\n\nSwipeableViewsTab.propTypes = {\n  data: PropTypes.array.isRequired,\n  show: PropTypes.bool.isRequired,\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => React.createElement(\"svg\", _extends({\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 1440 810\",\n  preserveAspectRatio: \"xMinYMin slice\",\n  \"aria-hidden\": \"true\"\n}, props), React.createElement(\"path\", {\n  id: \"cell-4\",\n  fill: \"#efefee\",\n  d: \"M592.66 0c-15 64.092-30.7 125.285-46.598 183.777C634.056 325.56 748.348 550.932 819.642 809.5h419.672C1184.518 593.727 1083.124 290.064 902.637 0H592.66z\"\n}), React.createElement(\"path\", {\n  id: \"cell-5\",\n  fill: \"#f6f6f6\",\n  d: \"M545.962 183.777c-53.796 196.576-111.592 361.156-163.49 490.74 11.7 44.494 22.8 89.49 33.1 134.883h404.07c-71.294-258.468-185.586-483.84-273.68-625.623z\"\n}), React.createElement(\"path\", {\n  id: \"cell-6\",\n  fill: \"#f7f7f7\",\n  d: \"M153.89 0c74.094 180.678 161.088 417.448 228.483 674.517C449.67 506.337 527.063 279.465 592.56 0H153.89z\"\n}), React.createElement(\"path\", {\n  id: \"cell-7\",\n  fill: \"#fbfbfc\",\n  d: \"M153.89 0H0v809.5h415.57C345.477 500.938 240.884 211.874 153.89 0z\"\n}), React.createElement(\"path\", {\n  id: \"cell-3\",\n  fill: \"#ebebec\",\n  d: \"M1144.22 501.538c52.596-134.583 101.492-290.964 134.09-463.343 1.2-6.1 2.3-12.298 3.4-18.497 0-.2.1-.4.1-.6 1.1-6.3 2.3-12.7 3.4-19.098H902.536c105.293 169.28 183.688 343.158 241.684 501.638v-.1z\"\n}), React.createElement(\"path\", {\n  id: \"cell-1\",\n  fill: \"#e1e1e1\",\n  d: \"M1285.31 0a2161.05 2161.05 0 01-6.9 38.195C1321.507 86.39 1379.603 158.98 1440 257.168V0h-154.69z\"\n}), React.createElement(\"path\", {\n  id: \"cell-2\",\n  fill: \"#e7e7e7\",\n  d: \"M1278.31 38.196c-32.5 171.678-81.09 327.36-133.49 461.642v3.8c41 112.286 71.59 216.573 94.29 305.962l200.59.4V256.768c-60.3-97.988-118.29-170.48-161.39-218.573v.001z\"\n})));","import React from 'react';\nimport clsx from 'clsx';\nimport { useHistory } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { validateUUID } from '../../common';\nimport { post } from '../../fetch';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Avatar from '@material-ui/core/Avatar';\nimport Collapse from '@material-ui/core/Collapse';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\n\nimport { AppWrapper } from '../../Layout';\nimport Logo from '../../Components/Logo';\nimport Notification from '../../Components/Notification';\nimport SigninSvg from '../../static/google_signin.svg';\nimport './signin.styl';\n\nconst useStyles = makeStyles(theme => ({\n  svg: theme.palette.type === 'light' ? {} : {\n    '& #cell-1': { fill: '#0d0d0c' },\n    '& #cell-2': { fill: '#141413' },\n    '& #cell-3': { fill: '#181817' },\n    '& #cell-4': { fill: '#1c1d1c' },\n    '& #cell-5': { fill: '#222322' },\n    '& #cell-6': { fill: '#232423' },\n    '& #cell-7': { fill: '#272727' },\n  },\n  root: {\n    '&.success': {\n      '& label': {\n        color: '#508028',\n      },\n      '& .MuiInput-underline': {\n        '&:hover:before': {\n          borderBottomColor: theme.palette.type === 'light' ? 'rgba(128,189,1,.87)' : 'rgba(108,168,3,.87)',\n        },\n        '&:before': {\n          borderBottomColor: theme.palette.type === 'light' ? '#56b700' : '#519217',\n        },\n        '&:after': {\n          borderBottomColor: theme.palette.type === 'light' ? '#80bd01' : '#519217',\n        },\n      },\n    },\n    '&.error': {\n      '& label': {\n        color: theme.palette.type === 'light' ? '#f44336' : '#b92c22',\n      },\n      '& .MuiInput-underline': {\n        '&:after': {\n          borderBottomColor: theme.palette.type === 'light' ? '#f44336' : '#b92c22',\n        },\n      },\n    },\n    '&.focus': {\n      '& label': {\n        color: '#46483e',\n      },\n      '& .MuiInput-underline': {\n        '&:after': {\n          borderBottomColor: '#46483e',\n        },\n      },\n    },\n    '& .MuiInput-underline': {\n      '&:hover:before': {\n        borderBottomWidth: 1,\n        borderBottomColor: 'rgba(70,72,69,.8)',\n      },\n      '&:after': {\n        borderBottomColor: 'rgba(70,72,69,.8)',\n      },\n    },\n  },\n}));\n\nconst Signin = () => {\n  const classes = useStyles();\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const isCancel = React.useRef();\n  const { isAuthed, ...authRest } = useSelector(state => state.auth);\n\n  const [state, setState] = React.useState({\n    status: isAuthed ? 'success' : 'idle',\n    focus: isAuthed === false,\n    isUUID: isAuthed === true,\n    diff: isAuthed === false,\n    ...authRest,\n    isAuthed,\n  });\n\n  const handleChange = name => event => {\n    const value = event.target.value.trim();\n    const { accesstoken } = authRest;\n    const condition = value === accesstoken;\n\n    setState(prevState => ({\n      ...prevState,\n      status: condition ? 'success' : 'idle',\n      [name]: value,\n      isUUID: validateUUID(value),\n      diff: condition === false,\n    }));\n  };\n\n  const handleOnFocus = () => {\n    setState(prevState => ({ ...prevState, focus: true }));\n  };\n\n  const handleOnBlur = () => {\n    setState(prevState => ({ ...prevState, focus: false }));\n  };\n\n  const handleClick = () => {\n    if (history.length > 1) {\n      history.goBack();\n    } else {\n      history.push('/');\n    }\n  };\n\n  const validateUser = async () => {\n    const { accesstoken } = state;\n    const params = {\n      url: '/accesstoken',\n      params: { accesstoken },\n    };\n\n    const { success, data, err_msg } = await post(params);\n\n    if (isCancel.current) {\n      return;\n    }\n\n    if (success) {\n      const auth = {\n        isAuthed: true,\n        accesstoken,\n        avatar: data.avatar_url,\n        uname: data.loginname,\n        uid: data.id,\n      };\n\n      dispatch({ type: 'UPDATE_AUTH', data: auth });\n\n      setState(prevState => ({\n        ...prevState,\n        status: 'success',\n        diff: false,\n        ...auth,\n      }));\n    } else {\n      setState(prevState => ({ ...prevState, status: 'error' }));\n\n      if (err_msg) {\n        dispatch({\n          type: 'OPEN_NOTIFICATION',\n          data: {\n            message: err_msg,\n            status: 'error',\n          },\n        });\n      }\n    }\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    const { isUUID, diff } = state;\n\n    if (isUUID && diff) {\n      isCancel.current = false;\n\n      validateUser();\n    }\n  };\n\n  React.useEffect(() => {\n    return () => isCancel.current = true;\n  }, []);\n\n  return (\n    <AppWrapper\n      title=\"\"\n      withHeader={false}\n      htmlAttributes={{ id: 'signin' }}\n    >\n      <div className=\"container flex\">\n        <SigninSvg className={`${classes.svg} bg`} />\n\n        <div className=\"flex area top\" />\n        <div className=\"flex area mid\">\n          <div className=\"logo\">\n            <Logo color=\"dark\" />\n          </div>\n\n          <Collapse in={state.isAuthed}>\n            {state.isAuthed &&\n              <div className={clsx('auth-user', {\n                'show': state.isAuthed,\n                'diff': state.diff,\n              })}>\n                <div className=\"avatar\">\n                  <Avatar className=\"item\" alt={state.uname} src={state.avatar} />\n                </div>\n                <Typography className=\"name\">\n                  <span className=\"item\">{state.uname}</span>\n                </Typography>\n              </div>\n            }\n          </Collapse>\n\n          <form\n            noValidate\n            autoComplete=\"off\"\n            onSubmit={handleSubmit}\n          >\n            <TextField\n              fullWidth\n              id=\"accesstoken\"\n              label=\"Access Token\"\n              margin=\"normal\"\n              spellCheck=\"false\"\n              autoFocus={!state.isAuthed}\n              error={state.status === 'error'}\n              className={clsx(classes.root, state.status, {\n                'focus': state.focus,\n              })}\n              onChange={handleChange('accesstoken')}\n              value={state.accesstoken || ''}\n              onFocus={handleOnFocus}\n              onBlur={handleOnBlur}\n            />\n            <div className=\"btn\">\n              <Button\n                variant=\"outlined\"\n                {\n                  ...\n                  state.diff\n                  ? {\n                    type: 'submit',\n                    disabled: !state.isUUID,\n                  } : {\n                    onClick: handleClick,\n                    autoFocus: state.isAuthed,\n                  }\n                }\n              >\n                {state.diff ? '' : ''}\n              </Button>\n            </div>\n          </form>\n        </div>\n        <div className=\"flex area bot\" />\n      </div>\n\n      <Notification />\n    </AppWrapper>\n  );\n};\n\nexport default Signin;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { post } from '../../fetch';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport ExpansionPanelActions from '@material-ui/core/ExpansionPanelActions';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport Divider from '@material-ui/core/Divider';\n\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport AtIcon from '@material-ui/icons/AlternateEmail';\nimport ReplyIcon from '@material-ui/icons/Reply';\nimport NewTabIcon from '@material-ui/icons/OpenInNew';\n\nimport Avatar from '../../Components/Avatar';\nimport Moment from '../../Components/Moment';\nimport { MarkdownRender } from '../../Components/Markdown';\n\nconst useStyles = makeStyles(theme => ({\n  unRead: {\n    boxShadow: '0 1px 2px 0 rgba(245,0,87,.16),0 1px 1px 0 rgba(245,0,87,.12),0 2px 1px -1px rgba(245,0,87,.1)',\n    '&:before': {\n      backgroundColor: 'rgba(245,0,87,.12)',\n    },\n  },\n  summary: {\n    '@media (max-width: 768px)': {\n      paddingLeft: 20,\n      paddingRight: 20,\n    },\n    '@media (max-width: 600px)': {\n      paddingLeft: 16,\n      paddingRight: 16,\n    },\n    '@media (max-width: 420px)': {\n      paddingLeft: 14,\n      paddingRight: 14,\n    },\n  },\n  content: {\n    maxWidth: '100%',\n    minWidth: 0,\n  },\n  moreUnRead: {\n    color: 'rgba(245,0,87,.7)',\n  },\n  avatar: {\n    marginRight: 10,\n  },\n  title: {\n    fontSize: 16,\n    lineHeight: '1.5em',\n  },\n  uname: {\n    display: 'block',\n    fontWeight: 700,\n  },\n  time: {\n    paddingLeft: 10,\n    '& time': {\n      marginLeft: 3,\n    },\n    '& div': {\n      display: 'flex',\n      alignItems: 'center',\n    },\n  },\n  sizeAt: {\n    fontSize: 18,\n    transform: 'translateY(-1px)',\n  },\n  sizeReply: {\n    fontSize: 20,\n    transform: 'translateY(-1.5px)',\n  },\n  gray: {\n    color: theme.palette.type === 'light' ? 'rgba(0,0,0,.5)' : 'rgba(130,130,130,.5)',\n  },\n  actions: {\n    paddingLeft: 14,\n    paddingRight: 14,\n    '@media (max-width: 600px)': {\n      paddingTop: 12,\n      paddingBottom: 12,\n    },\n    '@media (max-width: 420px)': {\n      paddingLeft: 12,\n      paddingRight: 12,\n    },\n  },\n  btn: {\n    padding: '6px 10px',\n  },\n  icon: {\n    marginLeft: 2,\n    fontSize: 14,\n  },\n}));\n\nconst MessageCard = (props) => {\n  const [state, setState] = React.useState({ ...props.item });\n  const { accesstoken } = useSelector(({ auth }) => auth);\n  const disptach = useDispatch();\n  const isCancel = React.useRef(false);\n\n  React.useEffect(() => {\n    return () => isCancel.current = true;\n  }, []);\n\n  const markMessage = async () => {\n    const params = {\n      url: `/message/mark_one/${state.id}`,\n      params: { accesstoken },\n    };\n\n    const { success } = await post(params);\n\n    if (!isCancel.current && success) {\n      disptach({ type: 'READ_MESSAGE' });\n      setState(prevState => ({ ...prevState, has_read: true }));\n    }\n  };\n\n  const handleChange = (event, expanded) => {\n    if (!state.has_read) {\n      markMessage();\n    }\n  };\n\n  const classes = useStyles();\n  const { hasRead } = props;\n\n  return (\n    <ExpansionPanel\n      className={clsx({\n        [classes.unRead]: !state.has_read && !hasRead,\n      })}\n      onChange={handleChange}\n    >\n      <ExpansionPanelSummary\n        classes={{\n          root: classes.summary,\n          content: classes.content,\n          expandIcon: clsx({\n            [classes.moreUnRead]: !state.has_read && !hasRead,\n          }),\n        }}\n        expandIcon={<ExpandMoreIcon />}\n      >\n        <Grid container wrap=\"nowrap\" alignItems=\"center\">\n          <Grid item className={classes.avatar}>\n            <Avatar\n              name={state.author.loginname}\n              image={state.author.avatar_url}\n            />\n          </Grid>\n          <Grid container item zeroMinWidth wrap=\"wrap\" alignItems=\"center\">\n            <Grid container item zeroMinWidth wrap=\"wrap\" alignItems=\"center\">\n              <Typography noWrap component=\"h4\" className={classes.title}>\n                {state.topic.title}\n              </Typography>\n            </Grid>\n            <Grid container item zeroMinWidth wrap=\"nowrap\" alignItems=\"center\">\n              <Grid item zeroMinWidth>\n                <Typography noWrap component=\"span\" className={clsx(classes.uname, classes.gray)}>\n                  {state.author.loginname}\n                </Typography>\n              </Grid>\n              <Grid item className={classes.time}>\n                <Typography noWrap component=\"div\" className={classes.gray}>\n                  {state.type === 'reply' ? (\n                    <ReplyIcon className={classes.sizeReply} />\n                  ) : (\n                    <AtIcon className={classes.sizeAt} />\n                  )}\n                  <Moment fromNow>{state.reply.create_at}</Moment>\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </ExpansionPanelSummary>\n      <ExpansionPanelDetails>\n        <MarkdownRender markdownString={state.reply.content} />\n      </ExpansionPanelDetails>\n      <Divider />\n      <ExpansionPanelActions className={classes.actions}>\n        <Button\n          component={Link}\n          className={classes.btn}\n          to={`/user/${state.author.loginname}`}\n          target=\"_blank\"\n          size=\"medium\"\n        >\n          \n          <NewTabIcon className={classes.icon} />\n        </Button>\n        <Button\n          component={Link}\n          className={classes.btn}\n          to={`/topic/${state.topic.id}#${state.reply.id}`}\n          target=\"_blank\"\n          size=\"medium\"\n          color=\"primary\"\n        >\n          \n          <NewTabIcon className={classes.icon} />\n        </Button>\n      </ExpansionPanelActions>\n    </ExpansionPanel>\n  );\n};\n\nMessageCard.propTypes = {\n  item: PropTypes.object.isRequired,\n  hasRead: PropTypes.bool.isRequired,\n};\n\nexport default MessageCard;\n","import React from 'react';\nimport clsx from 'clsx';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport {\n  get as getData,\n  post,\n} from '../../fetch';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Fade from '@material-ui/core/Fade';\nimport Grid from '@material-ui/core/Grid';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport IconButton from '@material-ui/core/IconButton';\nimport MarkAllIcon from '@material-ui/icons/DoneAll';\n\nimport { AppWrapper } from '../../Layout';\nimport MessageCard from './MessageCard';\nimport Progress from '../../Components/Progress';\n\nconst useStyles = makeStyles(theme => ({\n  spacings: {\n    marginTop: 40,\n    marginBottom: 10,\n    padding: '0 7px',\n    '@media (max-width: 768px)': {\n      marginTop: 30,\n      marginBottom: 8,\n    },\n    '@media (max-width: 600px)': {\n      marginTop: 20,\n      marginBottom: 4,\n    },\n  },\n  text: {\n    position: 'relative',\n    flex: 1,\n    marginRight: 8,\n    fontSize: 14,\n    color: theme.palette.type === 'light' ? 'rgba(0,0,0,.6)' : 'rgba(190,190,190,.6)',\n    pointerEvents: 'none',\n    transition: 'opacity .15s cubic-bezier(.4,0,.2,1)',\n    '@media (max-width: 600px)': {\n      marginRight: 4,\n    },\n    '& span': {\n      position: 'absolute',\n      top: -9,\n      right: 0,\n      whiteSpace: 'nowrap',\n    },\n  },\n  opacity: {\n    opacity: .6,\n  },\n  error: {\n    color: theme.palette.secondary.main,\n  },\n}));\n\nconst Message = () => {\n  const [items, setItems] = React.useState([]);\n  const [state, setState] = React.useState({\n    status: 'loading',\n    err_msg: '',\n  });\n  const { isAuthed, accesstoken, message } = useSelector(s => ({\n    ...s.auth,\n    message: { ...s.message },\n  }));\n  const isCancel = React.useRef(false);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const classes = useStyles();\n\n  const markAllMessage = () => {\n    items.map(item => item.has_read = true);\n    setItems(items);\n  };\n\n  const handleMarkAllMessage = async () => {\n    isCancel.current = false;\n\n    const params = {\n      url: '/message/mark_all',\n      params: { accesstoken },\n    };\n\n    const { success } = await post(params);\n\n    if (!isCancel.current && success) {\n      markAllMessage();\n      dispatch({ type: 'READ_ALL_MESSAGE' });\n    }\n  };\n\n  React.useEffect(() => {\n    if (!Boolean(accesstoken)) {\n      return;\n    }\n\n    (async () => {\n      const params = {\n        url: '/messages',\n        params: {\n          accesstoken,\n          mdrender: false,\n        },\n      };\n\n      const {\n        success,\n        data: {\n          hasnot_read_messages: unRead = [],\n          has_read_messages: hasRead = [],\n        },\n        err_msg,\n      } = await getData(params);\n\n      if (isCancel.current) {\n        return;\n      }\n\n      if (success) {\n        dispatch({ type: 'UPDATE_MESSAGE', data: unRead.length });\n\n        setState({ status: 'success' });\n        setItems([ ...unRead, ...hasRead ]);\n      } else {\n        setState(prevState => ({\n          status: 'error',\n          err_msg: err_msg ? err_msg : prevState.err_msg,\n        }));\n      }\n    })();\n\n    return () => isCancel.current = true;\n  }, [accesstoken, dispatch]);\n\n  React.useEffect(() => {\n    if (!isAuthed) {\n      history.push('/');\n    }\n  }, [isAuthed, history]);\n\n  return (\n    <AppWrapper title=\"\">\n      <div className=\"wrapper\">\n        <Grid container alignItems=\"center\" justify=\"flex-end\" className={classes.spacings}>\n          <Grid item className={clsx(classes.text, {\n            [classes.opacity]: state.status !== 'success' || message.count === 0,\n            [classes.error]: state.status === 'error',\n          })}>\n            <Fade unmountOnExit in={state.status === 'loading'}>\n              <span></span>\n            </Fade>\n            <Fade unmountOnExit in={state.status === 'error'}>\n              <span>{state.err_msg}</span>\n            </Fade>\n            <Fade unmountOnExit in={state.status === 'success' && !Boolean(items.length)}>\n              <span></span>\n            </Fade>\n            <Fade unmountOnExit in={state.status === 'success' && Boolean(items.length) && !Boolean(message.count)}>\n              <span></span>\n            </Fade>\n            <Fade unmountOnExit in={state.status === 'success' && Boolean(message.count)}>\n              <span>{message.count} </span>\n            </Fade>\n          </Grid>\n          <Tooltip\n            title=\"\"\n            enterDelay={500}\n            placement=\"left-start\"\n            disableTouchListener\n          >\n            <span>\n            <IconButton\n              onClick={handleMarkAllMessage}\n              disabled={state.status !== 'success' || message.count === 0}\n              disableRipple\n            >\n              <MarkAllIcon />\n            </IconButton>\n            </span>\n          </Tooltip>\n        </Grid>\n\n        {items.map(item => (\n          <MessageCard key={item.id} item={item} hasRead={item.has_read} />\n        ))}\n      </div>\n\n      <div className=\"status wrapper\">\n        <Progress status={state.status} />\n      </div>\n    </AppWrapper>\n  );\n};\n\nexport default Message;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport { useTheme, makeStyles } from '@material-ui/core/styles';\nimport withWidth, { isWidthDown } from '@material-ui/core/withWidth';\n\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport Button from '@material-ui/core/Button';\nimport Switch from '@material-ui/core/Switch';\nimport Paper from '@material-ui/core/Paper';\nimport Slider from '@material-ui/core/Slider';\n\nimport Brightness4Icon from '@material-ui/icons/Brightness4';\nimport Brightness7Icon from '@material-ui/icons/Brightness7';\n\nimport { AppWrapper } from '../../Layout';\nimport './settings.styl';\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    marginTop: 30,\n    marginBottom: 14,\n    paddingLeft: 1,\n    paddingRight: 1,\n    fontSize: 15,\n  },\n  mark: {\n    backgroundColor: 'transparent',\n  },\n}));\n\nconst Settings = (props) => {\n  const theme = useTheme();\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const {\n    auth: { isAuthed },\n    settings,\n  } = useSelector(state => state);\n\n  const handleToggleThemeMode = () => {\n    const themeMode = theme.palette.type === 'light' ? 'dark' : 'light';\n    dispatch({\n      type: 'UPDATE_SETTINGS',\n      data: { ...settings, themeMode },\n    });\n  };\n\n  const handleChangeAutoFollow = () => {\n    const autoFollow = !settings.autoFollow;\n    dispatch({\n      type: 'UPDATE_SETTINGS',\n      data: { ...settings, autoFollow },\n    });\n  };\n\n  const handleCardPreview = () => {\n    dispatch({\n      type: 'UPDATE_SETTINGS',\n      data: {\n        ...settings,\n        cardPreview: !settings.cardPreview,\n      },\n    });\n  };\n\n  const handleChangeTime = (event, value) => {\n    dispatch({\n      type: 'UPDATE_SETTINGS',\n      data: {\n        ...settings,\n        time: value * 60,\n      },\n    });\n  };\n\n  const handleRestoreSettings = () => {\n    dispatch({ type: 'RESTORE_SETTINGS' });\n  };\n\n  return (\n    <AppWrapper title=\"\">\n      <div id=\"settings\" className=\"wrapper\">\n        <Typography className={classes.title}></Typography>\n        <Paper>\n          <div className=\"setting\">\n            <div className=\"setting-label\"></div>\n            <IconButton\n              color=\"inherit\"\n              onClick={handleToggleThemeMode}\n              disabled={settings.autoFollow}\n            >\n              {settings.themeMode === 'light' ? <Brightness4Icon /> : <Brightness7Icon />}\n            </IconButton>\n          </div>\n          <div className=\"setting\">\n            <div className=\"setting-label\"></div>\n            <Switch\n              className=\"switch\"\n              checked={settings.autoFollow}\n              onChange={handleChangeAutoFollow}\n              color=\"primary\"\n            />\n          </div>\n        </Paper>\n\n        <Typography className={classes.title}></Typography>\n        <Paper>\n          <div className=\"setting\">\n            <div className=\"setting-label\"></div>\n            <Switch\n              className=\"switch\"\n              checked={settings.cardPreview}\n              onChange={handleCardPreview}\n              color=\"primary\"\n            />\n          </div>\n        </Paper>\n\n        <Typography className={classes.title}></Typography>\n        <Paper>\n          <div\n            className={clsx('setting', {\n              'nano': isWidthDown('xs', props.width),\n            })}\n          >\n            <div className=\"setting-label\"></div>\n            <div className=\"setting-wrapper\">\n              <Slider\n                disabled={!isAuthed}\n                min={0}\n                max={10}\n                step={null}\n                value={settings.time / 60}\n                marks={[\n                  { value: 0, label: '' },\n                  { value: 1, label: '1' },\n                  { value: 3, label: '3' },\n                  { value: 5, label: '5' },\n                  { value: 10, label: '10' },\n                ]}\n                onChange={handleChangeTime}\n                classes={{\n                  mark: classes.mark,\n                  markActive: classes.mark,\n                }}\n              />\n            </div>\n          </div>\n        </Paper>\n\n        <Typography className={classes.title}></Typography>\n        <Paper>\n          <div className=\"setting\">\n            <div className=\"setting-label\"></div>\n            <Button\n              onClick={handleRestoreSettings}\n              variant=\"outlined\"\n            >\n              \n            </Button>\n          </div>\n        </Paper>\n      </div>\n    </AppWrapper>\n  );\n};\n\nSettings.propTypes = {\n  width: PropTypes.string.isRequired,\n};\n\nexport default withWidth()(Settings);\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => React.createElement(\"svg\", _extends({\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 512 512\"\n}, props), React.createElement(\"path\", {\n  d: \"M369.5 32H142.4C81.5 32 32 82.6 32 144.6v222.8c0 62 49.5 112.6 110.4 112.6h227.2c60.9 0 110.5-50.6 110.5-112.6V144.6C480 82.6 430.5 32 369.5 32zM175 251v.7c0 10.9-9.1 20.4-19.9 20.4h-23.3c-10.8 0-19.9-9.5-19.9-20.4V148.1c1-10.8 9.2-20.2 19.9-20.2h23.3c10.9 0 19.9 9.8 19.9 20.8V251zm122 147.4c0 11.4-8.9 17.6-20.1 17.6h-41.8c-11.2 0-20.1-8.1-20.1-19.6v-29.3c0-23.3 18.1-42.3 41-42.3s41 19 41 42.3v31.3zM400 251v.7c0 10.9-9.1 20.4-19.9 20.4h-24.3c-10.8 0-19.9-9.5-19.9-20.4V148.1c1-10.8 9.2-20.2 19.9-20.2h24.3c10.8 0 19.9 9.8 19.9 20.8V251z\"\n})));","import React from 'react';\nimport clsx from 'clsx';\nimport { useHistory } from 'react-router-dom';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\n\nimport { AppWrapper } from '../../Layout';\nimport MdOutletIcon from '../../static/ionicons_md_outlet.svg';\n\nconst useStyles = makeStyles(theme => ({\n  main: {\n    paddingTop: 120,\n    flexDirection: 'column',\n    [theme.breakpoints.down('sm')]: {\n      position: 'fixed',\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0,\n      padding: 0,\n      overflow: 'hidden',\n    },\n  },\n  center: {\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  wrapper: {\n    flexDirection: 'row',\n    marginBottom: 40,\n    [theme.breakpoints.down('sm')]: {\n      flexDirection: 'column',\n      marginBottom: 62,\n      marginTop: -32,\n    },\n  },\n  h1: {\n    marginRight: 45,\n    paddingRight: 45,\n    fontSize: 80,\n    borderRight: '3px solid #7b7b7b',\n    [theme.breakpoints.down('sm')]: {\n      marginRight: 0,\n      marginBottom: 32,\n      paddingRight: 0,\n      border: 'none',\n    },\n  },\n  p: {\n    fontSize: 20,\n    textAlign: 'left',\n    flexDirection: 'column',\n  },\n  icon: {\n    width: '1em',\n    height: '1em',\n    fontSize: 60,\n    fill: theme.palette.text.primary,\n  },\n  button: {\n    paddingTop: 10,\n    paddingBottom: 10,\n    [theme.breakpoints.down('sm')]: {\n      marginBottom: 32,\n    },\n  },\n}));\n\nconst NotFound = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const handleBackToHome = () => {\n    history.push('/');\n  };\n\n  return (\n    <AppWrapper title=\"404\" withHeader={false}>\n      <div className={clsx(\n        'flex',\n        classes.main,\n        classes.center,\n      )}>\n        <div className={clsx(\n          'flex',\n          classes.wrapper,\n          classes.center,\n        )}>\n          <h1 className={classes.h1}>404</h1>\n          <p className={clsx(\n            'flex',\n            classes.p,\n            classes.center,\n          )}>\n            <MdOutletIcon className={classes.icon} />\n            <span>Page not Found</span>\n          </p>\n        </div>\n        <Button\n          className={classes.button}\n          variant=\"outlined\"\n          onClick={handleBackToHome}\n        >\n          Back to Home\n        </Button>\n      </div>\n    </AppWrapper>\n  );\n};\n\nexport default NotFound;\n","import React from 'react';\nimport {\n  BrowserRouter,\n  Route,\n  Switch,\n  Redirect,\n} from 'react-router-dom';\n\nimport { Provider, useSelector } from 'react-redux';\nimport store from './store';\n\nimport ThemeProvider from './Components/Theme';\nimport ScrollToTop from './Components/ScrollToTop';\nimport Loadding from './Components/Loadding';\n\nimport { AppFrame } from './Layout';\nimport Home from './Views/Home';\nimport Topic from './Views/Topic';\nimport User from './Views/User';\nimport Signin from './Views/Signin';\nimport Message from './Views/Message';\nimport Settings from './Views/Settings';\nimport NotFound from './Views/404';\n\nlet Test = NotFound;\n\nif (process.env.NODE_ENV === 'development') {\n  Test = React.lazy(() => import('./Views/Test'));\n}\n\nconst PrivateRoute = ({ component: Component, ...rest }) => {\n  const { isAuthed } = useSelector(({ auth }) => auth);\n\n  return (\n    <Route\n      {...rest}\n      render={props => (\n        isAuthed ? (\n          <Component {...props} />\n        ) : (\n          <Redirect to=\"/\" />\n        )\n      )}\n    />\n  );\n};\n\nconst App = () => {\n  return (\n    <Provider store={store}>\n      <ThemeProvider>\n        <BrowserRouter basename={process.env.PUBLIC_URL}>\n          <AppFrame>\n            <ScrollToTop />\n            <React.Suspense fallback={<Loadding />}>\n              <Switch>\n                <Route exact path=\"/\" component={Home} />\n                <Route exact path=\"/topic/:topic_id\" component={Topic} />\n                <Route exact path=\"/user/:uname\" component={User} />\n                <Route exact path=\"/signin/\" component={Signin} />\n                <PrivateRoute exact path=\"/message/\" component={Message} />\n                <Route exact path=\"/settings/\" component={Settings} />\n                <Route exact path=\"/test/\" component={Test} />\n                <Route path=\"*\" component={NotFound} />\n              </Switch>\n            </React.Suspense>\n          </AppFrame>\n        </BrowserRouter>\n      </ThemeProvider>\n    </Provider>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}