var Io=Object.defineProperty,ko=Object.defineProperties;var Fo=Object.getOwnPropertyDescriptors;var Le=Object.getOwnPropertySymbols;var Rt=Object.prototype.hasOwnProperty,$t=Object.prototype.propertyIsEnumerable;var Tt=(e,t,r)=>t in e?Io(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,B=(e,t)=>{for(var r in t||(t={}))Rt.call(t,r)&&Tt(e,r,t[r]);if(Le)for(var r of Le(t))$t.call(t,r)&&Tt(e,r,t[r]);return e},V=(e,t)=>ko(e,Fo(t));var ae=(e,t)=>{var r={};for(var o in e)Rt.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&Le)for(var o of Le(e))t.indexOf(o)<0&&$t.call(e,o)&&(r[o]=e[o]);return r};import{f as Pe,s as Yt,o as Kt,c as de,i as fe,r as pe,g as Oe,d as Te,e as Y,_ as C,h as O,k as ye,l as oe,n as be,b as d,p as W,q as Ao,t as Lo,v as Zt,w as Jt,R as z,P as zo,T as Ne,x as ue,j as A,y as lt,z as Bo,B as jo,C as Wo,D as Qt,E as Ve,F as Uo,G as Ge,a as Vo,H as Et,I as Ho,J as nt,K as Mt,L as qo,M as Nt,N as It,O as kt,Q as Go,S as Ue,U as ct,V as Xo,u as Yo,m as Ko,W as Ft,X as Zo,Y as eo,Z as Jo,$ as Qo,a0 as At,a1 as er,a2 as tr,a3 as or,a4 as rr}from"./index.5e723353.js";import{N as nr}from"./index.4c9ba486.js";import{A as ar}from"./index.4e8fd2e6.js";import{g as ir,D as sr,a as ut,b as to,d as lr,R as cr,T as ur}from"./Render.f1e72879.js";import{f as oo,F as dr,T as Lt}from"./TextField.b78d12af.js";import{u as ro}from"./useFormControl.ee9cff0d.js";import{S as fr}from"./SwitchBase.10d93e74.js";const ki=async r=>{var o=r,{signal:e}=o,t=ae(o,["signal"]);return Pe({signal:e,method:"GET",url:"/topics",params:t})},Fi=async o=>{var n=o,{signal:e,topic_id:t}=n,r=ae(n,["signal","topic_id"]);return Pe({signal:e,method:"GET",url:`/topic/${t}`,params:r})},Ai=async r=>{var o=r,{signal:e}=o,t=ae(o,["signal"]);const f=await Pe({signal:e,method:"POST",url:"/topics",data:t}),{topic_id:n}=f,i=ae(f,["topic_id"]);if(!n)return i;const c=new Date,{auth:l}=Yt.getState();return V(B({},i),{data:[V(B({},Kt(t,"accesstoken")),{author:{loginname:l.uname,avatar_url:l.avatar},author_id:l.uid,id:n,create_at:c,last_reply_at:c,reply_count:0,visit_count:0,good:!1,top:!1})]})},Li=async r=>{var o=r,{signal:e}=o,t=ae(o,["signal"]);return await Pe({signal:e,method:"POST",url:"/topics/update",data:t})},zi=async r=>{var o=r,{signal:e}=o,t=ae(o,["signal"]);return await Pe({signal:e,method:"POST",url:"/topic_collect/collect",data:t})},Bi=async r=>{var o=r,{signal:e}=o,t=ae(o,["signal"]);return await Pe({signal:e,method:"POST",url:"/topic_collect/de_collect",data:t})},ji=async o=>{var n=o,{signal:e,topic_id:t}=n,r=ae(n,["signal","topic_id"]);const h=await Pe({signal:e,method:"POST",url:`/topic/${t}/replies`,data:r}),{reply_id:i}=h,c=ae(h,["reply_id"]);if(!i)return c;const l=new Date,{auth:f}=Yt.getState();return V(B({},c),{data:V(B({},Kt(r,"accesstoken")),{author:{loginname:f.uname,avatar_url:f.avatar},id:i,ups:[],is_uped:!1,create_at:l,reply_id:i!==t?i:null})})},Wi=async o=>{var n=o,{signal:e,reply_id:t}=n,r=ae(n,["signal","reply_id"]);return await Pe({signal:e,method:"POST",url:`/reply/${t}/ups`,data:r})};var dt={},pr=fe.exports;Object.defineProperty(dt,"__esModule",{value:!0});var at=dt.default=void 0,gr=pr(de),mr=pe,hr=(0,gr.default)((0,mr.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");at=dt.default=hr;function vr(e){return Oe("MuiDialogActions",e)}Te("MuiDialogActions",["root","spacing"]);const yr=["className","disableSpacing"],br=e=>{const{classes:t,disableSpacing:r}=e;return be({root:["root",!r&&"spacing"]},vr,t)},xr=Y("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disableSpacing&&t.spacing]}})(({ownerState:e})=>C({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!e.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})),Sr=O.exports.forwardRef(function(t,r){const o=ye({props:t,name:"MuiDialogActions"}),{className:n,disableSpacing:i=!1}=o,c=oe(o,yr),l=C({},o,{disableSpacing:i}),f=br(l);return d(xr,C({className:W(f.root,n),ownerState:l,ref:r},c))});var Dr=Sr,Xe={exports:{}},no={},wr=Ao(Lo),F={},ge={};Object.defineProperty(ge,"__esModule",{value:!0});ge.dontSetMe=Tr;ge.findInArray=Cr;ge.int=Or;ge.isFunction=_r;ge.isNum=Pr;function Cr(e,t){for(var r=0,o=e.length;r<o;r++)if(t.apply(t,[e[r],r,e]))return e[r]}function _r(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function Pr(e){return typeof e=="number"&&!isNaN(e)}function Or(e){return parseInt(e,10)}function Tr(e,t,r){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(r," - do not set this, set it on the child."))}var $e={};Object.defineProperty($e,"__esModule",{value:!0});$e.browserPrefixToKey=io;$e.browserPrefixToStyle=Rr;$e.default=void 0;$e.getPrefix=ao;var Qe=["Moz","Webkit","O","ms"];function ao(){var e,t,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window=="undefined")return"";var o=(e=window.document)===null||e===void 0||(t=e.documentElement)===null||t===void 0?void 0:t.style;if(!o||r in o)return"";for(var n=0;n<Qe.length;n++)if(io(r,Qe[n])in o)return Qe[n];return""}function io(e,t){return t?"".concat(t).concat($r(e)):e}function Rr(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e}function $r(e){for(var t="",r=!0,o=0;o<e.length;o++)r?(t+=e[o].toUpperCase(),r=!1):e[o]==="-"?r=!0:t+=e[o];return t}var Er=ao();$e.default=Er;function it(e){return it=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},it(e)}Object.defineProperty(F,"__esModule",{value:!0});F.addClassName=fo;F.addEvent=Ir;F.addUserSelectStyles=Hr;F.createCSSTransform=jr;F.createSVGTransform=Wr;F.getTouch=Ur;F.getTouchIdentifier=Vr;F.getTranslation=ft;F.innerHeight=Lr;F.innerWidth=zr;F.matchesSelector=uo;F.matchesSelectorAndParentsTo=Nr;F.offsetXYFromParent=Br;F.outerHeight=Fr;F.outerWidth=Ar;F.removeClassName=po;F.removeEvent=kr;F.removeUserSelectStyles=qr;var re=ge,zt=Mr($e);function so(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(so=function(n){return n?r:t})(e)}function Mr(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||it(e)!=="object"&&typeof e!="function")return{default:e};var r=so(t);if(r&&r.has(e))return r.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var c=n?Object.getOwnPropertyDescriptor(e,i):null;c&&(c.get||c.set)?Object.defineProperty(o,i,c):o[i]=e[i]}return o.default=e,r&&r.set(e,o),o}function Bt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,o)}return r}function lo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bt(Object(r),!0).forEach(function(o){co(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bt(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function co(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ze="";function uo(e,t){return ze||(ze=(0,re.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(r){return(0,re.isFunction)(e[r])})),(0,re.isFunction)(e[ze])?e[ze](t):!1}function Nr(e,t,r){var o=e;do{if(uo(o,t))return!0;if(o===r)return!1;o=o.parentNode}while(o);return!1}function Ir(e,t,r,o){if(!!e){var n=lo({capture:!0},o);e.addEventListener?e.addEventListener(t,r,n):e.attachEvent?e.attachEvent("on"+t,r):e["on"+t]=r}}function kr(e,t,r,o){if(!!e){var n=lo({capture:!0},o);e.removeEventListener?e.removeEventListener(t,r,n):e.detachEvent?e.detachEvent("on"+t,r):e["on"+t]=null}}function Fr(e){var t=e.clientHeight,r=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,re.int)(r.borderTopWidth),t+=(0,re.int)(r.borderBottomWidth),t}function Ar(e){var t=e.clientWidth,r=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,re.int)(r.borderLeftWidth),t+=(0,re.int)(r.borderRightWidth),t}function Lr(e){var t=e.clientHeight,r=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,re.int)(r.paddingTop),t-=(0,re.int)(r.paddingBottom),t}function zr(e){var t=e.clientWidth,r=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,re.int)(r.paddingLeft),t-=(0,re.int)(r.paddingRight),t}function Br(e,t,r){var o=t===t.ownerDocument.body,n=o?{left:0,top:0}:t.getBoundingClientRect(),i=(e.clientX+t.scrollLeft-n.left)/r,c=(e.clientY+t.scrollTop-n.top)/r;return{x:i,y:c}}function jr(e,t){var r=ft(e,t,"px");return co({},(0,zt.browserPrefixToKey)("transform",zt.default),r)}function Wr(e,t){var r=ft(e,t,"");return r}function ft(e,t,r){var o=e.x,n=e.y,i="translate(".concat(o).concat(r,",").concat(n).concat(r,")");if(t){var c="".concat(typeof t.x=="string"?t.x:t.x+r),l="".concat(typeof t.y=="string"?t.y:t.y+r);i="translate(".concat(c,", ").concat(l,")")+i}return i}function Ur(e,t){return e.targetTouches&&(0,re.findInArray)(e.targetTouches,function(r){return t===r.identifier})||e.changedTouches&&(0,re.findInArray)(e.changedTouches,function(r){return t===r.identifier})}function Vr(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function Hr(e){if(!!e){var t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(t)),e.body&&fo(e.body,"react-draggable-transparent-selection")}}function qr(e){if(!!e)try{if(e.body&&po(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{var t=(e.defaultView||window).getSelection();t&&t.type!=="Caret"&&t.removeAllRanges()}}catch{}}function fo(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function po(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}var me={};Object.defineProperty(me,"__esModule",{value:!0});me.canDragX=Yr;me.canDragY=Kr;me.createCoreData=Jr;me.createDraggableData=Qr;me.getBoundPosition=Gr;me.getControlPosition=Zr;me.snapToGrid=Xr;var te=ge,Me=F;function Gr(e,t,r){if(!e.props.bounds)return[t,r];var o=e.props.bounds;o=typeof o=="string"?o:en(o);var n=pt(e);if(typeof o=="string"){var i=n.ownerDocument,c=i.defaultView,l;if(o==="parent"?l=n.parentNode:l=i.querySelector(o),!(l instanceof c.HTMLElement))throw new Error('Bounds selector "'+o+'" could not find an element.');var f=l,h=c.getComputedStyle(n),v=c.getComputedStyle(f);o={left:-n.offsetLeft+(0,te.int)(v.paddingLeft)+(0,te.int)(h.marginLeft),top:-n.offsetTop+(0,te.int)(v.paddingTop)+(0,te.int)(h.marginTop),right:(0,Me.innerWidth)(f)-(0,Me.outerWidth)(n)-n.offsetLeft+(0,te.int)(v.paddingRight)-(0,te.int)(h.marginRight),bottom:(0,Me.innerHeight)(f)-(0,Me.outerHeight)(n)-n.offsetTop+(0,te.int)(v.paddingBottom)-(0,te.int)(h.marginBottom)}}return(0,te.isNum)(o.right)&&(t=Math.min(t,o.right)),(0,te.isNum)(o.bottom)&&(r=Math.min(r,o.bottom)),(0,te.isNum)(o.left)&&(t=Math.max(t,o.left)),(0,te.isNum)(o.top)&&(r=Math.max(r,o.top)),[t,r]}function Xr(e,t,r){var o=Math.round(t/e[0])*e[0],n=Math.round(r/e[1])*e[1];return[o,n]}function Yr(e){return e.props.axis==="both"||e.props.axis==="x"}function Kr(e){return e.props.axis==="both"||e.props.axis==="y"}function Zr(e,t,r){var o=typeof t=="number"?(0,Me.getTouch)(e,t):null;if(typeof t=="number"&&!o)return null;var n=pt(r),i=r.props.offsetParent||n.offsetParent||n.ownerDocument.body;return(0,Me.offsetXYFromParent)(o||e,i,r.props.scale)}function Jr(e,t,r){var o=e.state,n=!(0,te.isNum)(o.lastX),i=pt(e);return n?{node:i,deltaX:0,deltaY:0,lastX:t,lastY:r,x:t,y:r}:{node:i,deltaX:t-o.lastX,deltaY:r-o.lastY,lastX:o.lastX,lastY:o.lastY,x:t,y:r}}function Qr(e,t){var r=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/r,y:e.state.y+t.deltaY/r,deltaX:t.deltaX/r,deltaY:t.deltaY/r,lastX:e.state.x,lastY:e.state.y}}function en(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function pt(e){var t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}var Ye={},Ke={};Object.defineProperty(Ke,"__esModule",{value:!0});Ke.default=tn;function tn(){}function He(e){return He=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},He(e)}Object.defineProperty(Ye,"__esModule",{value:!0});Ye.default=void 0;var et=rn(O.exports),ee=gt(Jt.exports),on=gt(Zt.exports),G=F,we=me,tt=ge,Ie=gt(Ke);function gt(e){return e&&e.__esModule?e:{default:e}}function go(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(go=function(n){return n?r:t})(e)}function rn(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||He(e)!=="object"&&typeof e!="function")return{default:e};var r=go(t);if(r&&r.has(e))return r.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var c=n?Object.getOwnPropertyDescriptor(e,i):null;c&&(c.get||c.set)?Object.defineProperty(o,i,c):o[i]=e[i]}return o.default=e,r&&r.set(e,o),o}function jt(e,t){return ln(e)||sn(e,t)||an(e,t)||nn()}function nn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function an(e,t){if(!!e){if(typeof e=="string")return Wt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wt(e,t)}}function Wt(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function sn(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var o=[],n=!0,i=!1,c,l;try{for(r=r.call(e);!(n=(c=r.next()).done)&&(o.push(c.value),!(t&&o.length===t));n=!0);}catch(f){i=!0,l=f}finally{try{!n&&r.return!=null&&r.return()}finally{if(i)throw l}}return o}}function ln(e){if(Array.isArray(e))return e}function cn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ut(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function un(e,t,r){return t&&Ut(e.prototype,t),r&&Ut(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function dn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&st(e,t)}function st(e,t){return st=Object.setPrototypeOf||function(o,n){return o.__proto__=n,o},st(e,t)}function fn(e){var t=gn();return function(){var o=qe(e),n;if(t){var i=qe(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return pn(this,n)}}function pn(e,t){if(t&&(He(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X(e)}function X(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gn(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function qe(e){return qe=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},qe(e)}function ie(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ce={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},Ce=ce.mouse,Ze=function(e){dn(r,e);var t=fn(r);function r(){var o;cn(this,r);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return o=t.call.apply(t,[this].concat(i)),ie(X(o),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),ie(X(o),"mounted",!1),ie(X(o),"handleDragStart",function(l){if(o.props.onMouseDown(l),!o.props.allowAnyClick&&typeof l.button=="number"&&l.button!==0)return!1;var f=o.findDOMNode();if(!f||!f.ownerDocument||!f.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var h=f.ownerDocument;if(!(o.props.disabled||!(l.target instanceof h.defaultView.Node)||o.props.handle&&!(0,G.matchesSelectorAndParentsTo)(l.target,o.props.handle,f)||o.props.cancel&&(0,G.matchesSelectorAndParentsTo)(l.target,o.props.cancel,f))){l.type==="touchstart"&&l.preventDefault();var v=(0,G.getTouchIdentifier)(l);o.setState({touchIdentifier:v});var x=(0,we.getControlPosition)(l,v,X(o));if(x!=null){var y=x.x,_=x.y,D=(0,we.createCoreData)(X(o),y,_);(0,Ie.default)("DraggableCore: handleDragStart: %j",D),(0,Ie.default)("calling",o.props.onStart);var w=o.props.onStart(l,D);w===!1||o.mounted===!1||(o.props.enableUserSelectHack&&(0,G.addUserSelectStyles)(h),o.setState({dragging:!0,lastX:y,lastY:_}),(0,G.addEvent)(h,Ce.move,o.handleDrag),(0,G.addEvent)(h,Ce.stop,o.handleDragStop))}}}),ie(X(o),"handleDrag",function(l){var f=(0,we.getControlPosition)(l,o.state.touchIdentifier,X(o));if(f!=null){var h=f.x,v=f.y;if(Array.isArray(o.props.grid)){var x=h-o.state.lastX,y=v-o.state.lastY,_=(0,we.snapToGrid)(o.props.grid,x,y),D=jt(_,2);if(x=D[0],y=D[1],!x&&!y)return;h=o.state.lastX+x,v=o.state.lastY+y}var w=(0,we.createCoreData)(X(o),h,v);(0,Ie.default)("DraggableCore: handleDrag: %j",w);var b=o.props.onDrag(l,w);if(b===!1||o.mounted===!1){try{o.handleDragStop(new MouseEvent("mouseup"))}catch{var P=document.createEvent("MouseEvents");P.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),o.handleDragStop(P)}return}o.setState({lastX:h,lastY:v})}}),ie(X(o),"handleDragStop",function(l){if(!!o.state.dragging){var f=(0,we.getControlPosition)(l,o.state.touchIdentifier,X(o));if(f!=null){var h=f.x,v=f.y;if(Array.isArray(o.props.grid)){var x=h-o.state.lastX||0,y=v-o.state.lastY||0,_=(0,we.snapToGrid)(o.props.grid,x,y),D=jt(_,2);x=D[0],y=D[1],h=o.state.lastX+x,v=o.state.lastY+y}var w=(0,we.createCoreData)(X(o),h,v),b=o.props.onStop(l,w);if(b===!1||o.mounted===!1)return!1;var P=o.findDOMNode();P&&o.props.enableUserSelectHack&&(0,G.removeUserSelectStyles)(P.ownerDocument),(0,Ie.default)("DraggableCore: handleDragStop: %j",w),o.setState({dragging:!1,lastX:NaN,lastY:NaN}),P&&((0,Ie.default)("DraggableCore: Removing handlers"),(0,G.removeEvent)(P.ownerDocument,Ce.move,o.handleDrag),(0,G.removeEvent)(P.ownerDocument,Ce.stop,o.handleDragStop))}}}),ie(X(o),"onMouseDown",function(l){return Ce=ce.mouse,o.handleDragStart(l)}),ie(X(o),"onMouseUp",function(l){return Ce=ce.mouse,o.handleDragStop(l)}),ie(X(o),"onTouchStart",function(l){return Ce=ce.touch,o.handleDragStart(l)}),ie(X(o),"onTouchEnd",function(l){return Ce=ce.touch,o.handleDragStop(l)}),o}return un(r,[{key:"componentDidMount",value:function(){this.mounted=!0;var n=this.findDOMNode();n&&(0,G.addEvent)(n,ce.touch.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var n=this.findDOMNode();if(n){var i=n.ownerDocument;(0,G.removeEvent)(i,ce.mouse.move,this.handleDrag),(0,G.removeEvent)(i,ce.touch.move,this.handleDrag),(0,G.removeEvent)(i,ce.mouse.stop,this.handleDragStop),(0,G.removeEvent)(i,ce.touch.stop,this.handleDragStop),(0,G.removeEvent)(n,ce.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,G.removeUserSelectStyles)(i)}}},{key:"findDOMNode",value:function(){var n,i,c;return(n=this.props)!==null&&n!==void 0&&n.nodeRef?(i=this.props)===null||i===void 0||(c=i.nodeRef)===null||c===void 0?void 0:c.current:on.default.findDOMNode(this)}},{key:"render",value:function(){return et.cloneElement(et.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),r}(et.Component);Ye.default=Ze;ie(Ze,"displayName","DraggableCore");ie(Ze,"propTypes",{allowAnyClick:ee.default.bool,disabled:ee.default.bool,enableUserSelectHack:ee.default.bool,offsetParent:function(t,r){if(t[r]&&t[r].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:ee.default.arrayOf(ee.default.number),handle:ee.default.string,cancel:ee.default.string,nodeRef:ee.default.object,onStart:ee.default.func,onDrag:ee.default.func,onStop:ee.default.func,onMouseDown:ee.default.func,scale:ee.default.number,className:tt.dontSetMe,style:tt.dontSetMe,transform:tt.dontSetMe});ie(Ze,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(e){function t(a){return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},t(a)}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return h.default}}),e.default=void 0;var r=D(O.exports),o=y(Jt.exports),n=y(Zt.exports),i=y(wr),c=F,l=me,f=ge,h=y(Ye),v=y(Ke),x=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function y(a){return a&&a.__esModule?a:{default:a}}function _(a){if(typeof WeakMap!="function")return null;var u=new WeakMap,g=new WeakMap;return(_=function(p){return p?g:u})(a)}function D(a,u){if(!u&&a&&a.__esModule)return a;if(a===null||t(a)!=="object"&&typeof a!="function")return{default:a};var g=_(u);if(g&&g.has(a))return g.get(a);var s={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var S in a)if(S!=="default"&&Object.prototype.hasOwnProperty.call(a,S)){var m=p?Object.getOwnPropertyDescriptor(a,S):null;m&&(m.get||m.set)?Object.defineProperty(s,S,m):s[S]=a[S]}return s.default=a,g&&g.set(a,s),s}function w(){return w=Object.assign||function(a){for(var u=1;u<arguments.length;u++){var g=arguments[u];for(var s in g)Object.prototype.hasOwnProperty.call(g,s)&&(a[s]=g[s])}return a},w.apply(this,arguments)}function b(a,u){if(a==null)return{};var g=P(a,u),s,p;if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(a);for(p=0;p<S.length;p++)s=S[p],!(u.indexOf(s)>=0)&&(!Object.prototype.propertyIsEnumerable.call(a,s)||(g[s]=a[s]))}return g}function P(a,u){if(a==null)return{};var g={},s=Object.keys(a),p,S;for(S=0;S<s.length;S++)p=s[S],!(u.indexOf(p)>=0)&&(g[p]=a[p]);return g}function R(a,u){var g=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);u&&(s=s.filter(function(p){return Object.getOwnPropertyDescriptor(a,p).enumerable})),g.push.apply(g,s)}return g}function E(a){for(var u=1;u<arguments.length;u++){var g=arguments[u]!=null?arguments[u]:{};u%2?R(Object(g),!0).forEach(function(s){Q(a,s,g[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(g)):R(Object(g)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(g,s))})}return a}function I(a,u){return q(a)||Z(a,u)||j(a,u)||H()}function H(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j(a,u){if(!!a){if(typeof a=="string")return M(a,u);var g=Object.prototype.toString.call(a).slice(8,-1);if(g==="Object"&&a.constructor&&(g=a.constructor.name),g==="Map"||g==="Set")return Array.from(a);if(g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return M(a,u)}}function M(a,u){(u==null||u>a.length)&&(u=a.length);for(var g=0,s=new Array(u);g<u;g++)s[g]=a[g];return s}function Z(a,u){var g=a==null?null:typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(g!=null){var s=[],p=!0,S=!1,m,T;try{for(g=g.call(a);!(p=(m=g.next()).done)&&(s.push(m.value),!(u&&s.length===u));p=!0);}catch($){S=!0,T=$}finally{try{!p&&g.return!=null&&g.return()}finally{if(S)throw T}}return s}}function q(a){if(Array.isArray(a))return a}function L(a,u){if(!(a instanceof u))throw new TypeError("Cannot call a class as a function")}function K(a,u){for(var g=0;g<u.length;g++){var s=u[g];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(a,s.key,s)}}function ne(a,u,g){return u&&K(a.prototype,u),g&&K(a,g),Object.defineProperty(a,"prototype",{writable:!1}),a}function se(a,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(u&&u.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),u&&J(a,u)}function J(a,u){return J=Object.setPrototypeOf||function(s,p){return s.__proto__=p,s},J(a,u)}function N(a){var u=Ee();return function(){var s=xe(a),p;if(u){var S=xe(this).constructor;p=Reflect.construct(s,arguments,S)}else p=s.apply(this,arguments);return U(this,p)}}function U(a,u){if(u&&(t(u)==="object"||typeof u=="function"))return u;if(u!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k(a)}function k(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function Ee(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function xe(a){return xe=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)},xe(a)}function Q(a,u,g){return u in a?Object.defineProperty(a,u,{value:g,enumerable:!0,configurable:!0,writable:!0}):a[u]=g,a}var Se=function(a){se(g,a);var u=N(g);function g(s){var p;return L(this,g),p=u.call(this,s),Q(k(p),"onDragStart",function(S,m){(0,v.default)("Draggable: onDragStart: %j",m);var T=p.props.onStart(S,(0,l.createDraggableData)(k(p),m));if(T===!1)return!1;p.setState({dragging:!0,dragged:!0})}),Q(k(p),"onDrag",function(S,m){if(!p.state.dragging)return!1;(0,v.default)("Draggable: onDrag: %j",m);var T=(0,l.createDraggableData)(k(p),m),$={x:T.x,y:T.y};if(p.props.bounds){var he=$.x,le=$.y;$.x+=p.state.slackX,$.y+=p.state.slackY;var De=(0,l.getBoundPosition)(k(p),$.x,$.y),ve=I(De,2),Je=ve[0],Fe=ve[1];$.x=Je,$.y=Fe,$.slackX=p.state.slackX+(he-$.x),$.slackY=p.state.slackY+(le-$.y),T.x=$.x,T.y=$.y,T.deltaX=$.x-p.state.x,T.deltaY=$.y-p.state.y}var Ae=p.props.onDrag(S,T);if(Ae===!1)return!1;p.setState($)}),Q(k(p),"onDragStop",function(S,m){if(!p.state.dragging)return!1;var T=p.props.onStop(S,(0,l.createDraggableData)(k(p),m));if(T===!1)return!1;(0,v.default)("Draggable: onDragStop: %j",m);var $={dragging:!1,slackX:0,slackY:0},he=Boolean(p.props.position);if(he){var le=p.props.position,De=le.x,ve=le.y;$.x=De,$.y=ve}p.setState($)}),p.state={dragging:!1,dragged:!1,x:s.position?s.position.x:s.defaultPosition.x,y:s.position?s.position.y:s.defaultPosition.y,prevPropsPosition:E({},s.position),slackX:0,slackY:0,isElementSVG:!1},s.position&&!(s.onDrag||s.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),p}return ne(g,[{key:"componentDidMount",value:function(){typeof window.SVGElement!="undefined"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var p,S,m;return(p=(S=this.props)===null||S===void 0||(m=S.nodeRef)===null||m===void 0?void 0:m.current)!==null&&p!==void 0?p:n.default.findDOMNode(this)}},{key:"render",value:function(){var p,S=this.props;S.axis,S.bounds;var m=S.children,T=S.defaultPosition,$=S.defaultClassName,he=S.defaultClassNameDragging,le=S.defaultClassNameDragged,De=S.position,ve=S.positionOffset;S.scale;var Je=b(S,x),Fe={},Ae=null,Mo=Boolean(De),_t=!Mo||this.state.dragging,Pt=De||T,Ot={x:(0,l.canDragX)(this)&&_t?this.state.x:Pt.x,y:(0,l.canDragY)(this)&&_t?this.state.y:Pt.y};this.state.isElementSVG?Ae=(0,c.createSVGTransform)(Ot,ve):Fe=(0,c.createCSSTransform)(Ot,ve);var No=(0,i.default)(m.props.className||"",$,(p={},Q(p,he,this.state.dragging),Q(p,le,this.state.dragged),p));return r.createElement(h.default,w({},Je,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),r.cloneElement(r.Children.only(m),{className:No,style:E(E({},m.props.style),Fe),transform:Ae}))}}],[{key:"getDerivedStateFromProps",value:function(p,S){var m=p.position,T=S.prevPropsPosition;return m&&(!T||m.x!==T.x||m.y!==T.y)?((0,v.default)("Draggable: getDerivedStateFromProps %j",{position:m,prevPropsPosition:T}),{x:m.x,y:m.y,prevPropsPosition:E({},m)}):null}}]),g}(r.Component);e.default=Se,Q(Se,"displayName","Draggable"),Q(Se,"propTypes",E(E({},h.default.propTypes),{},{axis:o.default.oneOf(["both","x","y","none"]),bounds:o.default.oneOfType([o.default.shape({left:o.default.number,right:o.default.number,top:o.default.number,bottom:o.default.number}),o.default.string,o.default.oneOf([!1])]),defaultClassName:o.default.string,defaultClassNameDragging:o.default.string,defaultClassNameDragged:o.default.string,defaultPosition:o.default.shape({x:o.default.number,y:o.default.number}),positionOffset:o.default.shape({x:o.default.oneOfType([o.default.number,o.default.string]),y:o.default.oneOfType([o.default.number,o.default.string])}),position:o.default.shape({x:o.default.number,y:o.default.number}),className:f.dontSetMe,style:f.dontSetMe,transform:f.dontSetMe})),Q(Se,"defaultProps",E(E({},h.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))})(no);var mo=no,ho=mo.default,mn=mo.DraggableCore;Xe.exports=ho;Xe.exports.default=ho;Xe.exports.DraggableCore=mn;var hn=Xe.exports;const ot={x:0,y:0},vn=e=>{const{editorHeaderId:t,open:r,fullScreen:o,isWidthUpSm:n}=Ra(),i=z.useRef(ot),[c,l]=z.useState(ot),[f,h]=z.useState(!1),v=(x,y)=>{i.current={x:y.x,y:y.y},l({x:y.x,y:y.y})};return z.useEffect(()=>{h(!n||Boolean(o))},[n,o]),z.useEffect(()=>{r&&l(f?ot:i.current)},[r,f]),d(hn,{handle:`#${t}`,cancel:'[class*="MuiDialogContent-root"]',position:c,disabled:f,onDrag:v,children:d(zo,B({},e))})};var mt={},yn=fe.exports;Object.defineProperty(mt,"__esModule",{value:!0});var vo=mt.default=void 0,bn=yn(de),xn=pe,Sn=(0,bn.default)((0,xn.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack");vo=mt.default=Sn;var ht={},Dn=fe.exports;Object.defineProperty(ht,"__esModule",{value:!0});var yo=ht.default=void 0,wn=Dn(de),Cn=pe,_n=(0,wn.default)((0,Cn.jsx)("path",{d:"m10 17 5-5-5-5v10z"}),"ArrowRight");yo=ht.default=_n;var vt={},Pn=fe.exports;Object.defineProperty(vt,"__esModule",{value:!0});var bo=vt.default=void 0,On=Pn(de),Tn=pe,Rn=(0,On.default)((0,Tn.jsx)("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"}),"Fullscreen");bo=vt.default=Rn;var yt={},$n=fe.exports;Object.defineProperty(yt,"__esModule",{value:!0});var xo=yt.default=void 0,En=$n(de),Mn=pe,Nn=(0,En.default)((0,Mn.jsx)("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"}),"FullscreenExit");xo=yt.default=Nn;var bt={},In=fe.exports;Object.defineProperty(bt,"__esModule",{value:!0});var So=bt.default=void 0,kn=In(de),Fn=pe,An=(0,kn.default)((0,Fn.jsx)("path",{d:"M12 11.55C9.64 9.35 6.48 8 3 8v11c3.48 0 6.64 1.35 9 3.55 2.36-2.19 5.52-3.55 9-3.55V8c-3.48 0-6.64 1.35-9 3.55zM12 8c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3z"}),"LocalLibrary");So=bt.default=An;var xt={},Ln=fe.exports;Object.defineProperty(xt,"__esModule",{value:!0});var Do=xt.default=void 0,zn=Ln(de),Bn=pe,jn=(0,zn.default)((0,Bn.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert");Do=xt.default=jn;const Wn=["className","id"],Un=e=>{const{classes:t}=e;return be({root:["root"]},ir,t)},Vn=Y(Ne,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),Hn=O.exports.forwardRef(function(t,r){const o=ye({props:t,name:"MuiDialogTitle"}),{className:n,id:i}=o,c=oe(o,Wn),l=o,f=Un(l),{titleId:h=i}=O.exports.useContext(sr);return d(Vn,C({component:"h2",className:W(f.root,n),ownerState:l,ref:r,variant:"h6",id:h},c))});var wo=Hn;function qn(e){return Oe("MuiFormControlLabel",e)}const Gn=Te("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error"]);var Be=Gn;const Xn=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","value"],Yn=e=>{const{classes:t,disabled:r,labelPlacement:o,error:n}=e,i={root:["root",r&&"disabled",`labelPlacement${ue(o)}`,n&&"error"],label:["label",r&&"disabled"]};return be(i,qn,t)},Kn=Y("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${Be.label}`]:t.label},t.root,t[`labelPlacement${ue(r.labelPlacement)}`]]}})(({theme:e,ownerState:t})=>C({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${Be.disabled}`]:{cursor:"default"}},t.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},t.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},t.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${Be.label}`]:{[`&.${Be.disabled}`]:{color:(e.vars||e).palette.text.disabled}}})),Zn=O.exports.forwardRef(function(t,r){const o=ye({props:t,name:"MuiFormControlLabel"}),{className:n,componentsProps:i={},control:c,disabled:l,disableTypography:f,label:h,labelPlacement:v="end"}=o,x=oe(o,Xn),y=ro();let _=l;typeof _=="undefined"&&typeof c.props.disabled!="undefined"&&(_=c.props.disabled),typeof _=="undefined"&&y&&(_=y.disabled);const D={disabled:_};["checked","name","onChange","value","inputRef"].forEach(E=>{typeof c.props[E]=="undefined"&&typeof o[E]!="undefined"&&(D[E]=o[E])});const w=oo({props:o,muiFormControl:y,states:["error"]}),b=C({},o,{disabled:_,labelPlacement:v,error:w.error}),P=Yn(b);let R=h;return R!=null&&R.type!==Ne&&!f&&(R=d(Ne,C({component:"span",className:P.label},i.typography,{children:R}))),A(Kn,C({className:W(P.root,n),ownerState:b,ref:r},x,{children:[O.exports.cloneElement(c,D),R]}))});var Jn=Zn,Qn=lt(d("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),ea=lt(d("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked");const ta=Y("span")({position:"relative",display:"flex"}),oa=Y(Qn)({transform:"scale(1)"}),ra=Y(ea)(({theme:e,ownerState:t})=>C({left:0,position:"absolute",transform:"scale(0)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeIn,duration:e.transitions.duration.shortest})},t.checked&&{transform:"scale(1)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.shortest})}));function Co(e){const{checked:t=!1,classes:r={},fontSize:o}=e,n=C({},e,{checked:t});return A(ta,{className:r.root,ownerState:n,children:[d(oa,{fontSize:o,className:r.background,ownerState:n}),d(ra,{fontSize:o,className:r.dot,ownerState:n})]})}const na=O.exports.createContext(void 0);var _o=na;function aa(){return O.exports.useContext(_o)}function ia(e){return Oe("MuiRadio",e)}const sa=Te("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary"]);var Vt=sa;const la=["checked","checkedIcon","color","icon","name","onChange","size"],ca=e=>{const{classes:t,color:r}=e,o={root:["root",`color${ue(r)}`]};return C({},t,be(o,ia,t))},ua=Y(fr,{shouldForwardProp:e=>Bo(e)||e==="classes",name:"MuiRadio",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`color${ue(r.color)}`]]}})(({theme:e,ownerState:t})=>C({color:(e.vars||e).palette.text.secondary,"&:hover":{backgroundColor:e.vars?`rgba(${t.color==="default"?e.vars.palette.action.activeChannel:e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:jo(t.color==="default"?e.palette.action.active:e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${Vt.checked}`]:{color:(e.vars||e).palette[t.color].main}},{[`&.${Vt.disabled}`]:{color:(e.vars||e).palette.action.disabled}}));function da(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}const Ht=d(Co,{checked:!0}),qt=d(Co,{}),fa=O.exports.forwardRef(function(t,r){var o,n;const i=ye({props:t,name:"MuiRadio"}),{checked:c,checkedIcon:l=Ht,color:f="primary",icon:h=qt,name:v,onChange:x,size:y="medium"}=i,_=oe(i,la),D=C({},i,{color:f,size:y}),w=ca(D),b=aa();let P=c;const R=Wo(x,b&&b.onChange);let E=v;return b&&(typeof P=="undefined"&&(P=da(b.value,i.value)),typeof E=="undefined"&&(E=b.name)),d(ua,C({type:"radio",icon:O.exports.cloneElement(h,{fontSize:(o=qt.props.fontSize)!=null?o:y}),checkedIcon:O.exports.cloneElement(l,{fontSize:(n=Ht.props.fontSize)!=null?n:y}),ownerState:D,classes:w,name:E,checked:P,onChange:R,ref:r},_))});var pa=fa;function ga(e){return Oe("MuiFormGroup",e)}Te("MuiFormGroup",["root","row","error"]);const ma=["className","row"],ha=e=>{const{classes:t,row:r,error:o}=e;return be({root:["root",r&&"row",o&&"error"]},ga,t)},va=Y("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.row&&t.row]}})(({ownerState:e})=>C({display:"flex",flexDirection:"column",flexWrap:"wrap"},e.row&&{flexDirection:"row"})),ya=O.exports.forwardRef(function(t,r){const o=ye({props:t,name:"MuiFormGroup"}),{className:n,row:i=!1}=o,c=oe(o,ma),l=ro(),f=oo({props:o,muiFormControl:l,states:["error"]}),h=C({},o,{row:i,error:f.error}),v=ha(h);return d(va,C({className:W(v.root,n),ownerState:h,ref:r},c))});var ba=ya;const xa=["actions","children","defaultValue","name","onChange","value"],Sa=O.exports.forwardRef(function(t,r){const{actions:o,children:n,defaultValue:i,name:c,onChange:l,value:f}=t,h=oe(t,xa),v=O.exports.useRef(null),[x,y]=Qt({controlled:f,default:i,name:"RadioGroup"});O.exports.useImperativeHandle(o,()=>({focus:()=>{let b=v.current.querySelector("input:not(:disabled):checked");b||(b=v.current.querySelector("input:not(:disabled)")),b&&b.focus()}}),[]);const _=Ve(r,v),D=b=>{y(b.target.value),l&&l(b,b.target.value)},w=Uo(c);return d(_o.Provider,{value:{name:w,onChange:D,value:x},children:d(ba,C({role:"radiogroup",ref:_},h,{children:n}))})});var Da=Sa;const wa=Ge(e=>({dragEnabled:{cursor:"move"},color:{color:e.palette.mode==="light"?"#0366d6":"#1858a0","& svg":{color:e.palette.mode==="light"?"rgba(0,0,0,.58)":"rgba(230,230,230,.58)"}},text:{padding:0,paddingRight:2},title:{paddingTop:20,paddingBottom:0,"& h6":{fontSize:"1.125rem"}},back:{marginLeft:-14},content:{paddingBottom:20}})),Ca=({className:e,editorId:t,editorHeaderId:r,draggable:o,action:n,topicTab:i,fullScreen:c,disabled:l,onSetTopicTab:f,onPreview:h,onFullScreen:v})=>{const x=wa(),{uname:y,avatar:_}=Vo(q=>q.auth),[D,w]=z.useState(null),[b,P]=z.useState(null),R=()=>{P(null)},E=()=>{l||P(document.getElementById(t))},I=(q,L)=>{f(L),R()},H=q=>{w(q.currentTarget)},j=()=>{w(null)},M=()=>{j(),h()},Z=()=>{j(),v()};return A(z.Fragment,{children:[A("div",{id:r,className:W("flex editor-header",e,{[x.dragEnabled]:o&&!c}),children:[d(ar,{className:"avatar",name:y,image:_}),A("div",{className:"flex box",children:[A(Ne,{className:"flex editor-uname",children:[y||"~unknown~",d(yo,{color:"inherit"})]}),/(create)|(update)/.test(n)&&d(Ne,{className:"flex editor-tpoic-type",children:A(Ne,{className:W("flex",x.color,{disabled:l}),component:"span",onClick:E,children:[i?Et[i].name:"\u8BF7\u9009\u62E9\u5206\u7C7B",d(Ho,{tab:i})]})})]}),d("div",{className:"editor-header-actions",children:d(nt,{size:"large",onClick:H,children:d(Do,{})})})]}),d(Mt,{open:Boolean(D),anchorEl:D,anchorPosition:{top:30,left:30},anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},onClose:j,children:A(qo,{children:[A(Nt,{button:!0,onClick:M,children:[d(It,{children:d(So,{color:"inherit"})}),d(kt,{className:x.text,primary:"\u9884\u89C8"})]}),d(Go,{smDown:!0,children:A(Nt,{button:!0,onClick:Z,children:[d(It,{children:c?d(xo,{color:"inherit"}):d(bo,{color:"inherit"})}),d(kt,{className:x.text,primary:"\u5168\u5C4F"})]})})]})}),A(Mt,{open:Boolean(b),anchorEl:b,anchorOrigin:{vertical:"center",horizontal:"center"},transformOrigin:{vertical:"center",horizontal:"center"},onClose:R,children:[A(wo,{className:x.title,children:[d(nt,{className:x.back,size:"large",onClick:R,children:d(vo,{})}),"\u8BF7\u9009\u62E9\u4E00\u4E2A\u5206\u7C7B"]}),d(ut,{className:x.content,children:d(dr,{children:d(Da,{name:"topicType",value:i,onChange:I,children:Ue.map(q=>d(Jn,{value:q,label:Et[q].name,control:d(pa,{})},q))})})})]})]})},_a=Ge(e=>({root:{paddingBottom:36},title:{paddingTop:14,paddingBottom:14,borderBottomWidth:1,borderBottomStyle:"dashed",borderBottomColor:e.palette.mode==="light"?"rgba(0,0,0,.1)":"rgba(210,210,210,.1)",[e.breakpoints.up("sm")]:{paddingLeft:36,paddingRight:36}},close:{position:"absolute",top:6,right:20},content:{paddingTop:"16px !important",paddingBottom:16,[e.breakpoints.up("sm")]:{paddingLeft:36,paddingRight:36}}})),Pa=({open:e=!1,content:t="",onClose:r})=>{const o=_a(),n=ct("down","sm"),i=()=>{r()};return A(to,{classes:{paper:o.root},open:e,fullWidth:!0,maxWidth:"md",fullScreen:n,onClose:i,children:[A(wo,{className:o.title,children:["\u9884\u89C8",d(nt,{className:o.close,size:"large",onClick:i,children:d(lr,{})})]}),d(ut,{className:o.content,children:d(cr,{markdownSource:t})})]})},Oa=Ge(()=>({header:{padding:"24px 0 14px 24px"},title:{margin:0,padding:"0 24px 18px"},dialogContent:{paddingTop:0,paddingBottom:0},content:{margin:0,"&>div":{padding:0,height:230,"& textarea":{height:"100% !important",overflowY:"auto !important"}},"&.simple>div":{height:276},"&.fullScreen>div":{flex:1,height:"auto"}},actions:{margin:0,padding:"10px 24px"},button:{margin:0,minWidth:110},doit:{marginLeft:16},cancel:{marginLeft:0}})),Ta=z.forwardRef(function(t,r){return d(Xo,B({ref:r,direction:"up"},t))}),Po=z.createContext({editorHeaderId:"editor-header",open:!1,fullScreen:!1,isWidthUpSm:!1}),Ra=()=>z.useContext(Po),$a={validation:{title:{max:100,min:5},content:{max:null,min:3}},isOK:!1,changed:!1,preview:!1,fullScreen:!1,disabled:!1},Ea=r=>{var o=r,{draggable:e}=o,t=ae(o,["draggable"]);const n=Oa(),i=Yo(),c=ct("up","sm"),[l,f]=z.useState($a),{validation:h,isOK:v,changed:x,preview:y,fullScreen:_,disabled:D}=l,{open:w,action:b,title:P,content:R,topicTab:E,onChange:I,onSubmit:H,onClose:j}=t,[M,Z]=z.useState({}),[q,L]=z.useState({open:!1,status:"info",message:""}),K=z.useRef(null),ne=z.useRef(null),se=new Date().getTime(),J=`editor-${se}`,N=`editor-header-${se}`,U=()=>{["create","update"].includes(b)?K.current&&K.current.focus():ne.current&&ne.current.focus()},k=s=>{I==null||I({topicTab:s})},Ee=s=>{const p=s.target.name;let S=s.target.value;p==="title"&&(S=S.replace(/\n/g,"")),I==null||I({[p]:S})},xe=()=>{!R||R.trim().length<h.content.min?L(s=>V(B({},s),{open:!0,status:"info",message:"\u592A\u77ED\u4E86\u54DF\u3002"})):f(s=>V(B({},s),{preview:!s.preview}))},Q=()=>{f(s=>V(B({},s),{preview:!s.preview}))},Se=()=>{f(s=>V(B({},s),{fullScreen:!s.fullScreen}))},a=()=>{if(/(reply)/.test(b))return!0;const s=Ue.includes(E);return s||L(p=>V(B({},p),{open:!0,status:"error",message:"\u8BF7\u9009\u62E9\u4E00\u4E2A\u4E3B\u9898\u5206\u7C7B"})),s},u=async()=>{!v||!a()||(f(s=>V(B({},s),{disabled:!0})),await(H==null?void 0:H()),f(s=>V(B({},s),{disabled:!1})))},g=()=>{D||j==null||j()};return z.useEffect(()=>{w&&Z({title:P,content:R})},[w]),z.useEffect(()=>{if(!w||E)return;let s=Ko(i);(!s||Ue.indexOf(s)===-1)&&(s=Ue[0]),I==null||I({topicTab:s})},[w,i]),z.useEffect(()=>{if(!w)return;const s=()=>/(reply)/.test(b)?!0:typeof P=="string"?P.length>=h.title.min&&P.length<=h.title.max:!1,p=()=>typeof R=="string"?R.length>=h.content.min:!1,S=s()&&p(),m=P!==M.title||R!==M.content;f(T=>V(B({},T),{isOK:S,changed:m}))},[w,b,P,R,h]),A(Po.Provider,{value:{editorHeaderId:N,open:w,fullScreen:_,isWidthUpSm:c},children:[A(to,V(B({PaperProps:{id:J},open:w,maxWidth:"sm",fullWidth:!0,fullScreen:!c||_,keepMounted:!c,TransitionProps:{onEntered:U},TransitionComponent:Ta},e?{PaperComponent:vn}:{}),{onClose:g,children:[d(Ca,{className:n.header,editorId:J,editorHeaderId:N,draggable:e,action:b,topicTab:E,fullScreen:_,disabled:D,onSetTopicTab:k,onPreview:xe,onFullScreen:Se}),["create","update"].includes(b)&&d(Lt,{className:n.title,inputRef:K,name:"title",value:P,multiline:!0,minRows:"1",maxRows:"3",fullWidth:!0,margin:"normal",variant:"standard",placeholder:"\u6807\u9898...",disabled:D,onChange:Ee}),d(ut,{className:W("flex",n.dialogContent),children:d(Lt,{className:W(n.content,{simple:b==="reply",fullScreen:_}),inputRef:ne,name:"content",value:R,multiline:!0,fullWidth:!0,margin:"normal",variant:"standard",placeholder:"\u5199\u4E9B\u4EC0\u4E48\u5462\uFF1F",disabled:D,onChange:Ee})}),A(Dr,{className:n.actions,children:[d(Ft,{className:W(n.button,n.cancel),color:"inherit",size:"large",disabled:D,onClick:g,children:"\u53D6\u6D88"}),d(Ft,{className:W(n.button,n.doit),color:"primary",size:"large",variant:"contained",disabled:!v||D||b==="update"&&!x,onClick:u,children:b==="create"?"\u53D1\u5E03":b==="update"?"\u66F4\u65B0":"\u56DE\u590D"})]})]})),d(Pa,{open:y,content:R,onClose:Q}),d(nr,V(B({},q),{onClose:()=>{L(s=>V(B({},s),{open:!1}))}}))]})},Ui=e=>d(Ea,V(B({},e),{draggable:!0}));var St={},Ma=fe.exports;Object.defineProperty(St,"__esModule",{value:!0});var Oo=St.default=void 0,Na=Ma(de),Ia=pe,ka=(0,Na.default)((0,Ia.jsx)("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}),"Favorite");Oo=St.default=ka;var Dt={},Fa=fe.exports;Object.defineProperty(Dt,"__esModule",{value:!0});var To=Dt.default=void 0,Aa=Fa(de),La=pe,za=(0,Aa.default)((0,La.jsx)("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"}),"FavoriteBorder");To=Dt.default=za;var wt={},Ba=fe.exports;Object.defineProperty(wt,"__esModule",{value:!0});var Ro=wt.default=void 0,ja=Ba(de),Wa=pe,Ua=(0,ja.default)((0,Wa.jsx)("path",{d:"M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4-.01-18z"}),"ModeComment");Ro=wt.default=Ua;function Va(e){return Oe("MuiFab",e)}const Ha=Te("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]);var Gt=Ha;const qa=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],Ga=e=>{const{color:t,variant:r,classes:o,size:n}=e,i={root:["root",r,`size${ue(n)}`,t==="inherit"?"colorInherit":t]};return be(i,Va,o)},Xa=Y(Zo,{name:"MuiFab",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`size${ue(r.size)}`],r.color==="inherit"&&t.colorInherit,t[ue(r.size)],t[r.color]]}})(({theme:e,ownerState:t})=>{var r,o;return C({},e.typography.button,{minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(e.vars||e).zIndex.fab,boxShadow:(e.vars||e).shadows[6],"&:active":{boxShadow:(e.vars||e).shadows[12]},color:e.vars?e.vars.palette.text.primary:(r=(o=e.palette).getContrastText)==null?void 0:r.call(o,e.palette.grey[300]),backgroundColor:(e.vars||e).palette.grey[300],"&:hover":{backgroundColor:(e.vars||e).palette.grey.A100,"@media (hover: none)":{backgroundColor:(e.vars||e).palette.grey[300]},textDecoration:"none"},[`&.${Gt.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]},[`&.${Gt.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}},t.size==="small"&&{width:40,height:40},t.size==="medium"&&{width:48,height:48},t.variant==="extended"&&{borderRadius:48/2,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},t.variant==="extended"&&t.size==="small"&&{width:"auto",padding:"0 8px",borderRadius:34/2,minWidth:34,height:34},t.variant==="extended"&&t.size==="medium"&&{width:"auto",padding:"0 16px",borderRadius:40/2,minWidth:40,height:40},t.color==="inherit"&&{color:"inherit"})},({theme:e,ownerState:t})=>C({},t.color!=="inherit"&&t.color!=="default"&&(e.vars||e).palette[t.color]!=null&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main,"&:hover":{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}})),Ya=O.exports.forwardRef(function(t,r){const o=ye({props:t,name:"MuiFab"}),{children:n,className:i,color:c="default",component:l="button",disabled:f=!1,disableFocusRipple:h=!1,focusVisibleClassName:v,size:x="large",variant:y="circular"}=o,_=oe(o,qa),D=C({},o,{color:c,component:l,disabled:f,disableFocusRipple:h,size:x,variant:y}),w=Ga(D);return d(Xa,C({className:W(w.root,i),component:l,disabled:f,focusRipple:!h,focusVisibleClassName:W(w.focusVisible,v),ownerState:D,ref:r},_,{children:n}))});var Ct=Ya;const Ka=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],Za={entering:{transform:"none"},entered:{transform:"none"}},Ja=O.exports.forwardRef(function(t,r){const o=eo(),n={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{addEndListener:i,appear:c=!0,children:l,easing:f,in:h,onEnter:v,onEntered:x,onEntering:y,onExit:_,onExited:D,onExiting:w,style:b,timeout:P=n,TransitionComponent:R=Jo}=t,E=oe(t,Ka),I=O.exports.useRef(null),H=Ve(l.ref,r),j=Ve(I,H),M=N=>U=>{if(N){const k=I.current;U===void 0?N(k):N(k,U)}},Z=M(y),q=M((N,U)=>{Qo(N);const k=At({style:b,timeout:P,easing:f},{mode:"enter"});N.style.webkitTransition=o.transitions.create("transform",k),N.style.transition=o.transitions.create("transform",k),v&&v(N,U)}),L=M(x),K=M(w),ne=M(N=>{const U=At({style:b,timeout:P,easing:f},{mode:"exit"});N.style.webkitTransition=o.transitions.create("transform",U),N.style.transition=o.transitions.create("transform",U),_&&_(N)}),se=M(D);return d(R,C({appear:c,in:h,nodeRef:I,onEnter:q,onEntered:L,onEntering:Z,onExit:ne,onExited:se,onExiting:K,addEndListener:N=>{i&&i(I.current,N)},timeout:P},E,{children:(N,U)=>O.exports.cloneElement(l,C({style:C({transform:"scale(0)",visibility:N==="exited"&&!h?"hidden":void 0},Za[N],b,l.props.style),ref:j},U))}))});var $o=Ja;function Qa(e){return Oe("MuiSpeedDial",e)}const ei=Te("MuiSpeedDial",["root","fab","directionUp","directionDown","directionLeft","directionRight","actions","actionsClosed"]);var je=ei;const ti=["ref"],oi=["ariaLabel","FabProps","children","className","direction","hidden","icon","onBlur","onClose","onFocus","onKeyDown","onMouseEnter","onMouseLeave","onOpen","open","openIcon","TransitionComponent","transitionDuration","TransitionProps"],ri=["ref"],ni=e=>{const{classes:t,open:r,direction:o}=e,n={root:["root",`direction${ue(o)}`],fab:["fab"],actions:["actions",!r&&"actionsClosed"]};return be(n,Qa,t)};function ke(e){if(e==="up"||e==="down")return"vertical";if(e==="right"||e==="left")return"horizontal"}function ai(e,t,r){return e<t?t:e>r?r:e}const _e=32,We=16,ii=Y("div",{name:"MuiSpeedDial",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`direction${ue(r.direction)}`]]}})(({theme:e,ownerState:t})=>C({zIndex:(e.vars||e).zIndex.speedDial,display:"flex",alignItems:"center",pointerEvents:"none"},t.direction==="up"&&{flexDirection:"column-reverse",[`& .${je.actions}`]:{flexDirection:"column-reverse",marginBottom:-_e,paddingBottom:We+_e}},t.direction==="down"&&{flexDirection:"column",[`& .${je.actions}`]:{flexDirection:"column",marginTop:-_e,paddingTop:We+_e}},t.direction==="left"&&{flexDirection:"row-reverse",[`& .${je.actions}`]:{flexDirection:"row-reverse",marginRight:-_e,paddingRight:We+_e}},t.direction==="right"&&{flexDirection:"row",[`& .${je.actions}`]:{flexDirection:"row",marginLeft:-_e,paddingLeft:We+_e}})),si=Y(Ct,{name:"MuiSpeedDial",slot:"Fab",overridesResolver:(e,t)=>t.fab})(()=>({pointerEvents:"auto"})),li=Y("div",{name:"MuiSpeedDial",slot:"Actions",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.actions,!r.open&&t.actionsClosed]}})(({ownerState:e})=>C({display:"flex",pointerEvents:"auto"},!e.open&&{transition:"top 0s linear 0.2s",pointerEvents:"none"})),ci=O.exports.forwardRef(function(t,r){const o=ye({props:t,name:"MuiSpeedDial"}),n=eo(),i={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{ariaLabel:c,FabProps:{ref:l}={},children:f,className:h,direction:v="up",hidden:x=!1,icon:y,onBlur:_,onClose:D,onFocus:w,onKeyDown:b,onMouseEnter:P,onMouseLeave:R,onOpen:E,open:I,TransitionComponent:H=$o,transitionDuration:j=i,TransitionProps:M}=o,Z=oe(o.FabProps,ti),q=oe(o,oi),[L,K]=Qt({controlled:I,default:!1,name:"SpeedDial",state:"open"}),ne=C({},o,{open:L,direction:v}),se=ni(ne),J=O.exports.useRef();O.exports.useEffect(()=>()=>{clearTimeout(J.current)},[]);const N=O.exports.useRef(0),U=O.exports.useRef(),k=O.exports.useRef([]);k.current=[k.current[0]];const Ee=O.exports.useCallback(m=>{k.current[0]=m},[]),xe=Ve(l,Ee),Q=(m,T)=>$=>{k.current[m+1]=$,T&&T($)},Se=m=>{b&&b(m);const T=m.key.replace("Arrow","").toLowerCase(),{current:$=T}=U;if(m.key==="Escape"){K(!1),k.current[0].focus(),D&&D(m,"escapeKeyDown");return}if(ke(T)===ke($)&&ke(T)!==void 0){m.preventDefault();const he=T===$?1:-1,le=ai(N.current+he,0,k.current.length-1);k.current[le].focus(),N.current=le,U.current=$}};O.exports.useEffect(()=>{L||(N.current=0,U.current=void 0)},[L]);const a=m=>{m.type==="mouseleave"&&R&&R(m),m.type==="blur"&&_&&_(m),clearTimeout(J.current),m.type==="blur"?J.current=setTimeout(()=>{K(!1),D&&D(m,"blur")}):(K(!1),D&&D(m,"mouseLeave"))},u=m=>{Z.onClick&&Z.onClick(m),clearTimeout(J.current),L?(K(!1),D&&D(m,"toggle")):(K(!0),E&&E(m,"toggle"))},g=m=>{m.type==="mouseenter"&&P&&P(m),m.type==="focus"&&w&&w(m),clearTimeout(J.current),L||(J.current=setTimeout(()=>{K(!0),E&&E(m,{focus:"focus",mouseenter:"mouseEnter"}[m.type])}))},s=c.replace(/^[^a-z]+|[^\w:.-]+/gi,""),p=O.exports.Children.toArray(f).filter(m=>O.exports.isValidElement(m)),S=p.map((m,T)=>{const $=m.props,{FabProps:{ref:he}={},tooltipPlacement:le}=$,De=oe($.FabProps,ri),ve=le||(ke(v)==="vertical"?"left":"top");return O.exports.cloneElement(m,{FabProps:C({},De,{ref:Q(T,he)}),delay:30*(L?T:p.length-T),open:L,tooltipPlacement:ve,id:`${s}-action-${T}`})});return A(ii,C({className:W(se.root,h),ref:r,role:"presentation",onKeyDown:Se,onBlur:a,onFocus:g,onMouseEnter:g,onMouseLeave:a,ownerState:ne},q,{children:[d(H,C({in:!x,timeout:j,unmountOnExit:!0},M,{children:d(si,C({color:"primary","aria-label":c,"aria-haspopup":"true","aria-expanded":L,"aria-controls":`${s}-actions`},Z,{onClick:u,className:W(se.fab,Z.className),ref:xe,ownerState:ne,children:O.exports.isValidElement(y)&&er(y,["SpeedDialIcon"])?O.exports.cloneElement(y,{open:L}):y}))})),d(li,{id:`${s}-actions`,role:"menu","aria-orientation":ke(v),className:W(se.actions,!L&&se.actionsClosed),ownerState:ne,children:S})]}))});var ui=ci;function di(e){return Oe("MuiSpeedDialAction",e)}const fi=Te("MuiSpeedDialAction",["fab","fabClosed","staticTooltip","staticTooltipClosed","staticTooltipLabel","tooltipPlacementLeft","tooltipPlacementRight"]);var pi=fi;const gi=["className","delay","FabProps","icon","id","open","TooltipClasses","tooltipOpen","tooltipPlacement","tooltipTitle"],mi=e=>{const{open:t,tooltipPlacement:r,classes:o}=e,n={fab:["fab",!t&&"fabClosed"],staticTooltip:["staticTooltip",`tooltipPlacement${ue(r)}`,!t&&"staticTooltipClosed"],staticTooltipLabel:["staticTooltipLabel"]};return be(n,di,o)},hi=Y(Ct,{name:"MuiSpeedDialAction",slot:"Fab",skipVariantsResolver:!1,overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.fab,!r.open&&t.fabClosed]}})(({theme:e,ownerState:t})=>C({margin:8,color:e.palette.text.secondary,backgroundColor:e.palette.background.paper,"&:hover":{backgroundColor:tr(e.palette.background.paper,.15)},transition:`${e.transitions.create("transform",{duration:e.transitions.duration.shorter})}, opacity 0.8s`,opacity:1},!t.open&&{opacity:0,transform:"scale(0)"})),vi=Y("span",{name:"MuiSpeedDialAction",slot:"StaticTooltip",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.staticTooltip,!r.open&&t.staticTooltipClosed,t[`tooltipPlacement${ue(r.tooltipPlacement)}`]]}})(({theme:e,ownerState:t})=>({position:"relative",display:"flex",alignItems:"center",[`& .${pi.staticTooltipLabel}`]:C({transition:e.transitions.create(["transform","opacity"],{duration:e.transitions.duration.shorter}),opacity:1},!t.open&&{opacity:0,transform:"scale(0.5)"},t.tooltipPlacement==="left"&&{transformOrigin:"100% 50%",right:"100%",marginRight:8},t.tooltipPlacement==="right"&&{transformOrigin:"0% 50%",left:"100%",marginLeft:8})})),yi=Y("span",{name:"MuiSpeedDialAction",slot:"StaticTooltipLabel",overridesResolver:(e,t)=>t.staticTooltipLabel})(({theme:e})=>C({position:"absolute"},e.typography.body1,{backgroundColor:e.palette.background.paper,borderRadius:e.shape.borderRadius,boxShadow:e.shadows[1],color:e.palette.text.secondary,padding:"4px 16px",wordBreak:"keep-all"})),bi=O.exports.forwardRef(function(t,r){const o=ye({props:t,name:"MuiSpeedDialAction"}),{className:n,delay:i=0,FabProps:c={},icon:l,id:f,open:h,TooltipClasses:v,tooltipOpen:x=!1,tooltipPlacement:y="left",tooltipTitle:_}=o,D=oe(o,gi),w=C({},o,{tooltipPlacement:y}),b=mi(w),[P,R]=O.exports.useState(x),E=()=>{R(!1)},I=()=>{R(!0)},H={transitionDelay:`${i}ms`},j=d(hi,C({size:"small",className:W(b.fab,n),tabIndex:-1,role:"menuitem",ownerState:w},c,{style:C({},H,c.style),children:l}));return x?A(vi,C({id:f,ref:r,className:b.staticTooltip,ownerState:w},D,{children:[d(yi,{style:H,id:`${f}-label`,className:b.staticTooltipLabel,ownerState:w,children:_}),O.exports.cloneElement(j,{"aria-labelledby":`${f}-label`})]})):(!h&&P&&R(!1),d(ur,C({id:f,ref:r,title:_,placement:y,onClose:E,onOpen:I,open:h&&P,classes:v},D,{children:j})))});var rt=bi,xi=lt(d("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");function Si(e){return Oe("MuiSpeedDialIcon",e)}const Di=Te("MuiSpeedDialIcon",["root","icon","iconOpen","iconWithOpenIconOpen","openIcon","openIconOpen"]);var Re=Di;const wi=["className","icon","open","openIcon"],Ci=e=>{const{classes:t,open:r,openIcon:o}=e;return be({root:["root"],icon:["icon",r&&"iconOpen",o&&r&&"iconWithOpenIconOpen"],openIcon:["openIcon",r&&"openIconOpen"]},Si,t)},_i=Y("span",{name:"MuiSpeedDialIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${Re.icon}`]:t.icon},{[`& .${Re.icon}`]:r.open&&t.iconOpen},{[`& .${Re.icon}`]:r.open&&r.openIcon&&t.iconWithOpenIconOpen},{[`& .${Re.openIcon}`]:t.openIcon},{[`& .${Re.openIcon}`]:r.open&&t.openIconOpen},t.root]}})(({theme:e,ownerState:t})=>({height:24,[`& .${Re.icon}`]:C({transition:e.transitions.create(["transform","opacity"],{duration:e.transitions.duration.short})},t.open&&C({transform:"rotate(45deg)"},t.openIcon&&{opacity:0})),[`& .${Re.openIcon}`]:C({position:"absolute",transition:e.transitions.create(["transform","opacity"],{duration:e.transitions.duration.short}),opacity:0,transform:"rotate(-45deg)"},t.open&&{transform:"rotate(0deg)",opacity:1})})),Eo=O.exports.forwardRef(function(t,r){const o=ye({props:t,name:"MuiSpeedDialIcon"}),{className:n,icon:i,openIcon:c}=o,l=oe(o,wi),f=o,h=Ci(f);function v(x,y){return O.exports.isValidElement(x)?O.exports.cloneElement(x,{className:y}):x}return A(_i,C({className:W(h.root,n),ref:r,ownerState:f},l,{children:[c?v(c,h.openIcon):null,i?v(i,h.icon):d(xi,{className:h.icon})]}))});Eo.muiName="SpeedDialIcon";var Xt=Eo;const Pi=Ge(e=>({appbar:{top:"auto",bottom:0,boxShadow:"none"},wrapper:{position:"relative"},action:{position:"absolute",right:e.spacing(3.5),bottom:e.spacing(4)},fabMoveUp:{transform:"translate3d(0, -56px, 0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.enteringScreen,easing:e.transitions.easing.easeOut})},fabMoveDown:{transform:"translate3d(0, 0, 0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.leavingScreen,easing:e.transitions.easing.sharp})}})),Vi=e=>{const{visible:t,single:r=!1,create:o=!1,favorite:n=!1,notificationOpen:i=!1,onCreate:c,onUpdate:l,onReply:f,onShare:h,onFavorite:v}=e,x=Pi(),y=ct("up","sm"),[_,D]=z.useState(!1),w=()=>{t&&D(!0)},b=()=>{D(!1)},P=M=>{c==null||c(M)},R=M=>{_&&o&&E(M),D(Z=>!Z)},E=M=>{l==null||l(M)},I=M=>{b(),f==null||f(M)},H=M=>{b(),h==null||h(M)},j=M=>{b(),v==null||v(M)};return d(or,{className:x.appbar,component:"div",color:"default",children:d("div",{className:x.wrapper,children:r?d($o,{in:t,unmountOnExit:!0,children:d(Ct,{className:x.action,color:"secondary",onClick:P,children:d(at,{})})}):A(ui,{className:W(x.action,{[x.fabMoveUp]:!y&&i,[x.fabMoveDown]:!y&&!i}),open:_,hidden:!t,color:"secondary",ariaLabel:"topic-actions",icon:o?d(Xt,{openIcon:d(at,{})}):d(Xt,{}),FabProps:{onClick:R},onOpen:w,onClose:b,children:[d(rt,{tooltipTitle:"",icon:d(Ro,{}),FabProps:{onClick:I}}),d(rt,{tooltipTitle:"",icon:n?d(Oo,{}):d(To,{}),FabProps:{onClick:j}}),d(rt,{tooltipTitle:"",icon:d(rr,{}),FabProps:{onClick:H}})]})})})};export{Ui as D,Vi as T,Fi as a,So as b,Ai as c,Do as d,Bi as e,ki as f,zi as g,Li as h,ji as r,Wi as u};
