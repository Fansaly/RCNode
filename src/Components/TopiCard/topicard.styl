.topicard
  margin-top 20px
  position relative
  &.profile
    position relative
    margin-top 0
    box-shadow none
    &:before
      position absolute
      content ''
      top 0
      left 2px
      right 2px
      height 1px
      background-color rgba(0,0,0,.06)
    &:first-child:before
      background-color transparent
  &:first-child
    margin-top 0
  .topicard-header-wrapper
    position relative
    .topicard-header
      padding 20px 24px 4px
      ~/.profile ^[1..-1]
        max-height 40px
      .avatar
        position absolute
        z-index 3
        top 50%
        left 22px
        width 48px
        height 48px
        border 2px solid rgba(0,185,255,.62)
        box-shadow 0 0 4px rgba(0,0,0,.3)
        transform translateY(-50%)
        ~/.profile ^[1..-1]
          width 46px
          height 46px
      .topicard-title
        padding-left 48px
        .title
          position relative
          margin 0 40px
          min-width 0
          flex 1
          align-items center
          justify-content space-between
          ~/.profile ^[1..-1]
            margin 0 !important
            padding-left 10px
          button
            padding 8px
          .type
            position absolute
            top 50%
            right 100%
            transform translateY(-50%)
          h5
            font-size 16px
            color rgba(0,0,0,.92)
            overflow hidden
            white-space nowrap
            text-overflow ellipsis
            // display -webkit-box
            // display -moz-box
            // -webkit-line-clamp 1
            // -moz-line-clamp 1
            // -webkit-box-orient vertical
            // -moz-box-orient horizontal
            a
              color inherit
              text-decoration none
              &:hover
                text-decoration underline
              &:visited
                color #666
          .action
            position absolute
            top 50%
            left 100%
            margin-left 8px
            padding 0
            transform translateY(-50%)
      .content
        padding-top 6px
    .state-wrapper
      position relative
      z-index 1
      padding 0 24px 15px
      &:before
        content ''
        position absolute
        left 20px
        right 20px
        bottom 0
        height 1px
        opacity 0
        background-color rgba(0,0,0,.1)
        transition opacity .46s ease
        ~/.expanded ^[1..-1]
          opacity 1
      .state
        padding-left 48px
        font-size 14px
        color rgba(0,0,0,.5)
        >div
          padding-left 30px
          &
          ~/.profile ^[1..-1]
            &:first-child
              padding-left 10px
        button
          margin 0 2px
          padding 4px
          color inherit
          color rgba(0,0,0,.4)
          margin-bottom -1px
          svg
            font-size 18px
        .author
          a
            display block
            font-weight 700
            color inherit
            overflow hidden
            text-overflow ellipsis
            text-decoration none
            white-space nowrap
            &:hover
              text-decoration underline
        .create
        .count
          &
          div
            display flex
            flex-wrap nowrap
            align-items center
            white-space nowrap
        .count
          .visit
            button
              svg
                font-size 19px
  .context
    @media (min-width 600px)
      padding-left 20px
      padding-right 20px
    p
      max-height 4.5em
      overflow hidden
      white-space normal
      text-overflow ellipsis
      display -webkit-box
      display -moz-box
      -webkit-line-clamp 3
      -moz-line-clamp 3
      -webkit-box-orient vertical
      -moz-box-orient horizontal

@media (max-width 768px)
  .topicard
    margin-top 16px
    .topicard-header-wrapper
      .topicard-header
        padding-left 20px
        padding-right 20px
        .avatar
          left 18px
        .topicard-title
          .title
            button
              padding 6px
              svg
                font-size 22px
            .action
              button
                background-color rgba(0,0,0,.018)
      .state-wrapper
        padding-left 20px
        padding-right 20px
        &:before
          left 16px
          right 16px
        .state
          font-size 12px
          .create
            button
              margin-right 0

@media (max-width 600px)
  .topicard
    &.profile
      &:before
        background-color rgba(0,0,0,.03)

@media (max-width 500px)
  .topicard
    .topicard-header-wrapper
      .topicard-header
        padding-left 14px
        padding-right 14px
        .avatar
          left 12px
        .topicard-title
          .title
            margin 0 34px
      .state-wrapper
        padding-left 14px
        padding-right 14px
        &:before
          left 10px
          right 10px
        .state
          >div:first-child
            padding-left 6px

@media (max-width 430px)
  .topicard
    .topicard-header-wrapper
      .topicard-header
        .topicard-title
          .title
            button
              padding 6px
              svg
                font-size 22px
            .action
              margin-left 2px
              button
                background-color rgba(0,0,0,.008)

@media (max-width 420px)
  .topicard
    .topicard-header-wrapper
      .topicard-header
        .topicard-title
          .title
            margin 0 30px
      .state-wrapper
        .state
          >div:first-child
            padding-left 3px

@media (max-width 359px)
  .topicard
    .topicard-header-wrapper
      .state-wrapper
        .state
          .count
            button
              display none
            div
              position relative
              padding-left 14px
              &:before
                position absolute
                top 50%
                left 6px
                height 12px
                width 1px
                content ''
                background-color rgba(0,0,0,.4)
                transform rotate(15deg) translateY(-50%)
              &:first-child
                padding-left 0
                &:before
                  width 0
                  height 0
                  transform none

.topicard
  opacity 0
  transform translateY(8px)
  animation topicard 1.08s cubic-bezier(0.19,1,0.22,1) forwards
  &.profile
    background-color transparent
    transform translateX(30px)
    animation-name topicard-simple
    animation-duration .9s

for $i in 1..30
  .topicard:nth-of-type({$i})
    animation-delay .068s * ($i - 1)
    &.profile:nth-of-type({$i})
      animation-delay .105s * ($i - 1)

@keyframes topicard
  0%
    opacity 0
    transform translateY(8px)
  64%
    opacity 1
  100%
    opacity 1
    transform none

@keyframes topicard-simple
  0%
    opacity 0
    transform translateX(30px)
  64%
    opacity 1
  100%
    opacity 1
    transform none
